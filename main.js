const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Root-BEk_FvZh.js","./AlbumListLoad-CuRZqde4.js","./AlbumListLoad-BqIW2vem.css","./PageFilters-CAA3es-j.js","./PageFilters-DV2Ss3Be.css","./PlaylistLoad-s-m_LmCK.js","./Playlist-D0RUAqCd.js","./Playlist-BPzHnHT7.css","./PlaylistLoad-DkY2VDB5.css","./SongListLoad.vue_vue_type_script_setup_true_lang-ued5vxdc.js","./SongList-CS5UNNxW.js","./SongList-Dvb31Vxg.css","./Root-Od7uzn54.css","./Detail-Bidn9Aoo.js","./Detail-Cyu4qbUR.css","./Root-S9rTENzT.js","./ArtistListLoad-rprDXiNw.js","./Artist-BIr_NNlw.js","./Artist-BfIh-g8U.css","./ArtistListLoad-Dr8yS6Ye.css","./Detail-DRS5TM68.js","./MVListLoad-ipvMWn-s.js","./MV-CFoEru0e.js","./MV-CMrVorn0.css","./MVListLoad-DvThydpJ.css","./Detail-Chh1S0Z0.css","./Root-SEeET2nS.js","./Book-B6D2BRh1.js","./Book-0BtMrIBy.css","./Root-qIUM3rmh.css","./List-DQCbHJoS.js","./BookListLoad-DGbXSFvl.js","./BookListLoad-BaFMEiyJ.css","./List-BFXA-mfR.css","./Detail-DCinx1DW.js","./GepuList-FBCSWGlx.js","./GepuList-BtOIM30Q.css","./Detail-Da3E0o2B.css","./Root-CzRKVhjg.js","./Root-BnqoQJN1.css","./Root-Du_UvPCV.js","./Root-DAxEnKJ3.css","./Detail-ZbbepL5A.js","./Detail-DJ4wXpI7.css","./Edit-CpU3gu37.js","./uploadApi-Oj1uT-ct.js","./Edit-CmRcEE-g.css","./Info-CwPQpaPf.js","./Info-DLOe5_oj.css","./Password-B88Mc4wI.js","./Password-BD_dospL.css","./Email-DMI16FMs.js","./Email-BDY0NXcQ.css","./Qa-C_2ZI7QX.js","./Qa-CW4K0Mik.css","./Root-D1JGDlsL.js","./Root-L-8vXnXF.css","./Root-DPh1me5I.js","./Root-BbwGmCHP.css","./Detail-CttkMYsx.js","./Detail-D94xQNPi.css","./Create-Dgj_PRba.js","./Create-DvhRvsQi.css","./Root-D5rBt74E.js","./Root-5ApZufkQ.css","./Root-BAj-vWee.js","./Root-wUEMRsky.css","./Root-utty-f4w.js","./Root-DRndDbu8.css","./Rank-DnOmPEKS.js","./Rank-BO6Boi9z.css","./Hot-BZ8KQAwh.js","./Hot-msw16Piy.css","./Random-DMLwA7ZA.js","./Random-qgFFSyVN.css","./Daily-C7VlzzZ2.js","./Daily-INnrgu8p.css"])))=>i.map(i=>d[i]);
(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function s(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(i){if(i.ep)return;i.ep=!0;const l=s(i);fetch(i.href,l)}})();class PromiseManager{_waitTask=[];get length(){return this._waitTask.length}push(n,s){this._waitTask.push({resolve:n,reject:s})}resolve(n){for(let s of this._waitTask)try{s.resolve(n)}catch{}this._waitTask=[]}reject(n){for(let s of this._waitTask)try{s.reject(n)}catch{}this._waitTask=[]}}function delayTask(e,n){let s=0;function o(){clearTimeout(s)}return{run(...i){o(),s=setTimeout(()=>{e(...i)},n)},cancel(){o()}}}function packTask(e,n=0){const s=new PromiseManager;return function(...o){return new Promise((i,l)=>{s.push(i,l),s.length==1&&setTimeout(async()=>{try{let c=await e(...o);s.resolve(c)}catch(c){s.reject(c)}},n)})}}function sleep(e){return new Promise(n=>{setTimeout(()=>{n(!0)},e)})}var dist={},HttpApi={},impl={},HttpAjaxClient={},HttpBody={},hasRequiredHttpBody;function requireHttpBody(){if(hasRequiredHttpBody)return HttpBody;hasRequiredHttpBody=1,Object.defineProperty(HttpBody,"__esModule",{value:!0}),HttpBody.HttpForm=HttpBody.HttpJson=HttpBody.HttpBody=void 0;let e=class{_content;_contentType;constructor(i,l="text/plain"){this._content=i,this._contentType=l}get content(){return this._content}get contentType(){return this._contentType}toString(){return this.content.toString()}};HttpBody.HttpBody=e;class n extends e{constructor(i){super(i,"application/json")}toString(){return JSON.stringify(this.content)}}HttpBody.HttpJson=n;class s extends e{constructor(i){super(i,"application/x-www-form-urlencoded")}toString(){return s.encode(this.content)}static encode(i){return s.encodeObj(i).join("&")}static encodeObj(i,l=[],c=""){return typeof i=="object"?i instanceof Array?s.encodeArray(i,l,c):s.encodeMap(i,l,c):s.encodeValue(i,l,c)}static encodeArray(i,l,c){for(let u=0;u<i.length;u++)s.encodeObj(i[u],l,`${c}[${u}]`);return l}static encodeMap(i,l,c){for(let u in i)s.encodeObj(i[u],l,c?`${c}.${u}`:u);return l}static encodeValue(i,l,c){return l.push(`${c}=${i}`),l}}return HttpBody.HttpForm=s,HttpBody}var HttpClient={},hasRequiredHttpClient;function requireHttpClient(){if(hasRequiredHttpClient)return HttpClient;hasRequiredHttpClient=1,Object.defineProperty(HttpClient,"__esModule",{value:!0});const e=requireHttpBody();let n=class{_getHandles={};releaseHandles(o,i,l){let c=this._getHandles[o];delete this._getHandles[o];for(let u of c)i?u.reject(i):u.resolve(l)}request0(o,i,l){throw new Error("该方法必须由子类实现")}request(o,i,l){return o=o.toUpperCase(),l.query&&(i+=(i.indexOf("?")==-1?"?":"&")+e.HttpForm.encode(l.query)),new Promise(async(c,u)=>{if(o=="GET"||o=="JSONP")if(this._getHandles[i]){this._getHandles[i].push({resolve:c,reject:u});return}else this._getHandles[i]=[{resolve:c,reject:u}];try{let d=await this.request0(o,i,l);o=="GET"||o=="JSONP"?this.releaseHandles(i,void 0,d):c(d)}catch(d){o=="GET"||o=="JSONP"?this.releaseHandles(i,d):u(d)}})}jsonp(o,i,l){return this.request("jsonp",o,{query:i,jsonpCallback:l})}get(o,i,l){return this.request("get",o,{query:i,headers:l})}post(o,i,l,c){return this.request("post",o,{body:i,query:l,headers:c})}text(o){return new e.HttpBody(o)}json(o){return new e.HttpJson(o)}form(o){return new e.HttpForm(o)}file(o,i,l){throw new Error("该方法必须由子类实现")}fileContent(o,i,l){throw new Error("该方法必须由子类实现")}};return HttpClient.default=n,HttpClient}var hasRequiredHttpAjaxClient;function requireHttpAjaxClient(){if(hasRequiredHttpAjaxClient)return HttpAjaxClient;hasRequiredHttpAjaxClient=1,Object.defineProperty(HttpAjaxClient,"__esModule",{value:!0});const e=requireHttpBody(),n=requireHttpClient();function s(c){let u={},d=c.trim().split(/[\r\n]+/);for(let v of d){let b=v.split(": ");u[b[0]]=b[1]}return u}let o=0,i=class extends n.default{doJsonp(u,d){const v="jcb"+o++;return u=u+(u.indexOf("?")==-1?"?":"&")+`${d}=${v}`,new Promise(b=>{let P=document.createElement("script");P.src=u,window[v]=V=>{delete window[v],document.getElementsByTagName("head")[0].removeChild(P),b({status:200,body:V,headers:{}})},document.getElementsByTagName("head")[0].appendChild(P)})}request0(u,d,{headers:v,body:b,jsonpCallback:P}){return u=="JSONP"&&P?this.doJsonp(d,P):new Promise((V,F)=>{let q=new XMLHttpRequest;q.onreadystatechange=function(){q.readyState===4&&V({status:q.status,body:q.response,headers:s(q.getAllResponseHeaders())})},q.onerror=function(ee){console.error(ee),F(ee)},q.ontimeout=function(){q.abort(),F(new Error("请求超时"))},q.timeout=6e4,q.open(u,d,!0);let Q="";b&&(b instanceof l||(Q=b.toString(),v=Object.assign({"Content-Type":b.contentType},v))),v&&Object.keys(v).forEach(ee=>{q.setRequestHeader(ee,v[ee])}),b instanceof l?q.send(b.form):q.send(b?Q:void 0)})}file(u,d,v="application/octet-stream"){return new l(u,d,v)}fileContent(u,d,v="application/octet-stream"){return new l(u,d,v)}};HttpAjaxClient.default=i;class l extends e.HttpBody{form;constructor(u,d,v){super(u,v),this.form=new FormData,this.form.append(u,d)}}return HttpAjaxClient}var hasRequiredImpl;function requireImpl(){if(hasRequiredImpl)return impl;hasRequiredImpl=1,Object.defineProperty(impl,"__esModule",{value:!0});const HttpAjaxClient_1=requireHttpAjaxClient(),isBrowser=function(){try{return window.document,!0}catch{return!1}},HttpClient=isBrowser()?HttpAjaxClient_1.default:eval('require("./HttpNodeClient").default');return impl.default=HttpClient,impl}var hasRequiredHttpApi;function requireHttpApi(){if(hasRequiredHttpApi)return HttpApi;hasRequiredHttpApi=1,Object.defineProperty(HttpApi,"__esModule",{value:!0});const e=requireImpl(),n=new e.default;let s=class{domain;constructor(i=""){this.domain=i}preRequest(i){return i}async postRequest({status:i,body:l,headers:c},u){if(i>=200&&i<=204){const d=c["content-type"].toLowerCase();return/application\/json/.test(d)&&(l=JSON.parse(l)),l}else{if(i>=301&&i<=304&&c.location)return await this.get(c.location);throw new Error(`[http: ${i}] `+u+`
`+l)}}async request(i,l,c){/^https?:\/\//i.test(l)||(l=this.domain+l),c=this.preRequest(c);let u=await n.request(i,l,c);return await this.postRequest(u,l)}jsonp(i,l,c){return this.request("jsonp",i,{query:l,jsonpCallback:c})}get(i,l,c){return this.request("get",i,{query:l,headers:c})}post(i,l,c,u){return this.request("post",i,{query:c,body:l,headers:u})}put(i,l,c,u){return this.request("put",i,{query:c,body:l,headers:u})}patch(i,l,c,u){return this.request("patch",i,{query:c,body:l,headers:u})}delete(i,l,c){return this.request("delete",i,{query:l,headers:c})}static text(i){return n.text(i)}static json(i){return n.json(i)}static form(i){return n.form(i)}static file(i,l,c){return n.file(i,l,c)}static fileContent(i,l,c){return n.fileContent(i,l,c)}};return HttpApi.default=s,HttpApi}var hasRequiredDist;function requireDist(){if(hasRequiredDist)return dist;hasRequiredDist=1,Object.defineProperty(dist,"__esModule",{value:!0}),dist.HttpApi=void 0;const e=requireHttpApi();dist.HttpApi=e.default;const n=requireImpl();return dist.default=n.default,dist}var distExports=requireDist();const base={appId:"fuyinshige",device:"web",deviceId:"",version:"5.1.7",sdkVersion:"",dev:!1},config=Object.assign({},base);class BaseApi extends distExports.HttpApi{static catchError=n=>{};static token="";static apiDomain="";static cacheVersion=0;static upgradeCacheVersion(){BaseApi.cacheVersion++,localStorage.setItem("cacheVersion",BaseApi.cacheVersion+"")}async request(n,s,o){let i=n.toLowerCase()=="get"?3:1;for(;i-- >0;)try{return await super.request(n,BaseApi.apiDomain+this.domain+s,o)}catch(l){if(i>0)await sleep(2e3);else throw l}}}class BaseAppApi extends BaseApi{preRequest(n){return BaseApi.token&&(n.headers=Object.assign({token:BaseApi.token},n.headers)),n.query=Object.assign({},n.query,{_app:config.appId,_device:config.device,_version:config.version,_deviceId:config.deviceId,_cvr:BaseApi.cacheVersion}),n.body&&(n.body=distExports.HttpApi.json(n.body)),n}async postRequest(n,s){let o=await super.postRequest(n,s);if(o.code==0)return o.data;throw o.msg!="Token错误"&&BaseApi.catchError(o.msg),new Error(o.msg)}}const IDS_SLICE=20;function sliceRequest(e){return async function(n,...s){let o=n.slice(),i={};for(;o.length>0;){let l=o.splice(0,IDS_SLICE),c=await e(l,...s);for(let u of c)i[u.id]=u}return n.map(l=>i[l]).filter(l=>l)}}function makeMap(e){const n=Object.create(null);for(const s of e.split(","))n[s]=1;return s=>s in n}const EMPTY_OBJ={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,isOn=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),isModelListener=e=>e.startsWith("onUpdate:"),extend=Object.assign,remove=(e,n)=>{const s=e.indexOf(n);s>-1&&e.splice(s,1)},hasOwnProperty$1=Object.prototype.hasOwnProperty,hasOwn=(e,n)=>hasOwnProperty$1.call(e,n),isArray$1=Array.isArray,isMap=e=>toTypeString(e)==="[object Map]",isSet=e=>toTypeString(e)==="[object Set]",isDate=e=>toTypeString(e)==="[object Date]",isFunction=e=>typeof e=="function",isString=e=>typeof e=="string",isSymbol=e=>typeof e=="symbol",isObject=e=>e!==null&&typeof e=="object",isPromise=e=>(isObject(e)||isFunction(e))&&isFunction(e.then)&&isFunction(e.catch),objectToString=Object.prototype.toString,toTypeString=e=>objectToString.call(e),toRawType=e=>toTypeString(e).slice(8,-1),isPlainObject=e=>toTypeString(e)==="[object Object]",isIntegerKey=e=>isString(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=e=>{const n=Object.create(null);return(s=>n[s]||(n[s]=e(s)))},camelizeRE=/-\w/g,camelize=cacheStringFunction(e=>e.replace(camelizeRE,n=>n.slice(1).toUpperCase())),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(e=>e.replace(hyphenateRE,"-$1").toLowerCase()),capitalize=cacheStringFunction(e=>e.charAt(0).toUpperCase()+e.slice(1)),toHandlerKey=cacheStringFunction(e=>e?`on${capitalize(e)}`:""),hasChanged=(e,n)=>!Object.is(e,n),invokeArrayFns=(e,...n)=>{for(let s=0;s<e.length;s++)e[s](...n)},def=(e,n,s,o=!1)=>{Object.defineProperty(e,n,{configurable:!0,enumerable:!1,writable:o,value:s})},looseToNumber=e=>{const n=parseFloat(e);return isNaN(n)?e:n},toNumber=e=>{const n=isString(e)?Number(e):NaN;return isNaN(n)?e:n};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function normalizeStyle(e){if(isArray$1(e)){const n={};for(let s=0;s<e.length;s++){const o=e[s],i=isString(o)?parseStringStyle(o):normalizeStyle(o);if(i)for(const l in i)n[l]=i[l]}return n}else if(isString(e)||isObject(e))return e}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:([^]+)/,styleCommentRE=/\/\*[^]*?\*\//g;function parseStringStyle(e){const n={};return e.replace(styleCommentRE,"").split(listDelimiterRE).forEach(s=>{if(s){const o=s.split(propertyDelimiterRE);o.length>1&&(n[o[0].trim()]=o[1].trim())}}),n}function normalizeClass(e){let n="";if(isString(e))n=e;else if(isArray$1(e))for(let s=0;s<e.length;s++){const o=normalizeClass(e[s]);o&&(n+=o+" ")}else if(isObject(e))for(const s in e)e[s]&&(n+=s+" ");return n.trim()}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(e){return!!e||e===""}function looseCompareArrays(e,n){if(e.length!==n.length)return!1;let s=!0;for(let o=0;s&&o<e.length;o++)s=looseEqual(e[o],n[o]);return s}function looseEqual(e,n){if(e===n)return!0;let s=isDate(e),o=isDate(n);if(s||o)return s&&o?e.getTime()===n.getTime():!1;if(s=isSymbol(e),o=isSymbol(n),s||o)return e===n;if(s=isArray$1(e),o=isArray$1(n),s||o)return s&&o?looseCompareArrays(e,n):!1;if(s=isObject(e),o=isObject(n),s||o){if(!s||!o)return!1;const i=Object.keys(e).length,l=Object.keys(n).length;if(i!==l)return!1;for(const c in e){const u=e.hasOwnProperty(c),d=n.hasOwnProperty(c);if(u&&!d||!u&&d||!looseEqual(e[c],n[c]))return!1}}return String(e)===String(n)}function looseIndexOf(e,n){return e.findIndex(s=>looseEqual(s,n))}const isRef$1=e=>!!(e&&e.__v_isRef===!0),toDisplayString=e=>isString(e)?e:e==null?"":isArray$1(e)||isObject(e)&&(e.toString===objectToString||!isFunction(e.toString))?isRef$1(e)?toDisplayString(e.value):JSON.stringify(e,replacer,2):String(e),replacer=(e,n)=>isRef$1(n)?replacer(e,n.value):isMap(n)?{[`Map(${n.size})`]:[...n.entries()].reduce((s,[o,i],l)=>(s[stringifySymbol(o,l)+" =>"]=i,s),{})}:isSet(n)?{[`Set(${n.size})`]:[...n.values()].map(s=>stringifySymbol(s))}:isSymbol(n)?stringifySymbol(n):isObject(n)&&!isArray$1(n)&&!isPlainObject(n)?String(n):n,stringifySymbol=(e,n="")=>{var s;return isSymbol(e)?`Symbol(${(s=e.description)!=null?s:n})`:e};let activeEffectScope;class EffectScope{constructor(n=!1){this.detached=n,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=activeEffectScope,!n&&activeEffectScope&&(this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let n,s;if(this.scopes)for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].pause();for(n=0,s=this.effects.length;n<s;n++)this.effects[n].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let n,s;if(this.scopes)for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].resume();for(n=0,s=this.effects.length;n<s;n++)this.effects[n].resume()}}run(n){if(this._active){const s=activeEffectScope;try{return activeEffectScope=this,n()}finally{activeEffectScope=s}}}on(){++this._on===1&&(this.prevScope=activeEffectScope,activeEffectScope=this)}off(){this._on>0&&--this._on===0&&(activeEffectScope=this.prevScope,this.prevScope=void 0)}stop(n){if(this._active){this._active=!1;let s,o;for(s=0,o=this.effects.length;s<o;s++)this.effects[s].stop();for(this.effects.length=0,s=0,o=this.cleanups.length;s<o;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,o=this.scopes.length;s<o;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!n){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function getCurrentScope(){return activeEffectScope}let activeSub;const pausedQueueEffects=new WeakSet;class ReactiveEffect{constructor(n){this.fn=n,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,activeEffectScope&&activeEffectScope.active&&activeEffectScope.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,pausedQueueEffects.has(this)&&(pausedQueueEffects.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||batch(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,cleanupEffect(this),prepareDeps(this);const n=activeSub,s=shouldTrack;activeSub=this,shouldTrack=!0;try{return this.fn()}finally{cleanupDeps(this),activeSub=n,shouldTrack=s,this.flags&=-3}}stop(){if(this.flags&1){for(let n=this.deps;n;n=n.nextDep)removeSub(n);this.deps=this.depsTail=void 0,cleanupEffect(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?pausedQueueEffects.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){isDirty(this)&&this.run()}get dirty(){return isDirty(this)}}let batchDepth=0,batchedSub,batchedComputed;function batch(e,n=!1){if(e.flags|=8,n){e.next=batchedComputed,batchedComputed=e;return}e.next=batchedSub,batchedSub=e}function startBatch(){batchDepth++}function endBatch(){if(--batchDepth>0)return;if(batchedComputed){let n=batchedComputed;for(batchedComputed=void 0;n;){const s=n.next;n.next=void 0,n.flags&=-9,n=s}}let e;for(;batchedSub;){let n=batchedSub;for(batchedSub=void 0;n;){const s=n.next;if(n.next=void 0,n.flags&=-9,n.flags&1)try{n.trigger()}catch(o){e||(e=o)}n=s}}if(e)throw e}function prepareDeps(e){for(let n=e.deps;n;n=n.nextDep)n.version=-1,n.prevActiveLink=n.dep.activeLink,n.dep.activeLink=n}function cleanupDeps(e){let n,s=e.depsTail,o=s;for(;o;){const i=o.prevDep;o.version===-1?(o===s&&(s=i),removeSub(o),removeDep(o)):n=o,o.dep.activeLink=o.prevActiveLink,o.prevActiveLink=void 0,o=i}e.deps=n,e.depsTail=s}function isDirty(e){for(let n=e.deps;n;n=n.nextDep)if(n.dep.version!==n.version||n.dep.computed&&(refreshComputed(n.dep.computed)||n.dep.version!==n.version))return!0;return!!e._dirty}function refreshComputed(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===globalVersion)||(e.globalVersion=globalVersion,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!isDirty(e))))return;e.flags|=2;const n=e.dep,s=activeSub,o=shouldTrack;activeSub=e,shouldTrack=!0;try{prepareDeps(e);const i=e.fn(e._value);(n.version===0||hasChanged(i,e._value))&&(e.flags|=128,e._value=i,n.version++)}catch(i){throw n.version++,i}finally{activeSub=s,shouldTrack=o,cleanupDeps(e),e.flags&=-3}}function removeSub(e,n=!1){const{dep:s,prevSub:o,nextSub:i}=e;if(o&&(o.nextSub=i,e.prevSub=void 0),i&&(i.prevSub=o,e.nextSub=void 0),s.subs===e&&(s.subs=o,!o&&s.computed)){s.computed.flags&=-5;for(let l=s.computed.deps;l;l=l.nextDep)removeSub(l,!0)}!n&&!--s.sc&&s.map&&s.map.delete(s.key)}function removeDep(e){const{prevDep:n,nextDep:s}=e;n&&(n.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=n,e.nextDep=void 0)}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const e=trackStack.pop();shouldTrack=e===void 0?!0:e}function cleanupEffect(e){const{cleanup:n}=e;if(e.cleanup=void 0,n){const s=activeSub;activeSub=void 0;try{n()}finally{activeSub=s}}}let globalVersion=0;class Link{constructor(n,s){this.sub=n,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Dep{constructor(n){this.computed=n,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(n){if(!activeSub||!shouldTrack||activeSub===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==activeSub)s=this.activeLink=new Link(activeSub,this),activeSub.deps?(s.prevDep=activeSub.depsTail,activeSub.depsTail.nextDep=s,activeSub.depsTail=s):activeSub.deps=activeSub.depsTail=s,addSub(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const o=s.nextDep;o.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=o),s.prevDep=activeSub.depsTail,s.nextDep=void 0,activeSub.depsTail.nextDep=s,activeSub.depsTail=s,activeSub.deps===s&&(activeSub.deps=o)}return s}trigger(n){this.version++,globalVersion++,this.notify(n)}notify(n){startBatch();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{endBatch()}}}function addSub(e){if(e.dep.sc++,e.sub.flags&4){const n=e.dep.computed;if(n&&!e.dep.subs){n.flags|=20;for(let o=n.deps;o;o=o.nextDep)addSub(o)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const targetMap=new WeakMap,ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol(""),ARRAY_ITERATE_KEY=Symbol("");function track(e,n,s){if(shouldTrack&&activeSub){let o=targetMap.get(e);o||targetMap.set(e,o=new Map);let i=o.get(s);i||(o.set(s,i=new Dep),i.map=o,i.key=s),i.track()}}function trigger(e,n,s,o,i,l){const c=targetMap.get(e);if(!c){globalVersion++;return}const u=d=>{d&&d.trigger()};if(startBatch(),n==="clear")c.forEach(u);else{const d=isArray$1(e),v=d&&isIntegerKey(s);if(d&&s==="length"){const b=Number(o);c.forEach((P,V)=>{(V==="length"||V===ARRAY_ITERATE_KEY||!isSymbol(V)&&V>=b)&&u(P)})}else switch((s!==void 0||c.has(void 0))&&u(c.get(s)),v&&u(c.get(ARRAY_ITERATE_KEY)),n){case"add":d?v&&u(c.get("length")):(u(c.get(ITERATE_KEY)),isMap(e)&&u(c.get(MAP_KEY_ITERATE_KEY)));break;case"delete":d||(u(c.get(ITERATE_KEY)),isMap(e)&&u(c.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(e)&&u(c.get(ITERATE_KEY));break}}endBatch()}function reactiveReadArray(e){const n=toRaw(e);return n===e?n:(track(n,"iterate",ARRAY_ITERATE_KEY),isShallow(e)?n:n.map(toReactive))}function shallowReadArray(e){return track(e=toRaw(e),"iterate",ARRAY_ITERATE_KEY),e}const arrayInstrumentations={__proto__:null,[Symbol.iterator](){return iterator(this,Symbol.iterator,toReactive)},concat(...e){return reactiveReadArray(this).concat(...e.map(n=>isArray$1(n)?reactiveReadArray(n):n))},entries(){return iterator(this,"entries",e=>(e[1]=toReactive(e[1]),e))},every(e,n){return apply(this,"every",e,n,void 0,arguments)},filter(e,n){return apply(this,"filter",e,n,s=>s.map(toReactive),arguments)},find(e,n){return apply(this,"find",e,n,toReactive,arguments)},findIndex(e,n){return apply(this,"findIndex",e,n,void 0,arguments)},findLast(e,n){return apply(this,"findLast",e,n,toReactive,arguments)},findLastIndex(e,n){return apply(this,"findLastIndex",e,n,void 0,arguments)},forEach(e,n){return apply(this,"forEach",e,n,void 0,arguments)},includes(...e){return searchProxy(this,"includes",e)},indexOf(...e){return searchProxy(this,"indexOf",e)},join(e){return reactiveReadArray(this).join(e)},lastIndexOf(...e){return searchProxy(this,"lastIndexOf",e)},map(e,n){return apply(this,"map",e,n,void 0,arguments)},pop(){return noTracking(this,"pop")},push(...e){return noTracking(this,"push",e)},reduce(e,...n){return reduce(this,"reduce",e,n)},reduceRight(e,...n){return reduce(this,"reduceRight",e,n)},shift(){return noTracking(this,"shift")},some(e,n){return apply(this,"some",e,n,void 0,arguments)},splice(...e){return noTracking(this,"splice",e)},toReversed(){return reactiveReadArray(this).toReversed()},toSorted(e){return reactiveReadArray(this).toSorted(e)},toSpliced(...e){return reactiveReadArray(this).toSpliced(...e)},unshift(...e){return noTracking(this,"unshift",e)},values(){return iterator(this,"values",toReactive)}};function iterator(e,n,s){const o=shallowReadArray(e),i=o[n]();return o!==e&&!isShallow(e)&&(i._next=i.next,i.next=()=>{const l=i._next();return l.done||(l.value=s(l.value)),l}),i}const arrayProto=Array.prototype;function apply(e,n,s,o,i,l){const c=shallowReadArray(e),u=c!==e&&!isShallow(e),d=c[n];if(d!==arrayProto[n]){const P=d.apply(e,l);return u?toReactive(P):P}let v=s;c!==e&&(u?v=function(P,V){return s.call(this,toReactive(P),V,e)}:s.length>2&&(v=function(P,V){return s.call(this,P,V,e)}));const b=d.call(c,v,o);return u&&i?i(b):b}function reduce(e,n,s,o){const i=shallowReadArray(e);let l=s;return i!==e&&(isShallow(e)?s.length>3&&(l=function(c,u,d){return s.call(this,c,u,d,e)}):l=function(c,u,d){return s.call(this,c,toReactive(u),d,e)}),i[n](l,...o)}function searchProxy(e,n,s){const o=toRaw(e);track(o,"iterate",ARRAY_ITERATE_KEY);const i=o[n](...s);return(i===-1||i===!1)&&isProxy(s[0])?(s[0]=toRaw(s[0]),o[n](...s)):i}function noTracking(e,n,s=[]){pauseTracking(),startBatch();const o=toRaw(e)[n].apply(e,s);return endBatch(),resetTracking(),o}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(isSymbol));function hasOwnProperty(e){isSymbol(e)||(e=String(e));const n=toRaw(this);return track(n,"has",e),n.hasOwnProperty(e)}class BaseReactiveHandler{constructor(n=!1,s=!1){this._isReadonly=n,this._isShallow=s}get(n,s,o){if(s==="__v_skip")return n.__v_skip;const i=this._isReadonly,l=this._isShallow;if(s==="__v_isReactive")return!i;if(s==="__v_isReadonly")return i;if(s==="__v_isShallow")return l;if(s==="__v_raw")return o===(i?l?shallowReadonlyMap:readonlyMap:l?shallowReactiveMap:reactiveMap).get(n)||Object.getPrototypeOf(n)===Object.getPrototypeOf(o)?n:void 0;const c=isArray$1(n);if(!i){let d;if(c&&(d=arrayInstrumentations[s]))return d;if(s==="hasOwnProperty")return hasOwnProperty}const u=Reflect.get(n,s,isRef(n)?n:o);if((isSymbol(s)?builtInSymbols.has(s):isNonTrackableKeys(s))||(i||track(n,"get",s),l))return u;if(isRef(u)){const d=c&&isIntegerKey(s)?u:u.value;return i&&isObject(d)?readonly(d):d}return isObject(u)?i?readonly(u):reactive(u):u}}class MutableReactiveHandler extends BaseReactiveHandler{constructor(n=!1){super(!1,n)}set(n,s,o,i){let l=n[s];if(!this._isShallow){const d=isReadonly(l);if(!isShallow(o)&&!isReadonly(o)&&(l=toRaw(l),o=toRaw(o)),!isArray$1(n)&&isRef(l)&&!isRef(o))return d||(l.value=o),!0}const c=isArray$1(n)&&isIntegerKey(s)?Number(s)<n.length:hasOwn(n,s),u=Reflect.set(n,s,o,isRef(n)?n:i);return n===toRaw(i)&&(c?hasChanged(o,l)&&trigger(n,"set",s,o):trigger(n,"add",s,o)),u}deleteProperty(n,s){const o=hasOwn(n,s);n[s];const i=Reflect.deleteProperty(n,s);return i&&o&&trigger(n,"delete",s,void 0),i}has(n,s){const o=Reflect.has(n,s);return(!isSymbol(s)||!builtInSymbols.has(s))&&track(n,"has",s),o}ownKeys(n){return track(n,"iterate",isArray$1(n)?"length":ITERATE_KEY),Reflect.ownKeys(n)}}class ReadonlyReactiveHandler extends BaseReactiveHandler{constructor(n=!1){super(!0,n)}set(n,s){return!0}deleteProperty(n,s){return!0}}const mutableHandlers=new MutableReactiveHandler,readonlyHandlers=new ReadonlyReactiveHandler,shallowReactiveHandlers=new MutableReactiveHandler(!0),shallowReadonlyHandlers=new ReadonlyReactiveHandler(!0),toShallow=e=>e,getProto=e=>Reflect.getPrototypeOf(e);function createIterableMethod(e,n,s){return function(...o){const i=this.__v_raw,l=toRaw(i),c=isMap(l),u=e==="entries"||e===Symbol.iterator&&c,d=e==="keys"&&c,v=i[e](...o),b=s?toShallow:n?toReadonly:toReactive;return!n&&track(l,"iterate",d?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:P,done:V}=v.next();return V?{value:P,done:V}:{value:u?[b(P[0]),b(P[1])]:b(P),done:V}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(e){return function(...n){return e==="delete"?!1:e==="clear"?void 0:this}}function createInstrumentations(e,n){const s={get(i){const l=this.__v_raw,c=toRaw(l),u=toRaw(i);e||(hasChanged(i,u)&&track(c,"get",i),track(c,"get",u));const{has:d}=getProto(c),v=n?toShallow:e?toReadonly:toReactive;if(d.call(c,i))return v(l.get(i));if(d.call(c,u))return v(l.get(u));l!==c&&l.get(i)},get size(){const i=this.__v_raw;return!e&&track(toRaw(i),"iterate",ITERATE_KEY),i.size},has(i){const l=this.__v_raw,c=toRaw(l),u=toRaw(i);return e||(hasChanged(i,u)&&track(c,"has",i),track(c,"has",u)),i===u?l.has(i):l.has(i)||l.has(u)},forEach(i,l){const c=this,u=c.__v_raw,d=toRaw(u),v=n?toShallow:e?toReadonly:toReactive;return!e&&track(d,"iterate",ITERATE_KEY),u.forEach((b,P)=>i.call(l,v(b),v(P),c))}};return extend(s,e?{add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear")}:{add(i){!n&&!isShallow(i)&&!isReadonly(i)&&(i=toRaw(i));const l=toRaw(this);return getProto(l).has.call(l,i)||(l.add(i),trigger(l,"add",i,i)),this},set(i,l){!n&&!isShallow(l)&&!isReadonly(l)&&(l=toRaw(l));const c=toRaw(this),{has:u,get:d}=getProto(c);let v=u.call(c,i);v||(i=toRaw(i),v=u.call(c,i));const b=d.call(c,i);return c.set(i,l),v?hasChanged(l,b)&&trigger(c,"set",i,l):trigger(c,"add",i,l),this},delete(i){const l=toRaw(this),{has:c,get:u}=getProto(l);let d=c.call(l,i);d||(i=toRaw(i),d=c.call(l,i)),u&&u.call(l,i);const v=l.delete(i);return d&&trigger(l,"delete",i,void 0),v},clear(){const i=toRaw(this),l=i.size!==0,c=i.clear();return l&&trigger(i,"clear",void 0,void 0),c}}),["keys","values","entries",Symbol.iterator].forEach(i=>{s[i]=createIterableMethod(i,e,n)}),s}function createInstrumentationGetter(e,n){const s=createInstrumentations(e,n);return(o,i,l)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?o:Reflect.get(hasOwn(s,i)&&i in o?s:o,i,l)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},shallowReadonlyCollectionHandlers={get:createInstrumentationGetter(!0,!0)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(e){return e.__v_skip||!Object.isExtensible(e)?0:targetTypeMap(toRawType(e))}function reactive(e){return isReadonly(e)?e:createReactiveObject(e,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(e){return createReactiveObject(e,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(e){return createReactiveObject(e,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function shallowReadonly(e){return createReactiveObject(e,!0,shallowReadonlyHandlers,shallowReadonlyCollectionHandlers,shallowReadonlyMap)}function createReactiveObject(e,n,s,o,i){if(!isObject(e)||e.__v_raw&&!(n&&e.__v_isReactive))return e;const l=getTargetType(e);if(l===0)return e;const c=i.get(e);if(c)return c;const u=new Proxy(e,l===2?o:s);return i.set(e,u),u}function isReactive(e){return isReadonly(e)?isReactive(e.__v_raw):!!(e&&e.__v_isReactive)}function isReadonly(e){return!!(e&&e.__v_isReadonly)}function isShallow(e){return!!(e&&e.__v_isShallow)}function isProxy(e){return e?!!e.__v_raw:!1}function toRaw(e){const n=e&&e.__v_raw;return n?toRaw(n):e}function markRaw(e){return!hasOwn(e,"__v_skip")&&Object.isExtensible(e)&&def(e,"__v_skip",!0),e}const toReactive=e=>isObject(e)?reactive(e):e,toReadonly=e=>isObject(e)?readonly(e):e;function isRef(e){return e?e.__v_isRef===!0:!1}function ref(e){return createRef(e,!1)}function shallowRef(e){return createRef(e,!0)}function createRef(e,n){return isRef(e)?e:new RefImpl(e,n)}class RefImpl{constructor(n,s){this.dep=new Dep,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?n:toRaw(n),this._value=s?n:toReactive(n),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(n){const s=this._rawValue,o=this.__v_isShallow||isShallow(n)||isReadonly(n);n=o?n:toRaw(n),hasChanged(n,s)&&(this._rawValue=n,this._value=o?n:toReactive(n),this.dep.trigger())}}function unref(e){return isRef(e)?e.value:e}const shallowUnwrapHandlers={get:(e,n,s)=>n==="__v_raw"?e:unref(Reflect.get(e,n,s)),set:(e,n,s,o)=>{const i=e[n];return isRef(i)&&!isRef(s)?(i.value=s,!0):Reflect.set(e,n,s,o)}};function proxyRefs(e){return isReactive(e)?e:new Proxy(e,shallowUnwrapHandlers)}class ComputedRefImpl{constructor(n,s,o){this.fn=n,this.setter=s,this._value=void 0,this.dep=new Dep(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=globalVersion-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=o}notify(){if(this.flags|=16,!(this.flags&8)&&activeSub!==this)return batch(this,!0),!0}get value(){const n=this.dep.track();return refreshComputed(this),n&&(n.version=this.dep.version),this._value}set value(n){this.setter&&this.setter(n)}}function computed$1(e,n,s=!1){let o,i;return isFunction(e)?o=e:(o=e.get,i=e.set),new ComputedRefImpl(o,i,s)}const INITIAL_WATCHER_VALUE={},cleanupMap=new WeakMap;let activeWatcher;function onWatcherCleanup(e,n=!1,s=activeWatcher){if(s){let o=cleanupMap.get(s);o||cleanupMap.set(s,o=[]),o.push(e)}}function watch$1(e,n,s=EMPTY_OBJ){const{immediate:o,deep:i,once:l,scheduler:c,augmentJob:u,call:d}=s,v=re=>i?re:isShallow(re)||i===!1||i===0?traverse(re,1):traverse(re);let b,P,V,F,q=!1,Q=!1;if(isRef(e)?(P=()=>e.value,q=isShallow(e)):isReactive(e)?(P=()=>v(e),q=!0):isArray$1(e)?(Q=!0,q=e.some(re=>isReactive(re)||isShallow(re)),P=()=>e.map(re=>{if(isRef(re))return re.value;if(isReactive(re))return v(re);if(isFunction(re))return d?d(re,2):re()})):isFunction(e)?n?P=d?()=>d(e,2):e:P=()=>{if(V){pauseTracking();try{V()}finally{resetTracking()}}const re=activeWatcher;activeWatcher=b;try{return d?d(e,3,[F]):e(F)}finally{activeWatcher=re}}:P=NOOP,n&&i){const re=P,ne=i===!0?1/0:i;P=()=>traverse(re(),ne)}const ee=getCurrentScope(),ie=()=>{b.stop(),ee&&ee.active&&remove(ee.effects,b)};if(l&&n){const re=n;n=(...ne)=>{re(...ne),ie()}}let ue=Q?new Array(e.length).fill(INITIAL_WATCHER_VALUE):INITIAL_WATCHER_VALUE;const ge=re=>{if(!(!(b.flags&1)||!b.dirty&&!re))if(n){const ne=b.run();if(i||q||(Q?ne.some((fe,he)=>hasChanged(fe,ue[he])):hasChanged(ne,ue))){V&&V();const fe=activeWatcher;activeWatcher=b;try{const he=[ne,ue===INITIAL_WATCHER_VALUE?void 0:Q&&ue[0]===INITIAL_WATCHER_VALUE?[]:ue,F];ue=ne,d?d(n,3,he):n(...he)}finally{activeWatcher=fe}}}else b.run()};return u&&u(ge),b=new ReactiveEffect(P),b.scheduler=c?()=>c(ge,!1):ge,F=re=>onWatcherCleanup(re,!1,b),V=b.onStop=()=>{const re=cleanupMap.get(b);if(re){if(d)d(re,4);else for(const ne of re)ne();cleanupMap.delete(b)}},n?o?ge(!0):ue=b.run():c?c(ge.bind(null,!0),!0):b.run(),ie.pause=b.pause.bind(b),ie.resume=b.resume.bind(b),ie.stop=ie,ie}function traverse(e,n=1/0,s){if(n<=0||!isObject(e)||e.__v_skip||(s=s||new Map,(s.get(e)||0)>=n))return e;if(s.set(e,n),n--,isRef(e))traverse(e.value,n,s);else if(isArray$1(e))for(let o=0;o<e.length;o++)traverse(e[o],n,s);else if(isSet(e)||isMap(e))e.forEach(o=>{traverse(o,n,s)});else if(isPlainObject(e)){for(const o in e)traverse(e[o],n,s);for(const o of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,o)&&traverse(e[o],n,s)}return e}const stack=[];let isWarning=!1;function warn$1(e,...n){if(isWarning)return;isWarning=!0,pauseTracking();const s=stack.length?stack[stack.length-1].component:null,o=s&&s.appContext.config.warnHandler,i=getComponentTrace();if(o)callWithErrorHandling(o,s,11,[e+n.map(l=>{var c,u;return(u=(c=l.toString)==null?void 0:c.call(l))!=null?u:JSON.stringify(l)}).join(""),s&&s.proxy,i.map(({vnode:l})=>`at <${formatComponentName(s,l.type)}>`).join(`
`),i]);else{const l=[`[Vue warn]: ${e}`,...n];i.length&&l.push(`
`,...formatTrace(i)),console.warn(...l)}resetTracking(),isWarning=!1}function getComponentTrace(){let e=stack[stack.length-1];if(!e)return[];const n=[];for(;e;){const s=n[0];s&&s.vnode===e?s.recurseCount++:n.push({vnode:e,recurseCount:0});const o=e.component&&e.component.parent;e=o&&o.vnode}return n}function formatTrace(e){const n=[];return e.forEach((s,o)=>{n.push(...o===0?[]:[`
`],...formatTraceEntry(s))}),n}function formatTraceEntry({vnode:e,recurseCount:n}){const s=n>0?`... (${n} recursive calls)`:"",o=e.component?e.component.parent==null:!1,i=` at <${formatComponentName(e.component,e.type,o)}`,l=">"+s;return e.props?[i,...formatProps(e.props),l]:[i+l]}function formatProps(e){const n=[],s=Object.keys(e);return s.slice(0,3).forEach(o=>{n.push(...formatProp(o,e[o]))}),s.length>3&&n.push(" ..."),n}function formatProp(e,n,s){return isString(n)?(n=JSON.stringify(n),s?n:[`${e}=${n}`]):typeof n=="number"||typeof n=="boolean"||n==null?s?n:[`${e}=${n}`]:isRef(n)?(n=formatProp(e,toRaw(n.value),!0),s?n:[`${e}=Ref<`,n,">"]):isFunction(n)?[`${e}=fn${n.name?`<${n.name}>`:""}`]:(n=toRaw(n),s?n:[`${e}=`,n])}function callWithErrorHandling(e,n,s,o){try{return o?e(...o):e()}catch(i){handleError(i,n,s)}}function callWithAsyncErrorHandling(e,n,s,o){if(isFunction(e)){const i=callWithErrorHandling(e,n,s,o);return i&&isPromise(i)&&i.catch(l=>{handleError(l,n,s)}),i}if(isArray$1(e)){const i=[];for(let l=0;l<e.length;l++)i.push(callWithAsyncErrorHandling(e[l],n,s,o));return i}}function handleError(e,n,s,o=!0){const i=n?n.vnode:null,{errorHandler:l,throwUnhandledErrorInProduction:c}=n&&n.appContext.config||EMPTY_OBJ;if(n){let u=n.parent;const d=n.proxy,v=`https://vuejs.org/error-reference/#runtime-${s}`;for(;u;){const b=u.ec;if(b){for(let P=0;P<b.length;P++)if(b[P](e,d,v)===!1)return}u=u.parent}if(l){pauseTracking(),callWithErrorHandling(l,null,10,[e,d,v]),resetTracking();return}}logError(e,s,i,o,c)}function logError(e,n,s,o=!0,i=!1){if(i)throw e;console.error(e)}const queue=[];let flushIndex=-1;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null;function nextTick(e){const n=currentFlushPromise||resolvedPromise;return e?n.then(this?e.bind(this):e):n}function findInsertionIndex$1(e){let n=flushIndex+1,s=queue.length;for(;n<s;){const o=n+s>>>1,i=queue[o],l=getId(i);l<e||l===e&&i.flags&2?n=o+1:s=o}return n}function queueJob(e){if(!(e.flags&1)){const n=getId(e),s=queue[queue.length-1];!s||!(e.flags&2)&&n>=getId(s)?queue.push(e):queue.splice(findInsertionIndex$1(n),0,e),e.flags|=1,queueFlush()}}function queueFlush(){currentFlushPromise||(currentFlushPromise=resolvedPromise.then(flushJobs))}function queuePostFlushCb(e){isArray$1(e)?pendingPostFlushCbs.push(...e):activePostFlushCbs&&e.id===-1?activePostFlushCbs.splice(postFlushIndex+1,0,e):e.flags&1||(pendingPostFlushCbs.push(e),e.flags|=1),queueFlush()}function flushPreFlushCbs(e,n,s=flushIndex+1){for(;s<queue.length;s++){const o=queue[s];if(o&&o.flags&2){if(e&&o.id!==e.uid)continue;queue.splice(s,1),s--,o.flags&4&&(o.flags&=-2),o(),o.flags&4||(o.flags&=-2)}}}function flushPostFlushCbs(e){if(pendingPostFlushCbs.length){const n=[...new Set(pendingPostFlushCbs)].sort((s,o)=>getId(s)-getId(o));if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...n);return}for(activePostFlushCbs=n,postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++){const s=activePostFlushCbs[postFlushIndex];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}activePostFlushCbs=null,postFlushIndex=0}}const getId=e=>e.id==null?e.flags&2?-1:1/0:e.id;function flushJobs(e){try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const n=queue[flushIndex];n&&!(n.flags&8)&&(n.flags&4&&(n.flags&=-2),callWithErrorHandling(n,n.i,n.i?15:14),n.flags&4||(n.flags&=-2))}}finally{for(;flushIndex<queue.length;flushIndex++){const n=queue[flushIndex];n&&(n.flags&=-2)}flushIndex=-1,queue.length=0,flushPostFlushCbs(),currentFlushPromise=null,(queue.length||pendingPostFlushCbs.length)&&flushJobs()}}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(e){const n=currentRenderingInstance;return currentRenderingInstance=e,currentScopeId=e&&e.type.__scopeId||null,n}function withCtx(e,n=currentRenderingInstance,s){if(!n||e._n)return e;const o=(...i)=>{o._d&&setBlockTracking(-1);const l=setCurrentRenderingInstance(n);let c;try{c=e(...i)}finally{setCurrentRenderingInstance(l),o._d&&setBlockTracking(1)}return c};return o._n=!0,o._c=!0,o._d=!0,o}function withDirectives(e,n){if(currentRenderingInstance===null)return e;const s=getComponentPublicInstance(currentRenderingInstance),o=e.dirs||(e.dirs=[]);for(let i=0;i<n.length;i++){let[l,c,u,d=EMPTY_OBJ]=n[i];l&&(isFunction(l)&&(l={mounted:l,updated:l}),l.deep&&traverse(c),o.push({dir:l,instance:s,value:c,oldValue:void 0,arg:u,modifiers:d}))}return e}function invokeDirectiveHook(e,n,s,o){const i=e.dirs,l=n&&n.dirs;for(let c=0;c<i.length;c++){const u=i[c];l&&(u.oldValue=l[c].value);let d=u.dir[o];d&&(pauseTracking(),callWithAsyncErrorHandling(d,s,8,[e.el,u,e,n]),resetTracking())}}const TeleportEndKey=Symbol("_vte"),isTeleport=e=>e.__isTeleport,isTeleportDisabled=e=>e&&(e.disabled||e.disabled===""),isTeleportDeferred=e=>e&&(e.defer||e.defer===""),isTargetSVG=e=>typeof SVGElement<"u"&&e instanceof SVGElement,isTargetMathML=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,resolveTarget=(e,n)=>{const s=e&&e.to;return isString(s)?n?n(s):null:s},TeleportImpl={name:"Teleport",__isTeleport:!0,process(e,n,s,o,i,l,c,u,d,v){const{mc:b,pc:P,pbc:V,o:{insert:F,querySelector:q,createText:Q,createComment:ee}}=v,ie=isTeleportDisabled(n.props);let{shapeFlag:ue,children:ge,dynamicChildren:re}=n;if(e==null){const ne=n.el=Q(""),fe=n.anchor=Q("");F(ne,s,o),F(fe,s,o);const he=(pe,ve)=>{ue&16&&b(ge,pe,ve,i,l,c,u,d)},_e=()=>{const pe=n.target=resolveTarget(n.props,q),ve=prepareAnchor(pe,n,Q,F);pe&&(c!=="svg"&&isTargetSVG(pe)?c="svg":c!=="mathml"&&isTargetMathML(pe)&&(c="mathml"),i&&i.isCE&&(i.ce._teleportTargets||(i.ce._teleportTargets=new Set)).add(pe),ie||(he(pe,ve),updateCssVars(n,!1)))};ie&&(he(s,fe),updateCssVars(n,!0)),isTeleportDeferred(n.props)?(n.el.__isMounted=!1,queuePostRenderEffect(()=>{_e(),delete n.el.__isMounted},l)):_e()}else{if(isTeleportDeferred(n.props)&&e.el.__isMounted===!1){queuePostRenderEffect(()=>{TeleportImpl.process(e,n,s,o,i,l,c,u,d,v)},l);return}n.el=e.el,n.targetStart=e.targetStart;const ne=n.anchor=e.anchor,fe=n.target=e.target,he=n.targetAnchor=e.targetAnchor,_e=isTeleportDisabled(e.props),pe=_e?s:fe,ve=_e?ne:he;if(c==="svg"||isTargetSVG(fe)?c="svg":(c==="mathml"||isTargetMathML(fe))&&(c="mathml"),re?(V(e.dynamicChildren,re,pe,i,l,c,u),traverseStaticChildren(e,n,!0)):d||P(e,n,pe,ve,i,l,c,u,!1),ie)_e?n.props&&e.props&&n.props.to!==e.props.to&&(n.props.to=e.props.to):moveTeleport(n,s,ne,v,1);else if((n.props&&n.props.to)!==(e.props&&e.props.to)){const ke=n.target=resolveTarget(n.props,q);ke&&moveTeleport(n,ke,null,v,0)}else _e&&moveTeleport(n,fe,he,v,1);updateCssVars(n,ie)}},remove(e,n,s,{um:o,o:{remove:i}},l){const{shapeFlag:c,children:u,anchor:d,targetStart:v,targetAnchor:b,target:P,props:V}=e;if(P&&(i(v),i(b)),l&&i(d),c&16){const F=l||!isTeleportDisabled(V);for(let q=0;q<u.length;q++){const Q=u[q];o(Q,n,s,F,!!Q.dynamicChildren)}}},move:moveTeleport,hydrate:hydrateTeleport};function moveTeleport(e,n,s,{o:{insert:o},m:i},l=2){l===0&&o(e.targetAnchor,n,s);const{el:c,anchor:u,shapeFlag:d,children:v,props:b}=e,P=l===2;if(P&&o(c,n,s),(!P||isTeleportDisabled(b))&&d&16)for(let V=0;V<v.length;V++)i(v[V],n,s,2);P&&o(u,n,s)}function hydrateTeleport(e,n,s,o,i,l,{o:{nextSibling:c,parentNode:u,querySelector:d,insert:v,createText:b}},P){function V(Q,ee,ie,ue){ee.anchor=P(c(Q),ee,u(Q),s,o,i,l),ee.targetStart=ie,ee.targetAnchor=ue}const F=n.target=resolveTarget(n.props,d),q=isTeleportDisabled(n.props);if(F){const Q=F._lpa||F.firstChild;if(n.shapeFlag&16)if(q)V(e,n,Q,Q&&c(Q));else{n.anchor=c(e);let ee=Q;for(;ee;){if(ee&&ee.nodeType===8){if(ee.data==="teleport start anchor")n.targetStart=ee;else if(ee.data==="teleport anchor"){n.targetAnchor=ee,F._lpa=n.targetAnchor&&c(n.targetAnchor);break}}ee=c(ee)}n.targetAnchor||prepareAnchor(F,n,b,v),P(Q&&c(Q),n,F,s,o,i,l)}updateCssVars(n,q)}else q&&n.shapeFlag&16&&V(e,n,e,c(e));return n.anchor&&c(n.anchor)}const Teleport=TeleportImpl;function updateCssVars(e,n){const s=e.ctx;if(s&&s.ut){let o,i;for(n?(o=e.el,i=e.anchor):(o=e.targetStart,i=e.targetAnchor);o&&o!==i;)o.nodeType===1&&o.setAttribute("data-v-owner",s.uid),o=o.nextSibling;s.ut()}}function prepareAnchor(e,n,s,o){const i=n.targetStart=s(""),l=n.targetAnchor=s("");return i[TeleportEndKey]=l,e&&(o(i,e),o(l,e)),l}const leaveCbKey=Symbol("_leaveCb"),enterCbKey=Symbol("_enterCb");function useTransitionState(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return onMounted(()=>{e.isMounted=!0}),onBeforeUnmount(()=>{e.isUnmounting=!0}),e}const TransitionHookValidator=[Function,Array],BaseTransitionPropsValidators={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:TransitionHookValidator,onEnter:TransitionHookValidator,onAfterEnter:TransitionHookValidator,onEnterCancelled:TransitionHookValidator,onBeforeLeave:TransitionHookValidator,onLeave:TransitionHookValidator,onAfterLeave:TransitionHookValidator,onLeaveCancelled:TransitionHookValidator,onBeforeAppear:TransitionHookValidator,onAppear:TransitionHookValidator,onAfterAppear:TransitionHookValidator,onAppearCancelled:TransitionHookValidator},recursiveGetSubtree=e=>{const n=e.subTree;return n.component?recursiveGetSubtree(n.component):n},BaseTransitionImpl={name:"BaseTransition",props:BaseTransitionPropsValidators,setup(e,{slots:n}){const s=getCurrentInstance(),o=useTransitionState();return()=>{const i=n.default&&getTransitionRawChildren(n.default(),!0);if(!i||!i.length)return;const l=findNonCommentChild(i),c=toRaw(e),{mode:u}=c;if(o.isLeaving)return emptyPlaceholder(l);const d=getInnerChild$1(l);if(!d)return emptyPlaceholder(l);let v=resolveTransitionHooks(d,c,o,s,P=>v=P);d.type!==Comment&&setTransitionHooks(d,v);let b=s.subTree&&getInnerChild$1(s.subTree);if(b&&b.type!==Comment&&!isSameVNodeType(b,d)&&recursiveGetSubtree(s).type!==Comment){let P=resolveTransitionHooks(b,c,o,s);if(setTransitionHooks(b,P),u==="out-in"&&d.type!==Comment)return o.isLeaving=!0,P.afterLeave=()=>{o.isLeaving=!1,s.job.flags&8||s.update(),delete P.afterLeave,b=void 0},emptyPlaceholder(l);u==="in-out"&&d.type!==Comment?P.delayLeave=(V,F,q)=>{const Q=getLeavingNodesForType(o,b);Q[String(b.key)]=b,V[leaveCbKey]=()=>{F(),V[leaveCbKey]=void 0,delete v.delayedLeave,b=void 0},v.delayedLeave=()=>{q(),delete v.delayedLeave,b=void 0}}:b=void 0}else b&&(b=void 0);return l}}};function findNonCommentChild(e){let n=e[0];if(e.length>1){for(const s of e)if(s.type!==Comment){n=s;break}}return n}const BaseTransition=BaseTransitionImpl;function getLeavingNodesForType(e,n){const{leavingVNodes:s}=e;let o=s.get(n.type);return o||(o=Object.create(null),s.set(n.type,o)),o}function resolveTransitionHooks(e,n,s,o,i){const{appear:l,mode:c,persisted:u=!1,onBeforeEnter:d,onEnter:v,onAfterEnter:b,onEnterCancelled:P,onBeforeLeave:V,onLeave:F,onAfterLeave:q,onLeaveCancelled:Q,onBeforeAppear:ee,onAppear:ie,onAfterAppear:ue,onAppearCancelled:ge}=n,re=String(e.key),ne=getLeavingNodesForType(s,e),fe=(pe,ve)=>{pe&&callWithAsyncErrorHandling(pe,o,9,ve)},he=(pe,ve)=>{const ke=ve[1];fe(pe,ve),isArray$1(pe)?pe.every(ce=>ce.length<=1)&&ke():pe.length<=1&&ke()},_e={mode:c,persisted:u,beforeEnter(pe){let ve=d;if(!s.isMounted)if(l)ve=ee||d;else return;pe[leaveCbKey]&&pe[leaveCbKey](!0);const ke=ne[re];ke&&isSameVNodeType(e,ke)&&ke.el[leaveCbKey]&&ke.el[leaveCbKey](),fe(ve,[pe])},enter(pe){let ve=v,ke=b,ce=P;if(!s.isMounted)if(l)ve=ie||v,ke=ue||b,ce=ge||P;else return;let Se=!1;const Re=pe[enterCbKey]=Le=>{Se||(Se=!0,Le?fe(ce,[pe]):fe(ke,[pe]),_e.delayedLeave&&_e.delayedLeave(),pe[enterCbKey]=void 0)};ve?he(ve,[pe,Re]):Re()},leave(pe,ve){const ke=String(e.key);if(pe[enterCbKey]&&pe[enterCbKey](!0),s.isUnmounting)return ve();fe(V,[pe]);let ce=!1;const Se=pe[leaveCbKey]=Re=>{ce||(ce=!0,ve(),Re?fe(Q,[pe]):fe(q,[pe]),pe[leaveCbKey]=void 0,ne[ke]===e&&delete ne[ke])};ne[ke]=e,F?he(F,[pe,Se]):Se()},clone(pe){const ve=resolveTransitionHooks(pe,n,s,o,i);return i&&i(ve),ve}};return _e}function emptyPlaceholder(e){if(isKeepAlive(e))return e=cloneVNode(e),e.children=null,e}function getInnerChild$1(e){if(!isKeepAlive(e))return isTeleport(e.type)&&e.children?findNonCommentChild(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:n,children:s}=e;if(s){if(n&16)return s[0];if(n&32&&isFunction(s.default))return s.default()}}function setTransitionHooks(e,n){e.shapeFlag&6&&e.component?(e.transition=n,setTransitionHooks(e.component.subTree,n)):e.shapeFlag&128?(e.ssContent.transition=n.clone(e.ssContent),e.ssFallback.transition=n.clone(e.ssFallback)):e.transition=n}function getTransitionRawChildren(e,n=!1,s){let o=[],i=0;for(let l=0;l<e.length;l++){let c=e[l];const u=s==null?c.key:String(s)+String(c.key!=null?c.key:l);c.type===Fragment?(c.patchFlag&128&&i++,o=o.concat(getTransitionRawChildren(c.children,n,u))):(n||c.type!==Comment)&&o.push(u!=null?cloneVNode(c,{key:u}):c)}if(i>1)for(let l=0;l<o.length;l++)o[l].patchFlag=-2;return o}function defineComponent(e,n){return isFunction(e)?extend({name:e.name},n,{setup:e}):e}function markAsyncBoundary(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const pendingSetRefMap=new WeakMap;function setRef(e,n,s,o,i=!1){if(isArray$1(e)){e.forEach((q,Q)=>setRef(q,n&&(isArray$1(n)?n[Q]:n),s,o,i));return}if(isAsyncWrapper(o)&&!i){o.shapeFlag&512&&o.type.__asyncResolved&&o.component.subTree.component&&setRef(e,n,s,o.component.subTree);return}const l=o.shapeFlag&4?getComponentPublicInstance(o.component):o.el,c=i?null:l,{i:u,r:d}=e,v=n&&n.r,b=u.refs===EMPTY_OBJ?u.refs={}:u.refs,P=u.setupState,V=toRaw(P),F=P===EMPTY_OBJ?NO:q=>hasOwn(V,q);if(v!=null&&v!==d){if(invalidatePendingSetRef(n),isString(v))b[v]=null,F(v)&&(P[v]=null);else if(isRef(v)){v.value=null;const q=n;q.k&&(b[q.k]=null)}}if(isFunction(d))callWithErrorHandling(d,u,12,[c,b]);else{const q=isString(d),Q=isRef(d);if(q||Q){const ee=()=>{if(e.f){const ie=q?F(d)?P[d]:b[d]:d.value;if(i)isArray$1(ie)&&remove(ie,l);else if(isArray$1(ie))ie.includes(l)||ie.push(l);else if(q)b[d]=[l],F(d)&&(P[d]=b[d]);else{const ue=[l];d.value=ue,e.k&&(b[e.k]=ue)}}else q?(b[d]=c,F(d)&&(P[d]=c)):Q&&(d.value=c,e.k&&(b[e.k]=c))};if(c){const ie=()=>{ee(),pendingSetRefMap.delete(e)};ie.id=-1,pendingSetRefMap.set(e,ie),queuePostRenderEffect(ie,s)}else invalidatePendingSetRef(e),ee()}}}function invalidatePendingSetRef(e){const n=pendingSetRefMap.get(e);n&&(n.flags|=8,pendingSetRefMap.delete(e))}getGlobalThis().requestIdleCallback;getGlobalThis().cancelIdleCallback;const isAsyncWrapper=e=>!!e.type.__asyncLoader,isKeepAlive=e=>e.type.__isKeepAlive;function onActivated(e,n){registerKeepAliveHook(e,"a",n)}function onDeactivated(e,n){registerKeepAliveHook(e,"da",n)}function registerKeepAliveHook(e,n,s=currentInstance){const o=e.__wdc||(e.__wdc=()=>{let i=s;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(injectHook(n,o,s),s){let i=s.parent;for(;i&&i.parent;)isKeepAlive(i.parent.vnode)&&injectToKeepAliveRoot(o,n,s,i),i=i.parent}}function injectToKeepAliveRoot(e,n,s,o){const i=injectHook(n,e,o,!0);onUnmounted(()=>{remove(o[n],i)},s)}function injectHook(e,n,s=currentInstance,o=!1){if(s){const i=s[e]||(s[e]=[]),l=n.__weh||(n.__weh=(...c)=>{pauseTracking();const u=setCurrentInstance(s),d=callWithAsyncErrorHandling(n,s,e,c);return u(),resetTracking(),d});return o?i.unshift(l):i.push(l),l}}const createHook=e=>(n,s=currentInstance)=>{(!isInSSRComponentSetup||e==="sp")&&injectHook(e,(...o)=>n(...o),s)},onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(e,n=currentInstance){injectHook("ec",e,n)}const COMPONENTS="components",DIRECTIVES="directives";function resolveComponent(e,n){return resolveAsset(COMPONENTS,e,!0,n)||e}const NULL_DYNAMIC_COMPONENT=Symbol.for("v-ndc");function resolveDirective(e){return resolveAsset(DIRECTIVES,e)}function resolveAsset(e,n,s=!0,o=!1){const i=currentRenderingInstance||currentInstance;if(i){const l=i.type;if(e===COMPONENTS){const u=getComponentName(l,!1);if(u&&(u===n||u===camelize(n)||u===capitalize(camelize(n))))return l}const c=resolve(i[e]||l[e],n)||resolve(i.appContext[e],n);return!c&&o?l:c}}function resolve(e,n){return e&&(e[n]||e[camelize(n)]||e[capitalize(camelize(n))])}function renderList(e,n,s,o){let i;const l=s,c=isArray$1(e);if(c||isString(e)){const u=c&&isReactive(e);let d=!1,v=!1;u&&(d=!isShallow(e),v=isReadonly(e),e=shallowReadArray(e)),i=new Array(e.length);for(let b=0,P=e.length;b<P;b++)i[b]=n(d?v?toReadonly(toReactive(e[b])):toReactive(e[b]):e[b],b,void 0,l)}else if(typeof e=="number"){i=new Array(e);for(let u=0;u<e;u++)i[u]=n(u+1,u,void 0,l)}else if(isObject(e))if(e[Symbol.iterator])i=Array.from(e,(u,d)=>n(u,d,void 0,l));else{const u=Object.keys(e);i=new Array(u.length);for(let d=0,v=u.length;d<v;d++){const b=u[d];i[d]=n(e[b],b,d,l)}}else i=[];return i}function renderSlot(e,n,s={},o,i){if(currentRenderingInstance.ce||currentRenderingInstance.parent&&isAsyncWrapper(currentRenderingInstance.parent)&&currentRenderingInstance.parent.ce){const v=Object.keys(s).length>0;return openBlock(),createBlock(Fragment,null,[createVNode("slot",s,o&&o())],v?-2:64)}let l=e[n];l&&l._c&&(l._d=!1),openBlock();const c=l&&ensureValidVNode(l(s)),u=s.key||c&&c.key,d=createBlock(Fragment,{key:(u&&!isSymbol(u)?u:`_${n}`)+(!c&&o?"_fb":"")},c||(o?o():[]),c&&e._===1?64:-2);return l&&l._c&&(l._d=!0),d}function ensureValidVNode(e){return e.some(n=>isVNode(n)?!(n.type===Comment||n.type===Fragment&&!ensureValidVNode(n.children)):!0)?e:null}const getPublicInstance=e=>e?isStatefulComponent(e)?getComponentPublicInstance(e):getPublicInstance(e.parent):null,publicPropertiesMap=extend(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>getPublicInstance(e.parent),$root:e=>getPublicInstance(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>resolveMergedOptions(e),$forceUpdate:e=>e.f||(e.f=()=>{queueJob(e.update)}),$nextTick:e=>e.n||(e.n=nextTick.bind(e.proxy)),$watch:e=>instanceWatch.bind(e)}),hasSetupBinding=(e,n)=>e!==EMPTY_OBJ&&!e.__isScriptSetup&&hasOwn(e,n),PublicInstanceProxyHandlers={get({_:e},n){if(n==="__v_skip")return!0;const{ctx:s,setupState:o,data:i,props:l,accessCache:c,type:u,appContext:d}=e;let v;if(n[0]!=="$"){const F=c[n];if(F!==void 0)switch(F){case 1:return o[n];case 2:return i[n];case 4:return s[n];case 3:return l[n]}else{if(hasSetupBinding(o,n))return c[n]=1,o[n];if(i!==EMPTY_OBJ&&hasOwn(i,n))return c[n]=2,i[n];if((v=e.propsOptions[0])&&hasOwn(v,n))return c[n]=3,l[n];if(s!==EMPTY_OBJ&&hasOwn(s,n))return c[n]=4,s[n];shouldCacheAccess&&(c[n]=0)}}const b=publicPropertiesMap[n];let P,V;if(b)return n==="$attrs"&&track(e.attrs,"get",""),b(e);if((P=u.__cssModules)&&(P=P[n]))return P;if(s!==EMPTY_OBJ&&hasOwn(s,n))return c[n]=4,s[n];if(V=d.config.globalProperties,hasOwn(V,n))return V[n]},set({_:e},n,s){const{data:o,setupState:i,ctx:l}=e;return hasSetupBinding(i,n)?(i[n]=s,!0):o!==EMPTY_OBJ&&hasOwn(o,n)?(o[n]=s,!0):hasOwn(e.props,n)||n[0]==="$"&&n.slice(1)in e?!1:(l[n]=s,!0)},has({_:{data:e,setupState:n,accessCache:s,ctx:o,appContext:i,propsOptions:l,type:c}},u){let d,v;return!!(s[u]||e!==EMPTY_OBJ&&u[0]!=="$"&&hasOwn(e,u)||hasSetupBinding(n,u)||(d=l[0])&&hasOwn(d,u)||hasOwn(o,u)||hasOwn(publicPropertiesMap,u)||hasOwn(i.config.globalProperties,u)||(v=c.__cssModules)&&v[u])},defineProperty(e,n,s){return s.get!=null?e._.accessCache[n]=0:hasOwn(s,"value")&&this.set(e,n,s.value,null),Reflect.defineProperty(e,n,s)}};function normalizePropsOrEmits(e){return isArray$1(e)?e.reduce((n,s)=>(n[s]=null,n),{}):e}function withAsyncContext(e){const n=getCurrentInstance();let s=e();return unsetCurrentInstance(),isPromise(s)&&(s=s.catch(o=>{throw setCurrentInstance(n),o})),[s,()=>setCurrentInstance(n)]}let shouldCacheAccess=!0;function applyOptions(e){const n=resolveMergedOptions(e),s=e.proxy,o=e.ctx;shouldCacheAccess=!1,n.beforeCreate&&callHook$1(n.beforeCreate,e,"bc");const{data:i,computed:l,methods:c,watch:u,provide:d,inject:v,created:b,beforeMount:P,mounted:V,beforeUpdate:F,updated:q,activated:Q,deactivated:ee,beforeDestroy:ie,beforeUnmount:ue,destroyed:ge,unmounted:re,render:ne,renderTracked:fe,renderTriggered:he,errorCaptured:_e,serverPrefetch:pe,expose:ve,inheritAttrs:ke,components:ce,directives:Se,filters:Re}=n;if(v&&resolveInjections(v,o,null),c)for(const Te in c){const xe=c[Te];isFunction(xe)&&(o[Te]=xe.bind(s))}if(i){const Te=i.call(s,s);isObject(Te)&&(e.data=reactive(Te))}if(shouldCacheAccess=!0,l)for(const Te in l){const xe=l[Te],Ue=isFunction(xe)?xe.bind(s,s):isFunction(xe.get)?xe.get.bind(s,s):NOOP,Oe=!isFunction(xe)&&isFunction(xe.set)?xe.set.bind(s):NOOP,Me=computed({get:Ue,set:Oe});Object.defineProperty(o,Te,{enumerable:!0,configurable:!0,get:()=>Me.value,set:Ve=>Me.value=Ve})}if(u)for(const Te in u)createWatcher(u[Te],o,s,Te);if(d){const Te=isFunction(d)?d.call(s):d;Reflect.ownKeys(Te).forEach(xe=>{provide(xe,Te[xe])})}b&&callHook$1(b,e,"c");function Ae(Te,xe){isArray$1(xe)?xe.forEach(Ue=>Te(Ue.bind(s))):xe&&Te(xe.bind(s))}if(Ae(onBeforeMount,P),Ae(onMounted,V),Ae(onBeforeUpdate,F),Ae(onUpdated,q),Ae(onActivated,Q),Ae(onDeactivated,ee),Ae(onErrorCaptured,_e),Ae(onRenderTracked,fe),Ae(onRenderTriggered,he),Ae(onBeforeUnmount,ue),Ae(onUnmounted,re),Ae(onServerPrefetch,pe),isArray$1(ve))if(ve.length){const Te=e.exposed||(e.exposed={});ve.forEach(xe=>{Object.defineProperty(Te,xe,{get:()=>s[xe],set:Ue=>s[xe]=Ue,enumerable:!0})})}else e.exposed||(e.exposed={});ne&&e.render===NOOP&&(e.render=ne),ke!=null&&(e.inheritAttrs=ke),ce&&(e.components=ce),Se&&(e.directives=Se),pe&&markAsyncBoundary(e)}function resolveInjections(e,n,s=NOOP){isArray$1(e)&&(e=normalizeInject(e));for(const o in e){const i=e[o];let l;isObject(i)?"default"in i?l=inject(i.from||o,i.default,!0):l=inject(i.from||o):l=inject(i),isRef(l)?Object.defineProperty(n,o,{enumerable:!0,configurable:!0,get:()=>l.value,set:c=>l.value=c}):n[o]=l}}function callHook$1(e,n,s){callWithAsyncErrorHandling(isArray$1(e)?e.map(o=>o.bind(n.proxy)):e.bind(n.proxy),n,s)}function createWatcher(e,n,s,o){let i=o.includes(".")?createPathGetter(s,o):()=>s[o];if(isString(e)){const l=n[e];isFunction(l)&&watch(i,l)}else if(isFunction(e))watch(i,e.bind(s));else if(isObject(e))if(isArray$1(e))e.forEach(l=>createWatcher(l,n,s,o));else{const l=isFunction(e.handler)?e.handler.bind(s):n[e.handler];isFunction(l)&&watch(i,l,e)}}function resolveMergedOptions(e){const n=e.type,{mixins:s,extends:o}=n,{mixins:i,optionsCache:l,config:{optionMergeStrategies:c}}=e.appContext,u=l.get(n);let d;return u?d=u:!i.length&&!s&&!o?d=n:(d={},i.length&&i.forEach(v=>mergeOptions$1(d,v,c,!0)),mergeOptions$1(d,n,c)),isObject(n)&&l.set(n,d),d}function mergeOptions$1(e,n,s,o=!1){const{mixins:i,extends:l}=n;l&&mergeOptions$1(e,l,s,!0),i&&i.forEach(c=>mergeOptions$1(e,c,s,!0));for(const c in n)if(!(o&&c==="expose")){const u=internalOptionMergeStrats[c]||s&&s[c];e[c]=u?u(e[c],n[c]):n[c]}return e}const internalOptionMergeStrats={data:mergeDataFn,props:mergeEmitsOrPropsOptions,emits:mergeEmitsOrPropsOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(e,n){return n?e?function(){return extend(isFunction(e)?e.call(this,this):e,isFunction(n)?n.call(this,this):n)}:n:e}function mergeInject(e,n){return mergeObjectOptions(normalizeInject(e),normalizeInject(n))}function normalizeInject(e){if(isArray$1(e)){const n={};for(let s=0;s<e.length;s++)n[e[s]]=e[s];return n}return e}function mergeAsArray(e,n){return e?[...new Set([].concat(e,n))]:n}function mergeObjectOptions(e,n){return e?extend(Object.create(null),e,n):n}function mergeEmitsOrPropsOptions(e,n){return e?isArray$1(e)&&isArray$1(n)?[...new Set([...e,...n])]:extend(Object.create(null),normalizePropsOrEmits(e),normalizePropsOrEmits(n??{})):n}function mergeWatchOptions(e,n){if(!e)return n;if(!n)return e;const s=extend(Object.create(null),e);for(const o in n)s[o]=mergeAsArray(e[o],n[o]);return s}function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid$1=0;function createAppAPI(e,n){return function(o,i=null){isFunction(o)||(o=extend({},o)),i!=null&&!isObject(i)&&(i=null);const l=createAppContext(),c=new WeakSet,u=[];let d=!1;const v=l.app={_uid:uid$1++,_component:o,_props:i,_container:null,_context:l,_instance:null,version,get config(){return l.config},set config(b){},use(b,...P){return c.has(b)||(b&&isFunction(b.install)?(c.add(b),b.install(v,...P)):isFunction(b)&&(c.add(b),b(v,...P))),v},mixin(b){return l.mixins.includes(b)||l.mixins.push(b),v},component(b,P){return P?(l.components[b]=P,v):l.components[b]},directive(b,P){return P?(l.directives[b]=P,v):l.directives[b]},mount(b,P,V){if(!d){const F=v._ceVNode||createVNode(o,i);return F.appContext=l,V===!0?V="svg":V===!1&&(V=void 0),e(F,b,V),d=!0,v._container=b,b.__vue_app__=v,getComponentPublicInstance(F.component)}},onUnmount(b){u.push(b)},unmount(){d&&(callWithAsyncErrorHandling(u,v._instance,16),e(null,v._container),delete v._container.__vue_app__)},provide(b,P){return l.provides[b]=P,v},runWithContext(b){const P=currentApp;currentApp=v;try{return b()}finally{currentApp=P}}};return v}}let currentApp=null;function provide(e,n){if(currentInstance){let s=currentInstance.provides;const o=currentInstance.parent&&currentInstance.parent.provides;o===s&&(s=currentInstance.provides=Object.create(o)),s[e]=n}}function inject(e,n,s=!1){const o=getCurrentInstance();if(o||currentApp){let i=currentApp?currentApp._context.provides:o?o.parent==null||o.ce?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:void 0;if(i&&e in i)return i[e];if(arguments.length>1)return s&&isFunction(n)?n.call(o&&o.proxy):n}}const internalObjectProto={},createInternalObject=()=>Object.create(internalObjectProto),isInternalObject=e=>Object.getPrototypeOf(e)===internalObjectProto;function initProps(e,n,s,o=!1){const i={},l=createInternalObject();e.propsDefaults=Object.create(null),setFullProps(e,n,i,l);for(const c in e.propsOptions[0])c in i||(i[c]=void 0);s?e.props=o?i:shallowReactive(i):e.type.props?e.props=i:e.props=l,e.attrs=l}function updateProps(e,n,s,o){const{props:i,attrs:l,vnode:{patchFlag:c}}=e,u=toRaw(i),[d]=e.propsOptions;let v=!1;if((o||c>0)&&!(c&16)){if(c&8){const b=e.vnode.dynamicProps;for(let P=0;P<b.length;P++){let V=b[P];if(isEmitListener(e.emitsOptions,V))continue;const F=n[V];if(d)if(hasOwn(l,V))F!==l[V]&&(l[V]=F,v=!0);else{const q=camelize(V);i[q]=resolvePropValue(d,u,q,F,e,!1)}else F!==l[V]&&(l[V]=F,v=!0)}}}else{setFullProps(e,n,i,l)&&(v=!0);let b;for(const P in u)(!n||!hasOwn(n,P)&&((b=hyphenate(P))===P||!hasOwn(n,b)))&&(d?s&&(s[P]!==void 0||s[b]!==void 0)&&(i[P]=resolvePropValue(d,u,P,void 0,e,!0)):delete i[P]);if(l!==u)for(const P in l)(!n||!hasOwn(n,P))&&(delete l[P],v=!0)}v&&trigger(e.attrs,"set","")}function setFullProps(e,n,s,o){const[i,l]=e.propsOptions;let c=!1,u;if(n)for(let d in n){if(isReservedProp(d))continue;const v=n[d];let b;i&&hasOwn(i,b=camelize(d))?!l||!l.includes(b)?s[b]=v:(u||(u={}))[b]=v:isEmitListener(e.emitsOptions,d)||(!(d in o)||v!==o[d])&&(o[d]=v,c=!0)}if(l){const d=toRaw(s),v=u||EMPTY_OBJ;for(let b=0;b<l.length;b++){const P=l[b];s[P]=resolvePropValue(i,d,P,v[P],e,!hasOwn(v,P))}}return c}function resolvePropValue(e,n,s,o,i,l){const c=e[s];if(c!=null){const u=hasOwn(c,"default");if(u&&o===void 0){const d=c.default;if(c.type!==Function&&!c.skipFactory&&isFunction(d)){const{propsDefaults:v}=i;if(s in v)o=v[s];else{const b=setCurrentInstance(i);o=v[s]=d.call(null,n),b()}}else o=d;i.ce&&i.ce._setProp(s,o)}c[0]&&(l&&!u?o=!1:c[1]&&(o===""||o===hyphenate(s))&&(o=!0))}return o}const mixinPropsCache=new WeakMap;function normalizePropsOptions(e,n,s=!1){const o=s?mixinPropsCache:n.propsCache,i=o.get(e);if(i)return i;const l=e.props,c={},u=[];let d=!1;if(!isFunction(e)){const b=P=>{d=!0;const[V,F]=normalizePropsOptions(P,n,!0);extend(c,V),F&&u.push(...F)};!s&&n.mixins.length&&n.mixins.forEach(b),e.extends&&b(e.extends),e.mixins&&e.mixins.forEach(b)}if(!l&&!d)return isObject(e)&&o.set(e,EMPTY_ARR),EMPTY_ARR;if(isArray$1(l))for(let b=0;b<l.length;b++){const P=camelize(l[b]);validatePropName(P)&&(c[P]=EMPTY_OBJ)}else if(l)for(const b in l){const P=camelize(b);if(validatePropName(P)){const V=l[b],F=c[P]=isArray$1(V)||isFunction(V)?{type:V}:extend({},V),q=F.type;let Q=!1,ee=!0;if(isArray$1(q))for(let ie=0;ie<q.length;++ie){const ue=q[ie],ge=isFunction(ue)&&ue.name;if(ge==="Boolean"){Q=!0;break}else ge==="String"&&(ee=!1)}else Q=isFunction(q)&&q.name==="Boolean";F[0]=Q,F[1]=ee,(Q||hasOwn(F,"default"))&&u.push(P)}}const v=[c,u];return isObject(e)&&o.set(e,v),v}function validatePropName(e){return e[0]!=="$"&&!isReservedProp(e)}const isInternalKey=e=>e==="_"||e==="_ctx"||e==="$stable",normalizeSlotValue=e=>isArray$1(e)?e.map(normalizeVNode):[normalizeVNode(e)],normalizeSlot$1=(e,n,s)=>{if(n._n)return n;const o=withCtx((...i)=>normalizeSlotValue(n(...i)),s);return o._c=!1,o},normalizeObjectSlots=(e,n,s)=>{const o=e._ctx;for(const i in e){if(isInternalKey(i))continue;const l=e[i];if(isFunction(l))n[i]=normalizeSlot$1(i,l,o);else if(l!=null){const c=normalizeSlotValue(l);n[i]=()=>c}}},normalizeVNodeSlots=(e,n)=>{const s=normalizeSlotValue(n);e.slots.default=()=>s},assignSlots=(e,n,s)=>{for(const o in n)(s||!isInternalKey(o))&&(e[o]=n[o])},initSlots=(e,n,s)=>{const o=e.slots=createInternalObject();if(e.vnode.shapeFlag&32){const i=n._;i?(assignSlots(o,n,s),s&&def(o,"_",i,!0)):normalizeObjectSlots(n,o)}else n&&normalizeVNodeSlots(e,n)},updateSlots=(e,n,s)=>{const{vnode:o,slots:i}=e;let l=!0,c=EMPTY_OBJ;if(o.shapeFlag&32){const u=n._;u?s&&u===1?l=!1:assignSlots(i,n,s):(l=!n.$stable,normalizeObjectSlots(n,i)),c=n}else n&&(normalizeVNodeSlots(e,n),c={default:1});if(l)for(const u in i)!isInternalKey(u)&&c[u]==null&&delete i[u]},queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(e){return baseCreateRenderer(e)}function baseCreateRenderer(e,n){const s=getGlobalThis();s.__VUE__=!0;const{insert:o,remove:i,patchProp:l,createElement:c,createText:u,createComment:d,setText:v,setElementText:b,parentNode:P,nextSibling:V,setScopeId:F=NOOP,insertStaticContent:q}=e,Q=(U,K,G,W=null,J=null,Z=null,le=void 0,ae=null,oe=!!K.dynamicChildren)=>{if(U===K)return;U&&!isSameVNodeType(U,K)&&(W=te(U),Ve(U,J,Z,!0),U=null),K.patchFlag===-2&&(oe=!1,K.dynamicChildren=null);const{type:se,ref:be,shapeFlag:de}=K;switch(se){case Text:ee(U,K,G,W);break;case Comment:ie(U,K,G,W);break;case Static:U==null&&ue(K,G,W,le);break;case Fragment:ce(U,K,G,W,J,Z,le,ae,oe);break;default:de&1?ne(U,K,G,W,J,Z,le,ae,oe):de&6?Se(U,K,G,W,J,Z,le,ae,oe):(de&64||de&128)&&se.process(U,K,G,W,J,Z,le,ae,oe,we)}be!=null&&J?setRef(be,U&&U.ref,Z,K||U,!K):be==null&&U&&U.ref!=null&&setRef(U.ref,null,Z,U,!0)},ee=(U,K,G,W)=>{if(U==null)o(K.el=u(K.children),G,W);else{const J=K.el=U.el;K.children!==U.children&&v(J,K.children)}},ie=(U,K,G,W)=>{U==null?o(K.el=d(K.children||""),G,W):K.el=U.el},ue=(U,K,G,W)=>{[U.el,U.anchor]=q(U.children,K,G,W,U.el,U.anchor)},ge=({el:U,anchor:K},G,W)=>{let J;for(;U&&U!==K;)J=V(U),o(U,G,W),U=J;o(K,G,W)},re=({el:U,anchor:K})=>{let G;for(;U&&U!==K;)G=V(U),i(U),U=G;i(K)},ne=(U,K,G,W,J,Z,le,ae,oe)=>{if(K.type==="svg"?le="svg":K.type==="math"&&(le="mathml"),U==null)fe(K,G,W,J,Z,le,ae,oe);else{const se=U.el&&U.el._isVueCE?U.el:null;try{se&&se._beginPatch(),pe(U,K,J,Z,le,ae,oe)}finally{se&&se._endPatch()}}},fe=(U,K,G,W,J,Z,le,ae)=>{let oe,se;const{props:be,shapeFlag:de,transition:Ee,dirs:Ce}=U;if(oe=U.el=c(U.type,Z,be&&be.is,be),de&8?b(oe,U.children):de&16&&_e(U.children,oe,null,W,J,resolveChildrenNamespace(U,Z),le,ae),Ce&&invokeDirectiveHook(U,null,W,"created"),he(oe,U,U.scopeId,le,W),be){for(const Ie in be)Ie!=="value"&&!isReservedProp(Ie)&&l(oe,Ie,null,be[Ie],Z,W);"value"in be&&l(oe,"value",null,be.value,Z),(se=be.onVnodeBeforeMount)&&invokeVNodeHook(se,W,U)}Ce&&invokeDirectiveHook(U,null,W,"beforeMount");const Ne=needTransition(J,Ee);Ne&&Ee.beforeEnter(oe),o(oe,K,G),((se=be&&be.onVnodeMounted)||Ne||Ce)&&queuePostRenderEffect(()=>{se&&invokeVNodeHook(se,W,U),Ne&&Ee.enter(oe),Ce&&invokeDirectiveHook(U,null,W,"mounted")},J)},he=(U,K,G,W,J)=>{if(G&&F(U,G),W)for(let Z=0;Z<W.length;Z++)F(U,W[Z]);if(J){let Z=J.subTree;if(K===Z||isSuspense(Z.type)&&(Z.ssContent===K||Z.ssFallback===K)){const le=J.vnode;he(U,le,le.scopeId,le.slotScopeIds,J.parent)}}},_e=(U,K,G,W,J,Z,le,ae,oe=0)=>{for(let se=oe;se<U.length;se++){const be=U[se]=ae?cloneIfMounted(U[se]):normalizeVNode(U[se]);Q(null,be,K,G,W,J,Z,le,ae)}},pe=(U,K,G,W,J,Z,le)=>{const ae=K.el=U.el;let{patchFlag:oe,dynamicChildren:se,dirs:be}=K;oe|=U.patchFlag&16;const de=U.props||EMPTY_OBJ,Ee=K.props||EMPTY_OBJ;let Ce;if(G&&toggleRecurse(G,!1),(Ce=Ee.onVnodeBeforeUpdate)&&invokeVNodeHook(Ce,G,K,U),be&&invokeDirectiveHook(K,U,G,"beforeUpdate"),G&&toggleRecurse(G,!0),(de.innerHTML&&Ee.innerHTML==null||de.textContent&&Ee.textContent==null)&&b(ae,""),se?ve(U.dynamicChildren,se,ae,G,W,resolveChildrenNamespace(K,J),Z):le||xe(U,K,ae,null,G,W,resolveChildrenNamespace(K,J),Z,!1),oe>0){if(oe&16)ke(ae,de,Ee,G,J);else if(oe&2&&de.class!==Ee.class&&l(ae,"class",null,Ee.class,J),oe&4&&l(ae,"style",de.style,Ee.style,J),oe&8){const Ne=K.dynamicProps;for(let Ie=0;Ie<Ne.length;Ie++){const Be=Ne[Ie],He=de[Be],$e=Ee[Be];($e!==He||Be==="value")&&l(ae,Be,He,$e,J,G)}}oe&1&&U.children!==K.children&&b(ae,K.children)}else!le&&se==null&&ke(ae,de,Ee,G,J);((Ce=Ee.onVnodeUpdated)||be)&&queuePostRenderEffect(()=>{Ce&&invokeVNodeHook(Ce,G,K,U),be&&invokeDirectiveHook(K,U,G,"updated")},W)},ve=(U,K,G,W,J,Z,le)=>{for(let ae=0;ae<K.length;ae++){const oe=U[ae],se=K[ae],be=oe.el&&(oe.type===Fragment||!isSameVNodeType(oe,se)||oe.shapeFlag&198)?P(oe.el):G;Q(oe,se,be,null,W,J,Z,le,!0)}},ke=(U,K,G,W,J)=>{if(K!==G){if(K!==EMPTY_OBJ)for(const Z in K)!isReservedProp(Z)&&!(Z in G)&&l(U,Z,K[Z],null,J,W);for(const Z in G){if(isReservedProp(Z))continue;const le=G[Z],ae=K[Z];le!==ae&&Z!=="value"&&l(U,Z,ae,le,J,W)}"value"in G&&l(U,"value",K.value,G.value,J)}},ce=(U,K,G,W,J,Z,le,ae,oe)=>{const se=K.el=U?U.el:u(""),be=K.anchor=U?U.anchor:u("");let{patchFlag:de,dynamicChildren:Ee,slotScopeIds:Ce}=K;Ce&&(ae=ae?ae.concat(Ce):Ce),U==null?(o(se,G,W),o(be,G,W),_e(K.children||[],G,be,J,Z,le,ae,oe)):de>0&&de&64&&Ee&&U.dynamicChildren?(ve(U.dynamicChildren,Ee,G,J,Z,le,ae),(K.key!=null||J&&K===J.subTree)&&traverseStaticChildren(U,K,!0)):xe(U,K,G,be,J,Z,le,ae,oe)},Se=(U,K,G,W,J,Z,le,ae,oe)=>{K.slotScopeIds=ae,U==null?K.shapeFlag&512?J.ctx.activate(K,G,W,le,oe):Re(K,G,W,J,Z,le,oe):Le(U,K,oe)},Re=(U,K,G,W,J,Z,le)=>{const ae=U.component=createComponentInstance(U,W,J);if(isKeepAlive(U)&&(ae.ctx.renderer=we),setupComponent(ae,!1,le),ae.asyncDep){if(J&&J.registerDep(ae,Ae,le),!U.el){const oe=ae.subTree=createVNode(Comment);ie(null,oe,K,G),U.placeholder=oe.el}}else Ae(ae,U,K,G,J,Z,le)},Le=(U,K,G)=>{const W=K.component=U.component;if(shouldUpdateComponent(U,K,G))if(W.asyncDep&&!W.asyncResolved){Te(W,K,G);return}else W.next=K,W.update();else K.el=U.el,W.vnode=K},Ae=(U,K,G,W,J,Z,le)=>{const ae=()=>{if(U.isMounted){let{next:de,bu:Ee,u:Ce,parent:Ne,vnode:Ie}=U;{const Ye=locateNonHydratedAsyncRoot(U);if(Ye){de&&(de.el=Ie.el,Te(U,de,le)),Ye.asyncDep.then(()=>{U.isUnmounted||ae()});return}}let Be=de,He;toggleRecurse(U,!1),de?(de.el=Ie.el,Te(U,de,le)):de=Ie,Ee&&invokeArrayFns(Ee),(He=de.props&&de.props.onVnodeBeforeUpdate)&&invokeVNodeHook(He,Ne,de,Ie),toggleRecurse(U,!0);const $e=renderComponentRoot(U),qe=U.subTree;U.subTree=$e,Q(qe,$e,P(qe.el),te(qe),U,J,Z),de.el=$e.el,Be===null&&updateHOCHostEl(U,$e.el),Ce&&queuePostRenderEffect(Ce,J),(He=de.props&&de.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(He,Ne,de,Ie),J)}else{let de;const{el:Ee,props:Ce}=K,{bm:Ne,m:Ie,parent:Be,root:He,type:$e}=U,qe=isAsyncWrapper(K);toggleRecurse(U,!1),Ne&&invokeArrayFns(Ne),!qe&&(de=Ce&&Ce.onVnodeBeforeMount)&&invokeVNodeHook(de,Be,K),toggleRecurse(U,!0);{He.ce&&He.ce._def.shadowRoot!==!1&&He.ce._injectChildStyle($e);const Ye=U.subTree=renderComponentRoot(U);Q(null,Ye,G,W,U,J,Z),K.el=Ye.el}if(Ie&&queuePostRenderEffect(Ie,J),!qe&&(de=Ce&&Ce.onVnodeMounted)){const Ye=K;queuePostRenderEffect(()=>invokeVNodeHook(de,Be,Ye),J)}(K.shapeFlag&256||Be&&isAsyncWrapper(Be.vnode)&&Be.vnode.shapeFlag&256)&&U.a&&queuePostRenderEffect(U.a,J),U.isMounted=!0,K=G=W=null}};U.scope.on();const oe=U.effect=new ReactiveEffect(ae);U.scope.off();const se=U.update=oe.run.bind(oe),be=U.job=oe.runIfDirty.bind(oe);be.i=U,be.id=U.uid,oe.scheduler=()=>queueJob(be),toggleRecurse(U,!0),se()},Te=(U,K,G)=>{K.component=U;const W=U.vnode.props;U.vnode=K,U.next=null,updateProps(U,K.props,W,G),updateSlots(U,K.children,G),pauseTracking(),flushPreFlushCbs(U),resetTracking()},xe=(U,K,G,W,J,Z,le,ae,oe=!1)=>{const se=U&&U.children,be=U?U.shapeFlag:0,de=K.children,{patchFlag:Ee,shapeFlag:Ce}=K;if(Ee>0){if(Ee&128){Oe(se,de,G,W,J,Z,le,ae,oe);return}else if(Ee&256){Ue(se,de,G,W,J,Z,le,ae,oe);return}}Ce&8?(be&16&&Fe(se,J,Z),de!==se&&b(G,de)):be&16?Ce&16?Oe(se,de,G,W,J,Z,le,ae,oe):Fe(se,J,Z,!0):(be&8&&b(G,""),Ce&16&&_e(de,G,W,J,Z,le,ae,oe))},Ue=(U,K,G,W,J,Z,le,ae,oe)=>{U=U||EMPTY_ARR,K=K||EMPTY_ARR;const se=U.length,be=K.length,de=Math.min(se,be);let Ee;for(Ee=0;Ee<de;Ee++){const Ce=K[Ee]=oe?cloneIfMounted(K[Ee]):normalizeVNode(K[Ee]);Q(U[Ee],Ce,G,null,J,Z,le,ae,oe)}se>be?Fe(U,J,Z,!0,!1,de):_e(K,G,W,J,Z,le,ae,oe,de)},Oe=(U,K,G,W,J,Z,le,ae,oe)=>{let se=0;const be=K.length;let de=U.length-1,Ee=be-1;for(;se<=de&&se<=Ee;){const Ce=U[se],Ne=K[se]=oe?cloneIfMounted(K[se]):normalizeVNode(K[se]);if(isSameVNodeType(Ce,Ne))Q(Ce,Ne,G,null,J,Z,le,ae,oe);else break;se++}for(;se<=de&&se<=Ee;){const Ce=U[de],Ne=K[Ee]=oe?cloneIfMounted(K[Ee]):normalizeVNode(K[Ee]);if(isSameVNodeType(Ce,Ne))Q(Ce,Ne,G,null,J,Z,le,ae,oe);else break;de--,Ee--}if(se>de){if(se<=Ee){const Ce=Ee+1,Ne=Ce<be?K[Ce].el:W;for(;se<=Ee;)Q(null,K[se]=oe?cloneIfMounted(K[se]):normalizeVNode(K[se]),G,Ne,J,Z,le,ae,oe),se++}}else if(se>Ee)for(;se<=de;)Ve(U[se],J,Z,!0),se++;else{const Ce=se,Ne=se,Ie=new Map;for(se=Ne;se<=Ee;se++){const Ke=K[se]=oe?cloneIfMounted(K[se]):normalizeVNode(K[se]);Ke.key!=null&&Ie.set(Ke.key,se)}let Be,He=0;const $e=Ee-Ne+1;let qe=!1,Ye=0;const Ge=new Array($e);for(se=0;se<$e;se++)Ge[se]=0;for(se=Ce;se<=de;se++){const Ke=U[se];if(He>=$e){Ve(Ke,J,Z,!0);continue}let We;if(Ke.key!=null)We=Ie.get(Ke.key);else for(Be=Ne;Be<=Ee;Be++)if(Ge[Be-Ne]===0&&isSameVNodeType(Ke,K[Be])){We=Be;break}We===void 0?Ve(Ke,J,Z,!0):(Ge[We-Ne]=se+1,We>=Ye?Ye=We:qe=!0,Q(Ke,K[We],G,null,J,Z,le,ae,oe),He++)}const Je=qe?getSequence(Ge):EMPTY_ARR;for(Be=Je.length-1,se=$e-1;se>=0;se--){const Ke=Ne+se,We=K[Ke],Xe=K[Ke+1],Qe=Ke+1<be?Xe.el||Xe.placeholder:W;Ge[se]===0?Q(null,We,G,Qe,J,Z,le,ae,oe):qe&&(Be<0||se!==Je[Be]?Me(We,G,Qe,2):Be--)}}},Me=(U,K,G,W,J=null)=>{const{el:Z,type:le,transition:ae,children:oe,shapeFlag:se}=U;if(se&6){Me(U.component.subTree,K,G,W);return}if(se&128){U.suspense.move(K,G,W);return}if(se&64){le.move(U,K,G,we);return}if(le===Fragment){o(Z,K,G);for(let de=0;de<oe.length;de++)Me(oe[de],K,G,W);o(U.anchor,K,G);return}if(le===Static){ge(U,K,G);return}if(W!==2&&se&1&&ae)if(W===0)ae.beforeEnter(Z),o(Z,K,G),queuePostRenderEffect(()=>ae.enter(Z),J);else{const{leave:de,delayLeave:Ee,afterLeave:Ce}=ae,Ne=()=>{U.ctx.isUnmounted?i(Z):o(Z,K,G)},Ie=()=>{Z._isLeaving&&Z[leaveCbKey](!0),de(Z,()=>{Ne(),Ce&&Ce()})};Ee?Ee(Z,Ne,Ie):Ie()}else o(Z,K,G)},Ve=(U,K,G,W=!1,J=!1)=>{const{type:Z,props:le,ref:ae,children:oe,dynamicChildren:se,shapeFlag:be,patchFlag:de,dirs:Ee,cacheIndex:Ce}=U;if(de===-2&&(J=!1),ae!=null&&(pauseTracking(),setRef(ae,null,G,U,!0),resetTracking()),Ce!=null&&(K.renderCache[Ce]=void 0),be&256){K.ctx.deactivate(U);return}const Ne=be&1&&Ee,Ie=!isAsyncWrapper(U);let Be;if(Ie&&(Be=le&&le.onVnodeBeforeUnmount)&&invokeVNodeHook(Be,K,U),be&6)De(U.component,G,W);else{if(be&128){U.suspense.unmount(G,W);return}Ne&&invokeDirectiveHook(U,null,K,"beforeUnmount"),be&64?U.type.remove(U,K,G,we,W):se&&!se.hasOnce&&(Z!==Fragment||de>0&&de&64)?Fe(se,K,G,!1,!0):(Z===Fragment&&de&384||!J&&be&16)&&Fe(oe,K,G),W&&je(U)}(Ie&&(Be=le&&le.onVnodeUnmounted)||Ne)&&queuePostRenderEffect(()=>{Be&&invokeVNodeHook(Be,K,U),Ne&&invokeDirectiveHook(U,null,K,"unmounted")},G)},je=U=>{const{type:K,el:G,anchor:W,transition:J}=U;if(K===Fragment){ze(G,W);return}if(K===Static){re(U);return}const Z=()=>{i(G),J&&!J.persisted&&J.afterLeave&&J.afterLeave()};if(U.shapeFlag&1&&J&&!J.persisted){const{leave:le,delayLeave:ae}=J,oe=()=>le(G,Z);ae?ae(U.el,Z,oe):oe()}else Z()},ze=(U,K)=>{let G;for(;U!==K;)G=V(U),i(U),U=G;i(K)},De=(U,K,G)=>{const{bum:W,scope:J,job:Z,subTree:le,um:ae,m:oe,a:se}=U;invalidateMount(oe),invalidateMount(se),W&&invokeArrayFns(W),J.stop(),Z&&(Z.flags|=8,Ve(le,U,K,G)),ae&&queuePostRenderEffect(ae,K),queuePostRenderEffect(()=>{U.isUnmounted=!0},K)},Fe=(U,K,G,W=!1,J=!1,Z=0)=>{for(let le=Z;le<U.length;le++)Ve(U[le],K,G,W,J)},te=U=>{if(U.shapeFlag&6)return te(U.component.subTree);if(U.shapeFlag&128)return U.suspense.next();const K=V(U.anchor||U.el),G=K&&K[TeleportEndKey];return G?V(G):K};let ye=!1;const me=(U,K,G)=>{U==null?K._vnode&&Ve(K._vnode,null,null,!0):Q(K._vnode||null,U,K,null,null,null,G),K._vnode=U,ye||(ye=!0,flushPreFlushCbs(),flushPostFlushCbs(),ye=!1)},we={p:Q,um:Ve,m:Me,r:je,mt:Re,mc:_e,pc:xe,pbc:ve,n:te,o:e};return{render:me,hydrate:void 0,createApp:createAppAPI(me)}}function resolveChildrenNamespace({type:e,props:n},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&n&&n.encoding&&n.encoding.includes("html")?void 0:s}function toggleRecurse({effect:e,job:n},s){s?(e.flags|=32,n.flags|=4):(e.flags&=-33,n.flags&=-5)}function needTransition(e,n){return(!e||e&&!e.pendingBranch)&&n&&!n.persisted}function traverseStaticChildren(e,n,s=!1){const o=e.children,i=n.children;if(isArray$1(o)&&isArray$1(i))for(let l=0;l<o.length;l++){const c=o[l];let u=i[l];u.shapeFlag&1&&!u.dynamicChildren&&((u.patchFlag<=0||u.patchFlag===32)&&(u=i[l]=cloneIfMounted(i[l]),u.el=c.el),!s&&u.patchFlag!==-2&&traverseStaticChildren(c,u)),u.type===Text&&u.patchFlag!==-1&&(u.el=c.el),u.type===Comment&&!u.el&&(u.el=c.el)}}function getSequence(e){const n=e.slice(),s=[0];let o,i,l,c,u;const d=e.length;for(o=0;o<d;o++){const v=e[o];if(v!==0){if(i=s[s.length-1],e[i]<v){n[o]=i,s.push(o);continue}for(l=0,c=s.length-1;l<c;)u=l+c>>1,e[s[u]]<v?l=u+1:c=u;v<e[s[l]]&&(l>0&&(n[o]=s[l-1]),s[l]=o)}}for(l=s.length,c=s[l-1];l-- >0;)s[l]=c,c=n[c];return s}function locateNonHydratedAsyncRoot(e){const n=e.subTree.component;if(n)return n.asyncDep&&!n.asyncResolved?n:locateNonHydratedAsyncRoot(n)}function invalidateMount(e){if(e)for(let n=0;n<e.length;n++)e[n].flags|=8}const ssrContextKey=Symbol.for("v-scx"),useSSRContext=()=>inject(ssrContextKey);function watchEffect(e,n){return doWatch(e,null,n)}function watch(e,n,s){return doWatch(e,n,s)}function doWatch(e,n,s=EMPTY_OBJ){const{immediate:o,deep:i,flush:l,once:c}=s,u=extend({},s),d=n&&o||!n&&l!=="post";let v;if(isInSSRComponentSetup){if(l==="sync"){const F=useSSRContext();v=F.__watcherHandles||(F.__watcherHandles=[])}else if(!d){const F=()=>{};return F.stop=NOOP,F.resume=NOOP,F.pause=NOOP,F}}const b=currentInstance;u.call=(F,q,Q)=>callWithAsyncErrorHandling(F,b,q,Q);let P=!1;l==="post"?u.scheduler=F=>{queuePostRenderEffect(F,b&&b.suspense)}:l!=="sync"&&(P=!0,u.scheduler=(F,q)=>{q?F():queueJob(F)}),u.augmentJob=F=>{n&&(F.flags|=4),P&&(F.flags|=2,b&&(F.id=b.uid,F.i=b))};const V=watch$1(e,n,u);return isInSSRComponentSetup&&(v?v.push(V):d&&V()),V}function instanceWatch(e,n,s){const o=this.proxy,i=isString(e)?e.includes(".")?createPathGetter(o,e):()=>o[e]:e.bind(o,o);let l;isFunction(n)?l=n:(l=n.handler,s=n);const c=setCurrentInstance(this),u=doWatch(i,l.bind(o),s);return c(),u}function createPathGetter(e,n){const s=n.split(".");return()=>{let o=e;for(let i=0;i<s.length&&o;i++)o=o[s[i]];return o}}const getModelModifiers=(e,n)=>n==="modelValue"||n==="model-value"?e.modelModifiers:e[`${n}Modifiers`]||e[`${camelize(n)}Modifiers`]||e[`${hyphenate(n)}Modifiers`];function emit(e,n,...s){if(e.isUnmounted)return;const o=e.vnode.props||EMPTY_OBJ;let i=s;const l=n.startsWith("update:"),c=l&&getModelModifiers(o,n.slice(7));c&&(c.trim&&(i=s.map(b=>isString(b)?b.trim():b)),c.number&&(i=s.map(looseToNumber)));let u,d=o[u=toHandlerKey(n)]||o[u=toHandlerKey(camelize(n))];!d&&l&&(d=o[u=toHandlerKey(hyphenate(n))]),d&&callWithAsyncErrorHandling(d,e,6,i);const v=o[u+"Once"];if(v){if(!e.emitted)e.emitted={};else if(e.emitted[u])return;e.emitted[u]=!0,callWithAsyncErrorHandling(v,e,6,i)}}const mixinEmitsCache=new WeakMap;function normalizeEmitsOptions(e,n,s=!1){const o=s?mixinEmitsCache:n.emitsCache,i=o.get(e);if(i!==void 0)return i;const l=e.emits;let c={},u=!1;if(!isFunction(e)){const d=v=>{const b=normalizeEmitsOptions(v,n,!0);b&&(u=!0,extend(c,b))};!s&&n.mixins.length&&n.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}return!l&&!u?(isObject(e)&&o.set(e,null),null):(isArray$1(l)?l.forEach(d=>c[d]=null):extend(c,l),isObject(e)&&o.set(e,c),c)}function isEmitListener(e,n){return!e||!isOn(n)?!1:(n=n.slice(2).replace(/Once$/,""),hasOwn(e,n[0].toLowerCase()+n.slice(1))||hasOwn(e,hyphenate(n))||hasOwn(e,n))}function markAttrsAccessed(){}function renderComponentRoot(e){const{type:n,vnode:s,proxy:o,withProxy:i,propsOptions:[l],slots:c,attrs:u,emit:d,render:v,renderCache:b,props:P,data:V,setupState:F,ctx:q,inheritAttrs:Q}=e,ee=setCurrentRenderingInstance(e);let ie,ue;try{if(s.shapeFlag&4){const re=i||o,ne=re;ie=normalizeVNode(v.call(ne,re,b,P,F,V,q)),ue=u}else{const re=n;ie=normalizeVNode(re.length>1?re(P,{attrs:u,slots:c,emit:d}):re(P,null)),ue=n.props?u:getFunctionalFallthrough(u)}}catch(re){blockStack.length=0,handleError(re,e,1),ie=createVNode(Comment)}let ge=ie;if(ue&&Q!==!1){const re=Object.keys(ue),{shapeFlag:ne}=ge;re.length&&ne&7&&(l&&re.some(isModelListener)&&(ue=filterModelListeners(ue,l)),ge=cloneVNode(ge,ue,!1,!0))}return s.dirs&&(ge=cloneVNode(ge,null,!1,!0),ge.dirs=ge.dirs?ge.dirs.concat(s.dirs):s.dirs),s.transition&&setTransitionHooks(ge,s.transition),ie=ge,setCurrentRenderingInstance(ee),ie}function filterSingleRoot(e,n=!0){let s;for(let o=0;o<e.length;o++){const i=e[o];if(isVNode(i)){if(i.type!==Comment||i.children==="v-if"){if(s)return;s=i}}else return}return s}const getFunctionalFallthrough=e=>{let n;for(const s in e)(s==="class"||s==="style"||isOn(s))&&((n||(n={}))[s]=e[s]);return n},filterModelListeners=(e,n)=>{const s={};for(const o in e)(!isModelListener(o)||!(o.slice(9)in n))&&(s[o]=e[o]);return s};function shouldUpdateComponent(e,n,s){const{props:o,children:i,component:l}=e,{props:c,children:u,patchFlag:d}=n,v=l.emitsOptions;if(n.dirs||n.transition)return!0;if(s&&d>=0){if(d&1024)return!0;if(d&16)return o?hasPropsChanged(o,c,v):!!c;if(d&8){const b=n.dynamicProps;for(let P=0;P<b.length;P++){const V=b[P];if(c[V]!==o[V]&&!isEmitListener(v,V))return!0}}}else return(i||u)&&(!u||!u.$stable)?!0:o===c?!1:o?c?hasPropsChanged(o,c,v):!0:!!c;return!1}function hasPropsChanged(e,n,s){const o=Object.keys(n);if(o.length!==Object.keys(e).length)return!0;for(let i=0;i<o.length;i++){const l=o[i];if(n[l]!==e[l]&&!isEmitListener(s,l))return!0}return!1}function updateHOCHostEl({vnode:e,parent:n},s){for(;n;){const o=n.subTree;if(o.suspense&&o.suspense.activeBranch===e&&(o.el=e.el),o===e)(e=n.vnode).el=s,n=n.parent;else break}}const isSuspense=e=>e.__isSuspense;let suspenseId=0;const SuspenseImpl={name:"Suspense",__isSuspense:!0,process(e,n,s,o,i,l,c,u,d,v){if(e==null)mountSuspense(n,s,o,i,l,c,u,d,v);else{if(l&&l.deps>0&&!e.suspense.isInFallback){n.suspense=e.suspense,n.suspense.vnode=n,n.el=e.el;return}patchSuspense(e,n,s,o,i,c,u,d,v)}},hydrate:hydrateSuspense,normalize:normalizeSuspenseChildren},Suspense=SuspenseImpl;function triggerEvent(e,n){const s=e.props&&e.props[n];isFunction(s)&&s()}function mountSuspense(e,n,s,o,i,l,c,u,d){const{p:v,o:{createElement:b}}=d,P=b("div"),V=e.suspense=createSuspenseBoundary(e,i,o,n,P,s,l,c,u,d);v(null,V.pendingBranch=e.ssContent,P,null,o,V,l,c),V.deps>0?(triggerEvent(e,"onPending"),triggerEvent(e,"onFallback"),v(null,e.ssFallback,n,s,o,null,l,c),setActiveBranch(V,e.ssFallback)):V.resolve(!1,!0)}function patchSuspense(e,n,s,o,i,l,c,u,{p:d,um:v,o:{createElement:b}}){const P=n.suspense=e.suspense;P.vnode=n,n.el=e.el;const V=n.ssContent,F=n.ssFallback,{activeBranch:q,pendingBranch:Q,isInFallback:ee,isHydrating:ie}=P;if(Q)P.pendingBranch=V,isSameVNodeType(Q,V)?(d(Q,V,P.hiddenContainer,null,i,P,l,c,u),P.deps<=0?P.resolve():ee&&(ie||(d(q,F,s,o,i,null,l,c,u),setActiveBranch(P,F)))):(P.pendingId=suspenseId++,ie?(P.isHydrating=!1,P.activeBranch=Q):v(Q,i,P),P.deps=0,P.effects.length=0,P.hiddenContainer=b("div"),ee?(d(null,V,P.hiddenContainer,null,i,P,l,c,u),P.deps<=0?P.resolve():(d(q,F,s,o,i,null,l,c,u),setActiveBranch(P,F))):q&&isSameVNodeType(q,V)?(d(q,V,s,o,i,P,l,c,u),P.resolve(!0)):(d(null,V,P.hiddenContainer,null,i,P,l,c,u),P.deps<=0&&P.resolve()));else if(q&&isSameVNodeType(q,V))d(q,V,s,o,i,P,l,c,u),setActiveBranch(P,V);else if(triggerEvent(n,"onPending"),P.pendingBranch=V,V.shapeFlag&512?P.pendingId=V.component.suspenseId:P.pendingId=suspenseId++,d(null,V,P.hiddenContainer,null,i,P,l,c,u),P.deps<=0)P.resolve();else{const{timeout:ue,pendingId:ge}=P;ue>0?setTimeout(()=>{P.pendingId===ge&&P.fallback(F)},ue):ue===0&&P.fallback(F)}}function createSuspenseBoundary(e,n,s,o,i,l,c,u,d,v,b=!1){const{p:P,m:V,um:F,n:q,o:{parentNode:Q,remove:ee}}=v;let ie;const ue=isVNodeSuspensible(e);ue&&n&&n.pendingBranch&&(ie=n.pendingId,n.deps++);const ge=e.props?toNumber(e.props.timeout):void 0,re=l,ne={vnode:e,parent:n,parentComponent:s,namespace:c,container:o,hiddenContainer:i,deps:0,pendingId:suspenseId++,timeout:typeof ge=="number"?ge:-1,activeBranch:null,pendingBranch:null,isInFallback:!b,isHydrating:b,isUnmounted:!1,effects:[],resolve(fe=!1,he=!1){const{vnode:_e,activeBranch:pe,pendingBranch:ve,pendingId:ke,effects:ce,parentComponent:Se,container:Re,isInFallback:Le}=ne;let Ae=!1;ne.isHydrating?ne.isHydrating=!1:fe||(Ae=pe&&ve.transition&&ve.transition.mode==="out-in",Ae&&(pe.transition.afterLeave=()=>{ke===ne.pendingId&&(V(ve,Re,l===re?q(pe):l,0),queuePostFlushCb(ce),Le&&_e.ssFallback&&(_e.ssFallback.el=null))}),pe&&(Q(pe.el)===Re&&(l=q(pe)),F(pe,Se,ne,!0),!Ae&&Le&&_e.ssFallback&&(_e.ssFallback.el=null)),Ae||V(ve,Re,l,0)),setActiveBranch(ne,ve),ne.pendingBranch=null,ne.isInFallback=!1;let Te=ne.parent,xe=!1;for(;Te;){if(Te.pendingBranch){Te.effects.push(...ce),xe=!0;break}Te=Te.parent}!xe&&!Ae&&queuePostFlushCb(ce),ne.effects=[],ue&&n&&n.pendingBranch&&ie===n.pendingId&&(n.deps--,n.deps===0&&!he&&n.resolve()),triggerEvent(_e,"onResolve")},fallback(fe){if(!ne.pendingBranch)return;const{vnode:he,activeBranch:_e,parentComponent:pe,container:ve,namespace:ke}=ne;triggerEvent(he,"onFallback");const ce=q(_e),Se=()=>{ne.isInFallback&&(P(null,fe,ve,ce,pe,null,ke,u,d),setActiveBranch(ne,fe))},Re=fe.transition&&fe.transition.mode==="out-in";Re&&(_e.transition.afterLeave=Se),ne.isInFallback=!0,F(_e,pe,null,!0),Re||Se()},move(fe,he,_e){ne.activeBranch&&V(ne.activeBranch,fe,he,_e),ne.container=fe},next(){return ne.activeBranch&&q(ne.activeBranch)},registerDep(fe,he,_e){const pe=!!ne.pendingBranch;pe&&ne.deps++;const ve=fe.vnode.el;fe.asyncDep.catch(ke=>{handleError(ke,fe,0)}).then(ke=>{if(fe.isUnmounted||ne.isUnmounted||ne.pendingId!==fe.suspenseId)return;fe.asyncResolved=!0;const{vnode:ce}=fe;handleSetupResult(fe,ke),ve&&(ce.el=ve);const Se=!ve&&fe.subTree.el;he(fe,ce,Q(ve||fe.subTree.el),ve?null:q(fe.subTree),ne,c,_e),Se&&(ce.placeholder=null,ee(Se)),updateHOCHostEl(fe,ce.el),pe&&--ne.deps===0&&ne.resolve()})},unmount(fe,he){ne.isUnmounted=!0,ne.activeBranch&&F(ne.activeBranch,s,fe,he),ne.pendingBranch&&F(ne.pendingBranch,s,fe,he)}};return ne}function hydrateSuspense(e,n,s,o,i,l,c,u,d){const v=n.suspense=createSuspenseBoundary(n,o,s,e.parentNode,document.createElement("div"),null,i,l,c,u,!0),b=d(e,v.pendingBranch=n.ssContent,s,v,l,c);return v.deps===0&&v.resolve(!1,!0),b}function normalizeSuspenseChildren(e){const{shapeFlag:n,children:s}=e,o=n&32;e.ssContent=normalizeSuspenseSlot(o?s.default:s),e.ssFallback=o?normalizeSuspenseSlot(s.fallback):createVNode(Comment)}function normalizeSuspenseSlot(e){let n;if(isFunction(e)){const s=isBlockTreeEnabled&&e._c;s&&(e._d=!1,openBlock()),e=e(),s&&(e._d=!0,n=currentBlock,closeBlock())}return isArray$1(e)&&(e=filterSingleRoot(e)),e=normalizeVNode(e),n&&!e.dynamicChildren&&(e.dynamicChildren=n.filter(s=>s!==e)),e}function queueEffectWithSuspense(e,n){n&&n.pendingBranch?isArray$1(e)?n.effects.push(...e):n.effects.push(e):queuePostFlushCb(e)}function setActiveBranch(e,n){e.activeBranch=n;const{vnode:s,parentComponent:o}=e;let i=n.el;for(;!i&&n.component;)n=n.component.subTree,i=n.el;s.el=i,o&&o.subTree===s&&(o.vnode.el=i,updateHOCHostEl(o,i))}function isVNodeSuspensible(e){const n=e.props&&e.props.suspensible;return n!=null&&n!==!1}const Fragment=Symbol.for("v-fgt"),Text=Symbol.for("v-txt"),Comment=Symbol.for("v-cmt"),Static=Symbol.for("v-stc"),blockStack=[];let currentBlock=null;function openBlock(e=!1){blockStack.push(currentBlock=e?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(e,n=!1){isBlockTreeEnabled+=e,e<0&&currentBlock&&n&&(currentBlock.hasOnce=!0)}function setupBlock(e){return e.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(e),e}function createElementBlock(e,n,s,o,i,l){return setupBlock(createBaseVNode(e,n,s,o,i,l,!0))}function createBlock(e,n,s,o,i){return setupBlock(createVNode(e,n,s,o,i,!0))}function isVNode(e){return e?e.__v_isVNode===!0:!1}function isSameVNodeType(e,n){return e.type===n.type&&e.key===n.key}const normalizeKey=({key:e})=>e??null,normalizeRef=({ref:e,ref_key:n,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?isString(e)||isRef(e)||isFunction(e)?{i:currentRenderingInstance,r:e,k:n,f:!!s}:e:null);function createBaseVNode(e,n=null,s=null,o=0,i=null,l=e===Fragment?0:1,c=!1,u=!1){const d={__v_isVNode:!0,__v_skip:!0,type:e,props:n,key:n&&normalizeKey(n),ref:n&&normalizeRef(n),scopeId:currentScopeId,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:l,patchFlag:o,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:currentRenderingInstance};return u?(normalizeChildren(d,s),l&128&&e.normalize(d)):s&&(d.shapeFlag|=isString(s)?8:16),isBlockTreeEnabled>0&&!c&&currentBlock&&(d.patchFlag>0||l&6)&&d.patchFlag!==32&&currentBlock.push(d),d}const createVNode=_createVNode;function _createVNode(e,n=null,s=null,o=0,i=null,l=!1){if((!e||e===NULL_DYNAMIC_COMPONENT)&&(e=Comment),isVNode(e)){const u=cloneVNode(e,n,!0);return s&&normalizeChildren(u,s),isBlockTreeEnabled>0&&!l&&currentBlock&&(u.shapeFlag&6?currentBlock[currentBlock.indexOf(e)]=u:currentBlock.push(u)),u.patchFlag=-2,u}if(isClassComponent(e)&&(e=e.__vccOpts),n){n=guardReactiveProps(n);let{class:u,style:d}=n;u&&!isString(u)&&(n.class=normalizeClass(u)),isObject(d)&&(isProxy(d)&&!isArray$1(d)&&(d=extend({},d)),n.style=normalizeStyle(d))}const c=isString(e)?1:isSuspense(e)?128:isTeleport(e)?64:isObject(e)?4:isFunction(e)?2:0;return createBaseVNode(e,n,s,o,i,c,l,!0)}function guardReactiveProps(e){return e?isProxy(e)||isInternalObject(e)?extend({},e):e:null}function cloneVNode(e,n,s=!1,o=!1){const{props:i,ref:l,patchFlag:c,children:u,transition:d}=e,v=n?mergeProps(i||{},n):i,b={__v_isVNode:!0,__v_skip:!0,type:e.type,props:v,key:v&&normalizeKey(v),ref:n&&n.ref?s&&l?isArray$1(l)?l.concat(normalizeRef(n)):[l,normalizeRef(n)]:normalizeRef(n):l,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:u,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:n&&e.type!==Fragment?c===-1?16:c|16:c,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:d,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&cloneVNode(e.ssContent),ssFallback:e.ssFallback&&cloneVNode(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return d&&o&&setTransitionHooks(b,d.clone(b)),b}function createTextVNode(e=" ",n=0){return createVNode(Text,null,e,n)}function createStaticVNode(e,n){const s=createVNode(Static,null,e);return s.staticCount=n,s}function createCommentVNode(e="",n=!1){return n?(openBlock(),createBlock(Comment,null,e)):createVNode(Comment,null,e)}function normalizeVNode(e){return e==null||typeof e=="boolean"?createVNode(Comment):isArray$1(e)?createVNode(Fragment,null,e.slice()):isVNode(e)?cloneIfMounted(e):createVNode(Text,null,String(e))}function cloneIfMounted(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:cloneVNode(e)}function normalizeChildren(e,n){let s=0;const{shapeFlag:o}=e;if(n==null)n=null;else if(isArray$1(n))s=16;else if(typeof n=="object")if(o&65){const i=n.default;i&&(i._c&&(i._d=!1),normalizeChildren(e,i()),i._c&&(i._d=!0));return}else{s=32;const i=n._;!i&&!isInternalObject(n)?n._ctx=currentRenderingInstance:i===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?n._=1:(n._=2,e.patchFlag|=1024))}else isFunction(n)?(n={default:n,_ctx:currentRenderingInstance},s=32):(n=String(n),o&64?(s=16,n=[createTextVNode(n)]):s=8);e.children=n,e.shapeFlag|=s}function mergeProps(...e){const n={};for(let s=0;s<e.length;s++){const o=e[s];for(const i in o)if(i==="class")n.class!==o.class&&(n.class=normalizeClass([n.class,o.class]));else if(i==="style")n.style=normalizeStyle([n.style,o.style]);else if(isOn(i)){const l=n[i],c=o[i];c&&l!==c&&!(isArray$1(l)&&l.includes(c))&&(n[i]=l?[].concat(l,c):c)}else i!==""&&(n[i]=o[i])}return n}function invokeVNodeHook(e,n,s,o=null){callWithAsyncErrorHandling(e,n,7,[s,o])}const emptyAppContext=createAppContext();let uid=0;function createComponentInstance(e,n,s){const o=e.type,i=(n?n.appContext:e.appContext)||emptyAppContext,l={uid:uid++,vnode:e,type:o,parent:n,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:n?n.provides:Object.create(i.provides),ids:n?n.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(o,i),emitsOptions:normalizeEmitsOptions(o,i),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:o.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return l.ctx={_:l},l.root=n?n.root:l,l.emit=emit.bind(null,l),e.ce&&e.ce(l),l}let currentInstance=null;const getCurrentInstance=()=>currentInstance||currentRenderingInstance;let internalSetCurrentInstance,setInSSRSetupState;{const e=getGlobalThis(),n=(s,o)=>{let i;return(i=e[s])||(i=e[s]=[]),i.push(o),l=>{i.length>1?i.forEach(c=>c(l)):i[0](l)}};internalSetCurrentInstance=n("__VUE_INSTANCE_SETTERS__",s=>currentInstance=s),setInSSRSetupState=n("__VUE_SSR_SETTERS__",s=>isInSSRComponentSetup=s)}const setCurrentInstance=e=>{const n=currentInstance;return internalSetCurrentInstance(e),e.scope.on(),()=>{e.scope.off(),internalSetCurrentInstance(n)}},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),internalSetCurrentInstance(null)};function isStatefulComponent(e){return e.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(e,n=!1,s=!1){n&&setInSSRSetupState(n);const{props:o,children:i}=e.vnode,l=isStatefulComponent(e);initProps(e,o,l,n),initSlots(e,i,s||n);const c=l?setupStatefulComponent(e,n):void 0;return n&&setInSSRSetupState(!1),c}function setupStatefulComponent(e,n){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,PublicInstanceProxyHandlers);const{setup:o}=s;if(o){pauseTracking();const i=e.setupContext=o.length>1?createSetupContext(e):null,l=setCurrentInstance(e),c=callWithErrorHandling(o,e,0,[e.props,i]),u=isPromise(c);if(resetTracking(),l(),(u||e.sp)&&!isAsyncWrapper(e)&&markAsyncBoundary(e),u){if(c.then(unsetCurrentInstance,unsetCurrentInstance),n)return c.then(d=>{handleSetupResult(e,d)}).catch(d=>{handleError(d,e,0)});e.asyncDep=c}else handleSetupResult(e,c)}else finishComponentSetup(e)}function handleSetupResult(e,n,s){isFunction(n)?e.type.__ssrInlineRender?e.ssrRender=n:e.render=n:isObject(n)&&(e.setupState=proxyRefs(n)),finishComponentSetup(e)}function finishComponentSetup(e,n,s){const o=e.type;e.render||(e.render=o.render||NOOP);{const i=setCurrentInstance(e);pauseTracking();try{applyOptions(e)}finally{resetTracking(),i()}}}const attrsProxyHandlers={get(e,n){return track(e,"get",""),e[n]}};function createSetupContext(e){const n=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,attrsProxyHandlers),slots:e.slots,emit:e.emit,expose:n}}function getComponentPublicInstance(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(proxyRefs(markRaw(e.exposed)),{get(n,s){if(s in n)return n[s];if(s in publicPropertiesMap)return publicPropertiesMap[s](e)},has(n,s){return s in n||s in publicPropertiesMap}})):e.proxy}const classifyRE=/(?:^|[-_])\w/g,classify=e=>e.replace(classifyRE,n=>n.toUpperCase()).replace(/[-_]/g,"");function getComponentName(e,n=!0){return isFunction(e)?e.displayName||e.name:e.name||n&&e.__name}function formatComponentName(e,n,s=!1){let o=getComponentName(n);if(!o&&n.__file){const i=n.__file.match(/([^/\\]+)\.\w+$/);i&&(o=i[1])}if(!o&&e&&e.parent){const i=l=>{for(const c in l)if(l[c]===n)return c};o=i(e.components||e.parent.type.components)||i(e.appContext.components)}return o?classify(o):s?"App":"Anonymous"}function isClassComponent(e){return isFunction(e)&&"__vccOpts"in e}const computed=(e,n)=>computed$1(e,n,isInSSRComponentSetup);function h$1(e,n,s){try{setBlockTracking(-1);const o=arguments.length;return o===2?isObject(n)&&!isArray$1(n)?isVNode(n)?createVNode(e,null,[n]):createVNode(e,n):createVNode(e,null,n):(o>3?s=Array.prototype.slice.call(arguments,2):o===3&&isVNode(s)&&(s=[s]),createVNode(e,n,s))}finally{setBlockTracking(1)}}const version="3.5.24";let policy;const tt=typeof window<"u"&&window.trustedTypes;if(tt)try{policy=tt.createPolicy("vue",{createHTML:e=>e})}catch{}const unsafeToTrustedHTML=policy?e=>policy.createHTML(e):e=>e,svgNS="http://www.w3.org/2000/svg",mathmlNS="http://www.w3.org/1998/Math/MathML",doc=typeof document<"u"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(e,n,s)=>{n.insertBefore(e,s||null)},remove:e=>{const n=e.parentNode;n&&n.removeChild(e)},createElement:(e,n,s,o)=>{const i=n==="svg"?doc.createElementNS(svgNS,e):n==="mathml"?doc.createElementNS(mathmlNS,e):s?doc.createElement(e,{is:s}):doc.createElement(e);return e==="select"&&o&&o.multiple!=null&&i.setAttribute("multiple",o.multiple),i},createText:e=>doc.createTextNode(e),createComment:e=>doc.createComment(e),setText:(e,n)=>{e.nodeValue=n},setElementText:(e,n)=>{e.textContent=n},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>doc.querySelector(e),setScopeId(e,n){e.setAttribute(n,"")},insertStaticContent(e,n,s,o,i,l){const c=s?s.previousSibling:n.lastChild;if(i&&(i===l||i.nextSibling))for(;n.insertBefore(i.cloneNode(!0),s),!(i===l||!(i=i.nextSibling)););else{templateContainer.innerHTML=unsafeToTrustedHTML(o==="svg"?`<svg>${e}</svg>`:o==="mathml"?`<math>${e}</math>`:e);const u=templateContainer.content;if(o==="svg"||o==="mathml"){const d=u.firstChild;for(;d.firstChild;)u.appendChild(d.firstChild);u.removeChild(d)}n.insertBefore(u,s)}return[c?c.nextSibling:n.firstChild,s?s.previousSibling:n.lastChild]}},TRANSITION="transition",ANIMATION="animation",vtcKey=Symbol("_vtc"),DOMTransitionPropsValidators={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},TransitionPropsValidators=extend({},BaseTransitionPropsValidators,DOMTransitionPropsValidators),decorate$1=e=>(e.displayName="Transition",e.props=TransitionPropsValidators,e),Transition=decorate$1((e,{slots:n})=>h$1(BaseTransition,resolveTransitionProps(e),n)),callHook=(e,n=[])=>{isArray$1(e)?e.forEach(s=>s(...n)):e&&e(...n)},hasExplicitCallback=e=>e?isArray$1(e)?e.some(n=>n.length>1):e.length>1:!1;function resolveTransitionProps(e){const n={};for(const ce in e)ce in DOMTransitionPropsValidators||(n[ce]=e[ce]);if(e.css===!1)return n;const{name:s="v",type:o,duration:i,enterFromClass:l=`${s}-enter-from`,enterActiveClass:c=`${s}-enter-active`,enterToClass:u=`${s}-enter-to`,appearFromClass:d=l,appearActiveClass:v=c,appearToClass:b=u,leaveFromClass:P=`${s}-leave-from`,leaveActiveClass:V=`${s}-leave-active`,leaveToClass:F=`${s}-leave-to`}=e,q=normalizeDuration(i),Q=q&&q[0],ee=q&&q[1],{onBeforeEnter:ie,onEnter:ue,onEnterCancelled:ge,onLeave:re,onLeaveCancelled:ne,onBeforeAppear:fe=ie,onAppear:he=ue,onAppearCancelled:_e=ge}=n,pe=(ce,Se,Re,Le)=>{ce._enterCancelled=Le,removeTransitionClass(ce,Se?b:u),removeTransitionClass(ce,Se?v:c),Re&&Re()},ve=(ce,Se)=>{ce._isLeaving=!1,removeTransitionClass(ce,P),removeTransitionClass(ce,F),removeTransitionClass(ce,V),Se&&Se()},ke=ce=>(Se,Re)=>{const Le=ce?he:ue,Ae=()=>pe(Se,ce,Re);callHook(Le,[Se,Ae]),nextFrame(()=>{removeTransitionClass(Se,ce?d:l),addTransitionClass(Se,ce?b:u),hasExplicitCallback(Le)||whenTransitionEnds(Se,o,Q,Ae)})};return extend(n,{onBeforeEnter(ce){callHook(ie,[ce]),addTransitionClass(ce,l),addTransitionClass(ce,c)},onBeforeAppear(ce){callHook(fe,[ce]),addTransitionClass(ce,d),addTransitionClass(ce,v)},onEnter:ke(!1),onAppear:ke(!0),onLeave(ce,Se){ce._isLeaving=!0;const Re=()=>ve(ce,Se);addTransitionClass(ce,P),ce._enterCancelled?(addTransitionClass(ce,V),forceReflow(ce)):(forceReflow(ce),addTransitionClass(ce,V)),nextFrame(()=>{ce._isLeaving&&(removeTransitionClass(ce,P),addTransitionClass(ce,F),hasExplicitCallback(re)||whenTransitionEnds(ce,o,ee,Re))}),callHook(re,[ce,Re])},onEnterCancelled(ce){pe(ce,!1,void 0,!0),callHook(ge,[ce])},onAppearCancelled(ce){pe(ce,!0,void 0,!0),callHook(_e,[ce])},onLeaveCancelled(ce){ve(ce),callHook(ne,[ce])}})}function normalizeDuration(e){if(e==null)return null;if(isObject(e))return[NumberOf(e.enter),NumberOf(e.leave)];{const n=NumberOf(e);return[n,n]}}function NumberOf(e){return toNumber(e)}function addTransitionClass(e,n){n.split(/\s+/).forEach(s=>s&&e.classList.add(s)),(e[vtcKey]||(e[vtcKey]=new Set)).add(n)}function removeTransitionClass(e,n){n.split(/\s+/).forEach(o=>o&&e.classList.remove(o));const s=e[vtcKey];s&&(s.delete(n),s.size||(e[vtcKey]=void 0))}function nextFrame(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let endId=0;function whenTransitionEnds(e,n,s,o){const i=e._endId=++endId,l=()=>{i===e._endId&&o()};if(s!=null)return setTimeout(l,s);const{type:c,timeout:u,propCount:d}=getTransitionInfo(e,n);if(!c)return o();const v=c+"end";let b=0;const P=()=>{e.removeEventListener(v,V),l()},V=F=>{F.target===e&&++b>=d&&P()};setTimeout(()=>{b<d&&P()},u+1),e.addEventListener(v,V)}function getTransitionInfo(e,n){const s=window.getComputedStyle(e),o=q=>(s[q]||"").split(", "),i=o(`${TRANSITION}Delay`),l=o(`${TRANSITION}Duration`),c=getTimeout(i,l),u=o(`${ANIMATION}Delay`),d=o(`${ANIMATION}Duration`),v=getTimeout(u,d);let b=null,P=0,V=0;n===TRANSITION?c>0&&(b=TRANSITION,P=c,V=l.length):n===ANIMATION?v>0&&(b=ANIMATION,P=v,V=d.length):(P=Math.max(c,v),b=P>0?c>v?TRANSITION:ANIMATION:null,V=b?b===TRANSITION?l.length:d.length:0);const F=b===TRANSITION&&/\b(?:transform|all)(?:,|$)/.test(o(`${TRANSITION}Property`).toString());return{type:b,timeout:P,propCount:V,hasTransform:F}}function getTimeout(e,n){for(;e.length<n.length;)e=e.concat(e);return Math.max(...n.map((s,o)=>toMs(s)+toMs(e[o])))}function toMs(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function forceReflow(e){return(e?e.ownerDocument:document).body.offsetHeight}function patchClass(e,n,s){const o=e[vtcKey];o&&(n=(n?[n,...o]:[...o]).join(" ")),n==null?e.removeAttribute("class"):s?e.setAttribute("class",n):e.className=n}const vShowOriginalDisplay=Symbol("_vod"),vShowHidden=Symbol("_vsh"),CSS_VAR_TEXT=Symbol(""),displayRE=/(?:^|;)\s*display\s*:/;function patchStyle(e,n,s){const o=e.style,i=isString(s);let l=!1;if(s&&!i){if(n)if(isString(n))for(const c of n.split(";")){const u=c.slice(0,c.indexOf(":")).trim();s[u]==null&&setStyle(o,u,"")}else for(const c in n)s[c]==null&&setStyle(o,c,"");for(const c in s)c==="display"&&(l=!0),setStyle(o,c,s[c])}else if(i){if(n!==s){const c=o[CSS_VAR_TEXT];c&&(s+=";"+c),o.cssText=s,l=displayRE.test(s)}}else n&&e.removeAttribute("style");vShowOriginalDisplay in e&&(e[vShowOriginalDisplay]=l?o.display:"",e[vShowHidden]&&(o.display="none"))}const importantRE=/\s*!important$/;function setStyle(e,n,s){if(isArray$1(s))s.forEach(o=>setStyle(e,n,o));else if(s==null&&(s=""),n.startsWith("--"))e.setProperty(n,s);else{const o=autoPrefix(e,n);importantRE.test(s)?e.setProperty(hyphenate(o),s.replace(importantRE,""),"important"):e[o]=s}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(e,n){const s=prefixCache[n];if(s)return s;let o=camelize(n);if(o!=="filter"&&o in e)return prefixCache[n]=o;o=capitalize(o);for(let i=0;i<prefixes.length;i++){const l=prefixes[i]+o;if(l in e)return prefixCache[n]=l}return n}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(e,n,s,o,i,l=isSpecialBooleanAttr(n)){o&&n.startsWith("xlink:")?s==null?e.removeAttributeNS(xlinkNS,n.slice(6,n.length)):e.setAttributeNS(xlinkNS,n,s):s==null||l&&!includeBooleanAttr(s)?e.removeAttribute(n):e.setAttribute(n,l?"":isSymbol(s)?String(s):s)}function patchDOMProp(e,n,s,o,i){if(n==="innerHTML"||n==="textContent"){s!=null&&(e[n]=n==="innerHTML"?unsafeToTrustedHTML(s):s);return}const l=e.tagName;if(n==="value"&&l!=="PROGRESS"&&!l.includes("-")){const u=l==="OPTION"?e.getAttribute("value")||"":e.value,d=s==null?e.type==="checkbox"?"on":"":String(s);(u!==d||!("_value"in e))&&(e.value=d),s==null&&e.removeAttribute(n),e._value=s;return}let c=!1;if(s===""||s==null){const u=typeof e[n];u==="boolean"?s=includeBooleanAttr(s):s==null&&u==="string"?(s="",c=!0):u==="number"&&(s=0,c=!0)}try{e[n]=s}catch{}c&&e.removeAttribute(i||n)}function addEventListener(e,n,s,o){e.addEventListener(n,s,o)}function removeEventListener(e,n,s,o){e.removeEventListener(n,s,o)}const veiKey=Symbol("_vei");function patchEvent(e,n,s,o,i=null){const l=e[veiKey]||(e[veiKey]={}),c=l[n];if(o&&c)c.value=o;else{const[u,d]=parseName(n);if(o){const v=l[n]=createInvoker(o,i);addEventListener(e,u,v,d)}else c&&(removeEventListener(e,u,c,d),l[n]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(e){let n;if(optionsModifierRE.test(e)){n={};let o;for(;o=e.match(optionsModifierRE);)e=e.slice(0,e.length-o[0].length),n[o[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):hyphenate(e.slice(2)),n]}let cachedNow=0;const p=Promise.resolve(),getNow=()=>cachedNow||(p.then(()=>cachedNow=0),cachedNow=Date.now());function createInvoker(e,n){const s=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=s.attached)return;callWithAsyncErrorHandling(patchStopImmediatePropagation(o,s.value),n,5,[o])};return s.value=e,s.attached=getNow(),s}function patchStopImmediatePropagation(e,n){if(isArray$1(n)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},n.map(o=>i=>!i._stopped&&o&&o(i))}else return n}const isNativeOn=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,patchProp=(e,n,s,o,i,l)=>{const c=i==="svg";n==="class"?patchClass(e,o,c):n==="style"?patchStyle(e,s,o):isOn(n)?isModelListener(n)||patchEvent(e,n,s,o,l):(n[0]==="."?(n=n.slice(1),!0):n[0]==="^"?(n=n.slice(1),!1):shouldSetAsProp(e,n,o,c))?(patchDOMProp(e,n,o),!e.tagName.includes("-")&&(n==="value"||n==="checked"||n==="selected")&&patchAttr(e,n,o,c,l,n!=="value")):e._isVueCE&&(/[A-Z]/.test(n)||!isString(o))?patchDOMProp(e,camelize(n),o,l,n):(n==="true-value"?e._trueValue=o:n==="false-value"&&(e._falseValue=o),patchAttr(e,n,o,c))};function shouldSetAsProp(e,n,s,o){if(o)return!!(n==="innerHTML"||n==="textContent"||n in e&&isNativeOn(n)&&isFunction(s));if(n==="spellcheck"||n==="draggable"||n==="translate"||n==="autocorrect"||n==="sandbox"&&e.tagName==="IFRAME"||n==="form"||n==="list"&&e.tagName==="INPUT"||n==="type"&&e.tagName==="TEXTAREA")return!1;if(n==="width"||n==="height"){const i=e.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return isNativeOn(n)&&isString(s)?!1:n in e}const getModelAssigner=e=>{const n=e.props["onUpdate:modelValue"]||!1;return isArray$1(n)?s=>invokeArrayFns(n,s):n};function onCompositionStart(e){e.target.composing=!0}function onCompositionEnd(e){const n=e.target;n.composing&&(n.composing=!1,n.dispatchEvent(new Event("input")))}const assignKey=Symbol("_assign");function castValue(e,n,s){return n&&(e=e.trim()),s&&(e=looseToNumber(e)),e}const vModelText={created(e,{modifiers:{lazy:n,trim:s,number:o}},i){e[assignKey]=getModelAssigner(i);const l=o||i.props&&i.props.type==="number";addEventListener(e,n?"change":"input",c=>{c.target.composing||e[assignKey](castValue(e.value,s,l))}),(s||l)&&addEventListener(e,"change",()=>{e.value=castValue(e.value,s,l)}),n||(addEventListener(e,"compositionstart",onCompositionStart),addEventListener(e,"compositionend",onCompositionEnd),addEventListener(e,"change",onCompositionEnd))},mounted(e,{value:n}){e.value=n??""},beforeUpdate(e,{value:n,oldValue:s,modifiers:{lazy:o,trim:i,number:l}},c){if(e[assignKey]=getModelAssigner(c),e.composing)return;const u=(l||e.type==="number")&&!/^0\d/.test(e.value)?looseToNumber(e.value):e.value,d=n??"";u!==d&&(document.activeElement===e&&e.type!=="range"&&(o&&n===s||i&&e.value.trim()===d)||(e.value=d))}},vModelCheckbox={deep:!0,created(e,n,s){e[assignKey]=getModelAssigner(s),addEventListener(e,"change",()=>{const o=e._modelValue,i=getValue$1(e),l=e.checked,c=e[assignKey];if(isArray$1(o)){const u=looseIndexOf(o,i),d=u!==-1;if(l&&!d)c(o.concat(i));else if(!l&&d){const v=[...o];v.splice(u,1),c(v)}}else if(isSet(o)){const u=new Set(o);l?u.add(i):u.delete(i),c(u)}else c(getCheckboxValue(e,l))})},mounted:setChecked,beforeUpdate(e,n,s){e[assignKey]=getModelAssigner(s),setChecked(e,n,s)}};function setChecked(e,{value:n,oldValue:s},o){e._modelValue=n;let i;if(isArray$1(n))i=looseIndexOf(n,o.props.value)>-1;else if(isSet(n))i=n.has(o.props.value);else{if(n===s)return;i=looseEqual(n,getCheckboxValue(e,!0))}e.checked!==i&&(e.checked=i)}const vModelSelect={deep:!0,created(e,{value:n,modifiers:{number:s}},o){const i=isSet(n);addEventListener(e,"change",()=>{const l=Array.prototype.filter.call(e.options,c=>c.selected).map(c=>s?looseToNumber(getValue$1(c)):getValue$1(c));e[assignKey](e.multiple?i?new Set(l):l:l[0]),e._assigning=!0,nextTick(()=>{e._assigning=!1})}),e[assignKey]=getModelAssigner(o)},mounted(e,{value:n}){setSelected(e,n)},beforeUpdate(e,n,s){e[assignKey]=getModelAssigner(s)},updated(e,{value:n}){e._assigning||setSelected(e,n)}};function setSelected(e,n){const s=e.multiple,o=isArray$1(n);if(!(s&&!o&&!isSet(n))){for(let i=0,l=e.options.length;i<l;i++){const c=e.options[i],u=getValue$1(c);if(s)if(o){const d=typeof u;d==="string"||d==="number"?c.selected=n.some(v=>String(v)===String(u)):c.selected=looseIndexOf(n,u)>-1}else c.selected=n.has(u);else if(looseEqual(getValue$1(c),n)){e.selectedIndex!==i&&(e.selectedIndex=i);return}}!s&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function getValue$1(e){return"_value"in e?e._value:e.value}function getCheckboxValue(e,n){const s=n?"_trueValue":"_falseValue";return s in e?e[s]:n}const systemModifiers=["ctrl","shift","alt","meta"],modifierGuards={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,n)=>systemModifiers.some(s=>e[`${s}Key`]&&!n.includes(s))},withModifiers=(e,n)=>{const s=e._withMods||(e._withMods={}),o=n.join(".");return s[o]||(s[o]=((i,...l)=>{for(let c=0;c<n.length;c++){const u=modifierGuards[n[c]];if(u&&u(i,n))return}return e(i,...l)}))},keyNames={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},withKeys=(e,n)=>{const s=e._withKeys||(e._withKeys={}),o=n.join(".");return s[o]||(s[o]=(i=>{if(!("key"in i))return;const l=hyphenate(i.key);if(n.some(c=>c===l||keyNames[c]===l))return e(i)}))},rendererOptions=extend({patchProp},nodeOps);let renderer;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}const createApp$1=((...e)=>{const n=ensureRenderer().createApp(...e),{mount:s}=n;return n.mount=o=>{const i=normalizeContainer(o);if(!i)return;const l=n._component;!isFunction(l)&&!l.render&&!l.template&&(l.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const c=s(i,!1,resolveRootNamespace(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),c},n});function resolveRootNamespace(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function normalizeContainer(e){return isString(e)?document.querySelector(e):e}class EventDispatcher{_eventHandlers={};hasEventListeners(n){return this._eventHandlers[n]&&this._eventHandlers[n].length>0}addEventListener(n,s){this._eventHandlers[n]?this._eventHandlers[n].indexOf(s)==-1&&this._eventHandlers[n].push(s):this._eventHandlers[n]=[s]}removeEventListener(n,s){if(this._eventHandlers[n])if(s){let o=this._eventHandlers[n].indexOf(s);o>=0&&(this._eventHandlers[n].splice(o,1),this._eventHandlers[n].length==0&&delete this._eventHandlers[n])}else delete this._eventHandlers[n]}removeAllEventLsiteners(){this._eventHandlers={}}dispatch(n,...s){if(this.hasEventListeners(n)){const o=this._eventHandlers[n].slice();return setTimeout(()=>{for(let i of o)try{i(n,...s)}catch(l){console.error(l)}},0),!0}return!1}}const EVENT_ALERT="event-alert",EVENT_CONFIRM="event-confirm",EVENT_MV_PLAYER="event-mv-player",EVENT_BOOK_SONG="event-book-song";class MyDevices extends EventDispatcher{alert(n){return new Promise(s=>{this.dispatch(EVENT_ALERT,n,s)})}confirm(n){return new Promise(s=>{this.dispatch(EVENT_CONFIRM,n,s)})}playMV(n){this.dispatch(EVENT_MV_PLAYER,n)}showBookSong(n){this.dispatch(EVENT_BOOK_SONG,n)}}const myDevice=new MyDevices;class AuthApi extends BaseAppApi{constructor(){super("/api/auth")}login(n,s){return this.post("/login",{account:n,password:s})}register(n,s){return this.post("/register2",{account:n,password:s})}resetPassword(n,s,o,i,l){return this.post("/password",{phone:n,email:s,token:o,code:i,password:l})}resetPasswordByQa(n,s,o,i){return this.post("/passwordByQa",{account:n,question:s,answer:o,password:i})}getImageCaptcha(n,s,o){return this.post("/image-captcha",{scene:n,width:s,height:o})}getSms(n,s,o,i,l){return this.post("/sms",{scene:n,phone:i,email:l,imageToken:s,imageCode:o})}getUserInfo(){return this.get("/me")}setUesrInfo(n){return this.put("/me",n)}setMyPassword(n){return this.put("/me/password",n)}setMyEmail(n){return this.put("/me/email",n)}setMyQa(n){return this.put("/me/qa",n)}getUser(n){return this.get(`/user/${n}`)}trace(n,s={}){return this.post("/me/action",{name:n,data:JSON.stringify(s),deviceId:config.deviceId})}}const authApi=new AuthApi;class MyApi extends BaseAppApi{constructor(){super("/api/app")}getFavorites(n,s){return this.get("/my-favoritesByPage",{page:n,size:s})}addFavorite(n,s){return this.post("/my-favorites",{type:n,id:s})}removeFavorite(n){return this.delete(`/my-favorites/${n}`)}removeFavorites(n){return this.post("/my-favorites/remove",n)}getPlaylists(){return this.get("/my-playlists")}createPlaylist(n){return this.post("/my-playlists",{name:n})}updatePlaylist(n,s){return this.put(`/my-playlists/${n}`,s)}publishPlaylist(n,s){return this.post(`/my-playlists/${n}/publish`,{publish:s})}addToPlaylist(n,s){return this.post(`/my-playlists/${n}/add`,s)}removeFromPlaylist(n,s){return this.post(`/my-playlists/${n}/sub`,s)}removePlaylist(n){return this.delete(`/my-playlists/${n}`)}doPlay(n){return this.post("/my-play",n)}doDownload(n){return this.post("/my-download",n)}}const myApi=new MyApi;class ZanApi extends BaseAppApi{constructor(){super("/api/app"),this.getResourcesByIds=sliceRequest(this.getResourcesByIds.bind(this))}async getConfig0(){try{let n=await this.get("/config");return localStorage.setItem("appconfig",JSON.stringify(n)),n}catch(n){{let s=localStorage.getItem("appconfig");if(s)try{return JSON.parse(s)}catch{}}throw n}}async getConfig(){let{tags:n,settings:s}=await this.getConfig0(),o={},i={},l={};for(let c of n)o[c.id]=c,i[c.type]?i[c.type].push(c):i[c.type]=[c];for(let c of s)l[c.name]=c.value;return{tagTypeMap:i,tagMap:o,setMap:l}}getUpgrade(){return this.get("/upgrade")}getSongs(n){return this.get("/songs",n)}getRandomSongs(){return this.get("/songs-random")}getRandomSongNames(n,s=10){return this.get("/songs-random-name",{name:n,size:s})}getRandomMvNames(n,s=10){return this.get("/mvs-random-name",{name:n,size:s})}getRandomBookSongNames(n,s=10){return this.get("/bookSongs-random-name",{name:n,size:s})}getSongsByIds(n){return this.getResourcesByIds(n,"song")}getSongsUrls(n){return this.getResourcesByIds(n,"songUrl")}getSongById(n){return this.get(`/songs/${n}`)}getAlbums(n){return this.get("/albums",n)}getAlbumsByIds(n){return this.getResourcesByIds(n,"album")}getAlbumById(n){return this.get(`/albums/${n}`)}getAlbumSongs(n){return this.get(`/albums/${n}/songs`)}getPlaylists(n){return this.get("/playlists",n)}getRandomPlaylists(n,s=3){return this.get("/playlists-random",{song:n,size:s})}getPlaylistsByIds(n){return this.getResourcesByIds(n,"playlist")}getPlaylistById(n){return this.get(`/playlists/${n}`)}getPlaylistSongs(n){return this.get(`/playlists/${n}/songs`)}getAuthors(n){return this.get("/authors",n)}getAuthorsByIds(n){return this.getResourcesByIds(n,"author")}getAuthorById(n){return this.get(`/authors/${n}`)}getBanners(n,s){return this.get("/banners/"+n,{page:0,size:s})}getMvs(n){return this.get("/mvs",n)}getMvsByIds(n){return this.getResourcesByIds(n,"mv")}getMvById(n){return this.get(`/mvs/${n}`)}getBooks(n){return this.get("/books",n)}getBooksByIds(n){return this.getResourcesByIds(n,"book")}getBookById(n){return this.get(`/books/${n}`)}getBookSongs(n){return this.get("/bookSongs",n)}getBookSongsByIds(n){return this.getResourcesByIds(n,"bookSong")}getBookSongById(n){return this.get(`/bookSongs/${n}`)}getResourcesByIds(n,s){return this.get("/resourcesByIds",{ids:n.join(","),type:s})}}const zan=new ZanApi;class Store extends EventDispatcher{state;constructor(n){super(),this.state=reactive(n)}}const imageDomain="image-domain",audioDomain="audio-domain",videoDomain="video-domain",gepuDomain="gepu-domain",gepuVisible="gepu-visible",shareLink="share-link",userProtocol="user-protocol",privacyProtocol="privacy-protocol",aboutUs="about-us",copyright="copyright",rankEnable="rank-open",daily30="daily30",pureMusic="pure-music",playlistLimit="playlist-limit",footBar="foot-bar";let App$1=class Ze extends Store{static KEY="store-app";constructor(){super({ready:!1,tagMap:{},tagTypeMap:{},setting:{},upgrade:{visible:!1,force:!1,message:"",version:"",url:""},canDownload:!1,debug:!1,iosApprove:!1,keepalive:{"zan-search":!1,"mv-search":!1,"book-search":!1}}),this.initialize=packTask(this.initialize.bind(this))}get injectKey(){return Ze.KEY}async initialize(){if(!this.state.ready){if(Object.keys(this.state.setting).length==0){let{tagMap:n,tagTypeMap:s,setMap:o}=await zan.getConfig();this.state.tagMap=n,this.state.tagTypeMap=s,this.state.setting=o}this.state.ready=!0}}async checkUpgrade(){let n=await zan.getUpgrade();n!="ok"&&(Object.assign(this.state.upgrade,n),this.state.upgrade.visible=!0)}getImg(n,s=!1){return n?(this.state.setting[imageDomain]||"")+n:s?"":"disc.jpg"}getAudio(n){return n?(this.state.setting[audioDomain]||"")+n:""}getVideo(n){return n?(this.state.setting[videoDomain]||"")+n:""}getGepu(n){return n?(this.state.setting[gepuDomain]||"")+n:""}getShareLink(){return this.state.setting[shareLink]||""}get userProtocol(){return this.state.setting[userProtocol]||""}get privacyProtocol(){return this.state.setting[privacyProtocol]||""}get aboutUs(){return this.state.setting[aboutUs]||""}get copyright(){return this.state.setting[copyright]||""}get rankEnable(){return this.state.setting[rankEnable]=="1"||!1}get daily30(){return JSON.parse(this.state.setting[daily30]||"[]")}get pureMusic(){return JSON.parse(this.state.setting[pureMusic]||"[]")}get playlistLimit(){return parseInt(this.state.setting[playlistLimit])||10}get footBar(){return this.state.setting[footBar]}get gepuVisible(){return this.state.setting[gepuVisible]=="1"}get iosApprove(){return this.state.iosApprove}};const songPlayHistory="song-play-history",albumPlayHistory="album-play-history",playlistPlayHistory="playlist-play-history",authorPlayHistory="author-play-history",bookPlayHistory="book-play-history",booksongPlayHistory="booksong-play-history",mvPlayHistory="mv-play-history";class Player extends Store{static KEY="store-player";get injectKey(){return Player.KEY}get appStore(){return this.context.stores[App$1.KEY]}context;constructor(n){super({pureMusic:!1,musicVisible:!1,songVisible:!1,listVisible:!1,playing:!1,playlist:[],currentSong:null,index:0,duration:0,currentTime:0,loop:"next",timeout:-1,error:"",url:"",lastSyncTime:0,wifiOnly:!1}),this.context=n}audioTimer=0;startSyncFromApp(){clearInterval(this.audioTimer),this.audioTimer=setInterval(this.onSyncAudioPlayerStatus.bind(this),333)}async loadPlayerCache(){let n=window.localStorage.getItem("player-cache");if(n)try{let{ids:s,index:o,loop:i}=JSON.parse(n);if(this.state.loop=i,s.length>0){let l=await zan.getSongsByIds(s);if(l.length>0){let c={};for(let d of l)c[d.id]=d;let u=[];for(let d of s)c[d]&&u.push(c[d]);await this.pushListToPlayer0(u,o),this.context.audio.setLoop({mode:this.state.loop})}}}catch{}}savePlayerCache(){let n=this.state.playlist.map(i=>i.id),s=this.state.index,o=this.state.loop;n.length>0?window.localStorage.setItem("player-cache",JSON.stringify({ids:n,index:s,loop:o})):window.localStorage.removeItem("player-cache")}insertPlayHistory(n,s){let o=this.getPlayHistory(n);o=o.filter(l=>s.indexOf(l)==-1),o.unshift(...s);const i=50;o.length>i&&(o=o.slice(0,i)),localStorage.setItem(n,JSON.stringify(o))}getPlayHistory(n){let s=localStorage.getItem(n);if(s)try{return JSON.parse(s)}catch{localStorage.removeItem(n)}return[]}logPlay(n){myApi.doPlay(n),n.mvId&&n.mvId>0&&this.insertPlayHistory(mvPlayHistory,[n.mvId]),n.bookId&&n.bookId>0&&this.insertPlayHistory(bookPlayHistory,[n.bookId]),n.bookSongId&&n.bookSongId>0&&this.insertPlayHistory(booksongPlayHistory,[n.bookSongId])}logDoPlay(n,s){let o=n.map(i=>i.id);myApi.doPlay(Object.assign({},{songIds:o},s)),authApi.trace("play-song",o),this.insertPlayHistory(songPlayHistory,n.map(i=>i.id)),s.albumId&&this.insertPlayHistory(albumPlayHistory,[s.albumId]),s.playlistId&&this.insertPlayHistory(playlistPlayHistory,[s.playlistId]),s.authorId&&this.insertPlayHistory(authorPlayHistory,[s.authorId])}async playPureMusic(){const n=this.appStore.pureMusic;if(n.length>0&&n[0]>0){if(this.state.pureMusic){this.showPlayMusic(),this.doPlayerPlay();return}this.clearPlaylist(),this.state.pureMusic=!0,this.showPlayMusic(),this.context.device.loading(!0,"正在加载中...");try{let s=await zan.getPlaylistSongs(n[0]);if(s.length>0){await this.pushListToPlayer(s,{}),this.state.loop="all",this.context.audio.setLoop({mode:this.state.loop});return}}finally{this.state.pureMusic=!0,this.context.device.loading(!1)}}this.context.device.toast("暂无纯音乐")}async pushSongToPlayer(n,s){if(this.state.pureMusic&&!this.state.playlist.some(l=>l.id==n.id)){this.pushListToPlayer([n],s);return}let o=await zan.getSongsUrls([n.id]);n.url=o[0]?this.appStore.getAudio(o[0].url):"";let i=this.state.playlist.findIndex(l=>l.id==n.id);i==-1?this.state.index<this.state.playlist.length-1?(this.state.playlist.splice(this.state.index+1,0,n),this.state.index++):(this.state.playlist.push(n),this.state.index=this.state.playlist.length-1):this.state.index=i,await this.context.audio.append({id:"song-"+n.id,title:n.name,artist:n.author?.name||"",cover:this.appStore.getImg(n.album?.cover),url:n.url}),this.context.audio.setLoop({mode:this.state.loop}),this.onSyncAudioPlaylist(),this.logDoPlay([n],s)}async pushListToPlayer(n,s){n.length>0&&(this.state.pureMusic=!1,await this.pushListToPlayer0(n,0),await this.playOffset(0),this.context.audio.setLoop({mode:this.state.loop}),this.onSyncAudioPlaylist(),this.logDoPlay(n,s))}async pushListToPlayer0(n,s){this.state.playlist=n;let o=n.map(c=>c.id),i=await zan.getSongsUrls(o),l={};for(let c of i)l[c.id]=c.url;await this.context.audio.setPlayList({index:s,list:n.map(c=>(c.url=this.appStore.getAudio(l[c.id]),{id:"song-"+c.id,title:c.name,artist:c.author?.name||"",cover:this.appStore.getImg(c.album?.cover),url:c.url}))})}async removeFromPlaylist(n){await this.context.audio.remove({index:n}),this.onSyncAudioPlaylist()}clearPlaylist(){this.doPlayerPause(),this.state.playlist=[],this.context.audio.setPlayList({list:[],index:0}),this.savePlayerCache()}playOffset(n){n!=0&&this.state.loop=="rand"&&(n=Math.floor(Math.random()*this.state.playlist.length),n==0&&(n=1)),this.state.playlist.length>1&&(this.state.index=(this.state.index+n+this.state.playlist.length)%this.state.playlist.length),this.context.audio.play({offset:n})}doPlayerPlay(){let n=this.state.playlist[this.state.index];n&&(this.context.audio.play({offset:0}),this.insertPlayHistory(songPlayHistory,[n.id]))}doPlayerPause(){this.context.audio.pause()}doPlayerSkip(n){this.context.audio.seek({time:Math.floor(n)})}doPlayerLoop(){const n=["next","all","one","rand"];let s=n.indexOf(this.state.loop);s=(s+1)%n.length,this.state.loop=n[s],this.context.audio.setLoop({mode:this.state.loop})}doPlayerTimeout(n){this.state.timeout=n,this.context.audio.setTimeout({minutes:n})}async onSyncAudioPlayerStatus(){let n=await this.context.audio.getStatus(),s=!1;if(n.result=="ok"&&n.data&&(s=this.state.index!=n.data.current,this.state.index=n.data.current,this.state.playing=n.data.isPlaying,this.state.currentTime=n.data.currentTime,this.state.duration=n.data.duration,this.state.loop=n.data.loop,this.state.timeout=n.data.timeout,this.state.error=n.data.error),s)this.state.lastSyncTime=Date.now(),this.onSyncAudioPlaylist();else{let o=Date.now();this.state.lastSyncTime<o-6e4&&(this.state.lastSyncTime=o,this.onSyncAudioPlaylist())}}async onSyncAudioPlaylist(){try{let n=await this.context.audio.getPlayList();if(n.result=="ok"&&n.data){let s=n.data.map(c=>parseInt(c.split("-")[1])),o={};for(let c of this.state.playlist)o[c.id]=c;let i=s.filter(c=>!o[c]);if(i.length>0){let c=await zan.getSongsByIds(i);for(let u of c)o[u.id]=u}let l=s.map(c=>{let u=o[c];return u||(u={id:c,name:"未知",url:"",lyrics:"",refId:0,duration:0}),u});this.state.playlist=l,this.savePlayerCache()}}catch{console.error("sync playlist fail")}}showPlaySong(){this.state.songVisible||(this.state.songVisible=!0,this.context.pushBackTrigger(this.closePlaySong.bind(this)))}closePlaySong(){this.state.songVisible=!1,this.context.popBackTrigger()}showPlaylist(){this.state.listVisible||(this.state.listVisible=!0,this.context.pushBackTrigger(this.closePlaylist.bind(this)))}closePlaylist(){this.state.listVisible=!1,this.context.popBackTrigger()}showPlayMusic(){this.state.musicVisible||(this.state.musicVisible=!0,this.context.pushBackTrigger(this.closePlayMusic.bind(this)))}closePlayMusic(){this.state.musicVisible=!1,this.context.popBackTrigger()}getSongPlayHistory(){return this.getPlayHistory(songPlayHistory)}clearSongPlayHistory(){localStorage.removeItem(songPlayHistory)}getAlbumPlayHistory(){return this.getPlayHistory(albumPlayHistory)}clearAlbumPlayHistory(){localStorage.removeItem(albumPlayHistory)}getPlaylistPlayHistory(){return this.getPlayHistory(playlistPlayHistory)}clearPlaylistPlayHistory(){localStorage.removeItem(playlistPlayHistory)}getAuthorPlayHistory(){return this.getPlayHistory(authorPlayHistory)}clearAuthorPlayHistory(){localStorage.removeItem(authorPlayHistory)}getBookPlayHistory(){return this.getPlayHistory(bookPlayHistory)}clearBookPlayHistory(){localStorage.removeItem(bookPlayHistory)}getBooksongPlayHistory(){return this.getPlayHistory(booksongPlayHistory)}clearBooksongPlayHistory(){localStorage.removeItem(booksongPlayHistory)}getMvPlayHistory(){return this.getPlayHistory(mvPlayHistory)}clearMvPlayHistory(){localStorage.removeItem(mvPlayHistory)}}const _hoisted_1$v={class:"popup"},_hoisted_2$o={key:0,class:"tip"},_sfc_main$A=defineComponent({__name:"Loading",props:{tip:{},visible:{type:Boolean,default:!1},inline:{type:Boolean,default:!1}},setup(e){const n=e,s=reactive({visible:!1}),o=delayTask(()=>{s.visible=!1},100);return watchEffect(()=>{o.cancel(),n.visible?s.visible=!0:o.run()}),(i,l)=>s.visible?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(["loading",{inline:e.inline}])},[createBaseVNode("div",_hoisted_1$v,[l[0]||(l[0]=createBaseVNode("i",{class:"rotate icon i-icon_loading"},null,-1)),renderSlot(i.$slots,"default",{},()=>[e.tip?(openBlock(),createElementBlock("div",_hoisted_2$o,toDisplayString(e.tip),1)):createCommentVNode("",!0)])])],2)):createCommentVNode("",!0)}}),_export_sfc=(e,n)=>{const s=e.__vccOpts||e;for(const[o,i]of n)s[o]=i;return s},Loading=_export_sfc(_sfc_main$A,[["__scopeId","data-v-6236ef35"]]),_hoisted_1$u=["src"],_sfc_main$z=defineComponent({__name:"Imager",props:{url:{},type:{default:"disc"}},setup(e){const n=e,s=reactive({imgUrl:"",loading:!0});onMounted(()=>{s.imgUrl=n.url}),watch(()=>n.url,()=>{s.imgUrl="",setTimeout(()=>{s.imgUrl=n.url,s.loading=!0},10)});function o(){s.loading=!1}function i(){s.imgUrl="",s.loading=!1}return(l,c)=>(openBlock(),createElementBlock("div",{class:normalizeClass(["imager",e.type])},[s.imgUrl?(openBlock(),createElementBlock("img",{key:0,src:s.imgUrl,onLoad:o,onError:i},null,40,_hoisted_1$u)):createCommentVNode("",!0),createVNode(Loading,{visible:s.loading,inline:""},null,8,["visible"])],2))}}),Imager=_export_sfc(_sfc_main$z,[["__scopeId","data-v-9a15e43a"]]),_hoisted_1$t={class:"images"},_hoisted_2$n={class:"tip text3"},_hoisted_3$i={class:"shadow"},_sfc_main$y=defineComponent({__name:"Gepu",props:{content:{}},setup(e){const n=inject(App$1.KEY),s=e,o=ref([]);onMounted(i),watch(()=>s.content,i);function i(){s.content&&(o.value=s.content.split(",").map(l=>n.getGepu(l)).filter(l=>l))}return(l,c)=>(openBlock(),createElementBlock("div",_hoisted_1$t,[createBaseVNode("div",_hoisted_2$n,"共 "+toDisplayString(o.value.length)+" 张歌谱",1),(openBlock(!0),createElementBlock(Fragment,null,renderList(o.value,u=>(openBlock(),createElementBlock("div",_hoisted_3$i,[createVNode(Imager,{url:u},null,8,["url"])]))),256))]))}}),Gepu=_export_sfc(_sfc_main$y,[["__scopeId","data-v-a7cecf2c"]]),_hoisted_1$s={key:0,class:"unread"},_sfc_main$x=defineComponent({__name:"IconBtn",props:{size:{default:"normal"},tooltip:{},direction:{default:"top"},unread:{default:0},disabled:{type:Boolean,default:!1},static:{type:Boolean,default:!1},text:{type:Boolean},app:{type:Boolean}},setup(e){const n=e,s=ref(),o=ref(),i=reactive({x:0,y:0,tipVisible:!1}),l=computed(()=>({top:i.y+"px",left:i.x+"px"}));onMounted(()=>{d()});function c(){n.tooltip&&(i.tipVisible=!0,setTimeout(d,30))}function u(){i.tipVisible=!1}function d(){if(n.tooltip&&s.value){let v=s.value.getBoundingClientRect();if(i.x=v.left+v.width/2,o.value){let b=o.value.getBoundingClientRect();n.direction=="top"?i.y=v.top-b.height:i.y=v.top+v.height,o.value.style.opacity="1"}}}return(v,b)=>(openBlock(),createElementBlock("a",{class:normalizeClass(["icon-btn",[e.size,e.disabled?"disabled":"",e.static?"static":"",e.text?"text":"",e.app?"app":""]]),ref_key:"icon",ref:s,onMouseover:c,onMouseout:u},[renderSlot(v.$slots,"default",{},void 0),e.unread>0?(openBlock(),createElementBlock("label",_hoisted_1$s,toDisplayString(e.unread),1)):createCommentVNode("",!0),i.tipVisible?(openBlock(),createBlock(Teleport,{key:1,to:"body"},[createBaseVNode("div",{class:normalizeClass(["tooltip",e.direction]),ref_key:"tip",ref:o,style:normalizeStyle(l.value)},toDisplayString(e.tooltip),7)])):createCommentVNode("",!0)],34))}}),IconBtn=_export_sfc(_sfc_main$x,[["__scopeId","data-v-2496d4c0"]]),_hoisted_1$r={class:"scroller"},_sfc_main$w=defineComponent({__name:"BookSong",setup(e){const n=inject(Player.KEY),s=ref(),o=reactive({visible:!1});onMounted(()=>{myDevice.addEventListener(EVENT_BOOK_SONG,i)});function i(c,u){s.value=u,o.visible=!0,n.logPlay({bookSongId:u.id,bookId:u.book?.id})}function l(){o.visible=!1,s.value=void 0}return(c,u)=>o.visible&&s.value?(openBlock(),createBlock(Teleport,{key:0,to:"body"},[createBaseVNode("div",{class:"app-mask dark",onClick:l},[createBaseVNode("div",_hoisted_1$r,[createBaseVNode("div",{class:"frame",onClick:u[0]||(u[0]=withModifiers(()=>{},["stop"]))},[createVNode(Gepu,{content:s.value.content},null,8,["content"])])]),createVNode(IconBtn,{class:"close",static:"",onClick:l},{default:withCtx(()=>[...u[1]||(u[1]=[createBaseVNode("b",{class:"icon i-close"},null,-1)])]),_:1})])])):createCommentVNode("",!0)}}),BookSong=_export_sfc(_sfc_main$w,[["__scopeId","data-v-af5eb45f"]]);class IssueApi extends BaseAppApi{constructor(){super("/api/issue")}getMyIssues(n,s,o){let i={page:n,size:s};return o&&(i.status=o),this.get("/my-issues",i)}getMyIssue(n){return this.get(`/my-issues/${n}`)}createMyIssue(n){return this.post("/my-issues",n)}endMyIssue(n){return this.put(`/my-issues/${n}/end`)}getIssueComments(n){return this.get(`/my-issues/${n}/comments`)}createIssueComment(n,s){return this.post(`/my-issues/${n}/comments`,s)}}const issue=new IssueApi,ONLINE_SESSION="app-session";class User extends Store{static KEY="store-user";static EVENT_LOGIN="event-login";isNativeApp;get injectKey(){return User.KEY}context;issueCache;constructor(n,s){super({session:{id:"",name:"",avatar:"",gender:"",token:""},myEmail:"",myQa:!1,myPassword:!1,favorites:[],playlists:[],downloads:[],issueLogs:{}}),this.context=n,this.isNativeApp=s}async initialize(n){try{let s=localStorage.getItem(ONLINE_SESSION);if(s)return BaseApi.token=s,await this.initialize0(n),setTimeout(()=>{this.checkAccountSafe()},1e3),!0}catch{BaseApi.token=""}finally{authApi.trace("login")}return!1}async initialize0(n){n.push("[5.1]获取用户信息...");let s=await authApi.getUserInfo();this.state.session={id:s.id,name:s.nickname,avatar:s.avatar,gender:s.gender,token:BaseApi.token},this.state.myEmail=s.email,this.state.myPassword=s.password,this.state.myQa=s.qa,n.push("[5.2]加载用户歌单..."),await this.loadPlaylists(),n.push("[5.2]加载用户收藏..."),await this.loadFavorites(),this.loadIssueLogs(),this.loadNewIssues()}async loadFavorites(){let n=0,s=100,o=!1,i=[];do try{let l=await myApi.getFavorites(n,s);i.push(...l.list),n++,o=l.list.length<s}catch{break}finally{this.state.favorites=i}while(!o)}async loadPlaylists(){try{this.state.playlists=await myApi.getPlaylists();for(let n of this.state.playlists)n.ownerName=this.state.session.name}catch{}}async loadNewIssues(){try{let{list:n}=await issue.getMyIssues(1,100,"process");if(n.length>0){let s=Math.max(0,...n.map(i=>Math.floor(i.updateTime/1e3)));parseInt(window.localStorage.getItem("issue-max")||"0")<s&&await this.context.device.confirm({title:"提示",message:"您有新的反馈消息，是否现在查看？"})&&this.goMyIssues()}}catch{}}goMyIssues(){this.isLogged?this.context.router.push({name:"my-issues"}):this.goLogin()}get isLogged(){return this.state.session.id&&this.state.session.token}goLogin(){this.isNativeApp?this.context.router.push({name:"login"}):this.dispatch(User.EVENT_LOGIN)}async onLogin(n){this.setSession(n),await this.initialize0([]),authApi.trace("login"),this.checkAccountSafe()}setSession(n){this.state.session={id:n.id,name:n.nickname,avatar:n.avatar,gender:n.gender,token:n.token},BaseApi.token=n.token,localStorage.setItem(ONLINE_SESSION,n.token)}async checkAccountSafe(){if(!this.state.myPassword){await this.context.device.alert({title:"提示",message:"手机短信已停用请设置密码登录"}),this.context.router.push({name:"my-password"});return}this.state.myEmail||(await this.context.device.alert({title:"提示",message:"为了保障您的账号安全，请先绑定邮箱"}),this.context.router.push({name:"my-email"})),this.state.myQa||(await this.context.device.alert({title:"提示",message:"为了保障您的账号安全，请先设置安全密码"}),this.context.router.push({name:"my-qa"}))}async setMyProfile(n){let s=await authApi.setUesrInfo(n);this.setSession(s)}async setMyPassword(n){await authApi.setMyPassword(n),this.state.myPassword=!0}async setMyQa(n){await authApi.setMyQa(n),this.state.myQa=!0}async setMyEmail(n){await authApi.setMyEmail(n),this.state.myEmail=n.email}quit(){this.state.session={id:"",name:"",avatar:"",gender:"",token:""},BaseApi.token="",localStorage.removeItem(ONLINE_SESSION)}isFavorite(n,s){return this.state.favorites.some(o=>o.type==n&&o.target==s)}async addFavorite(n,s){if(!this.isLogged){this.goLogin();return}if(!this.state.favorites.some(o=>o.type==n&&o.target==s)){let o=await myApi.addFavorite(n,s);this.state.favorites.push(o)}}async removeFavorite(n,s){if(!this.isLogged){this.goLogin();return}let o=this.state.favorites.findIndex(i=>i.type==n&&i.target==s);o>=0&&(await myApi.removeFavorite(this.state.favorites[o].id),this.state.favorites.splice(o,1))}async removeFavorites(n){if(!this.isLogged){this.goLogin();return}await myApi.removeFavorites(n),this.state.favorites=this.state.favorites.filter(s=>n.indexOf(s.id)==-1)}async createPlaylist(n){let s=await myApi.createPlaylist(n);this.state.playlists.push(s)}async updatePlaylist(n,s){await myApi.updatePlaylist(n,s);let o=this.state.playlists.find(i=>i.id==n);o&&Object.assign(o,s)}async removePlaylist(n){await myApi.removePlaylist(n);let s=this.state.playlists.findIndex(o=>o.id==n);s>=0&&this.state.playlists.splice(s,1)}addToPlaylist(n,s){return myApi.addToPlaylist(n,s)}removeFromPlaylist(n,s){return myApi.removeFromPlaylist(n,s)}async addToDownload(n,s){if(!this.isLogged){this.goLogin();return}console.info(n,s)}readIssue(n){this.state.issueLogs[n.id]=n.updateTime||n.createdTime,window.localStorage.setItem("issues",JSON.stringify(this.state.issueLogs))}loadIssueLogs(){let n=window.localStorage.getItem("issues");if(n)try{this.state.issueLogs=JSON.parse(n)}catch{}}createIssue(n,s){this.issueCache=s,this.context.router.push({name:"my-issues-create",query:n})}}const EVENT_PLAYLIST_CREATE="event-playlist-create",EVENT_PLAY_PURE_MUSIC="event-play-pure-music";function getApp(e){return e.stores[App$1.KEY]}function getUser(e){return e.stores[User.KEY]}async function showCreatePlaylist(e){const n=getUser(e);if(!n.isLogged){n.goLogin();return}if(n.state.playlists.length>=getApp(e).playlistLimit){e.device.toast("歌单数量已达上限，无法创建新歌单");return}return new Promise(s=>{e.device.dispatch(EVENT_PLAYLIST_CREATE,s)})}async function showAddPlaylistMenu(e,n,s){const o=getUser(e);if(!o.isLogged){o.goLogin();return}const i=["新建歌单","",...o.state.playlists.map(u=>u.name)];let l=await e.device.contextMenu(i,s);l=="新建歌单"&&(l=await showCreatePlaylist(e));let c=o.state.playlists.find(u=>u.name==l);c&&(await o.addToPlaylist(c.id,[n.id]),e.device.toast("加入成功"))}const scriptRel="modulepreload",assetsURL=function(e,n){return new URL(e,n).href},seen={},__vitePreload=function e(n,s,o){let i=Promise.resolve();if(s&&s.length>0){let v=function(b){return Promise.all(b.map(P=>Promise.resolve(P).then(V=>({status:"fulfilled",value:V}),V=>({status:"rejected",reason:V}))))};const c=document.getElementsByTagName("link"),u=document.querySelector("meta[property=csp-nonce]"),d=u?.nonce||u?.getAttribute("nonce");i=v(s.map(b=>{if(b=assetsURL(b,o),b in seen)return;seen[b]=!0;const P=b.endsWith(".css"),V=P?'[rel="stylesheet"]':"";if(o)for(let q=c.length-1;q>=0;q--){const Q=c[q];if(Q.href===b&&(!P||Q.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${b}"]${V}`))return;const F=document.createElement("link");if(F.rel=P?"stylesheet":scriptRel,P||(F.as="script"),F.crossOrigin="",F.href=b,d&&F.setAttribute("nonce",d),document.head.appendChild(F),P)return new Promise((q,Q)=>{F.addEventListener("load",q),F.addEventListener("error",()=>Q(new Error(`Unable to preload CSS for ${b}`)))})}))}function l(c){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=c,window.dispatchEvent(u),!u.defaultPrevented)throw c}return i.then(c=>{for(const u of c||[])u.status==="rejected"&&l(u.reason);return n().catch(l)})};const createCapacitorPlatforms=e=>{const n=new Map;n.set("web",{name:"web"});const s=e.CapacitorPlatforms||{currentPlatform:{name:"web"},platforms:n},o=(l,c)=>{s.platforms.set(l,c)},i=l=>{s.platforms.has(l)&&(s.currentPlatform=s.platforms.get(l))};return s.addPlatform=o,s.setPlatform=i,s},initPlatforms=e=>e.CapacitorPlatforms=createCapacitorPlatforms(e),CapacitorPlatforms=initPlatforms(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});CapacitorPlatforms.addPlatform;CapacitorPlatforms.setPlatform;var ExceptionCode;(function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"})(ExceptionCode||(ExceptionCode={}));class CapacitorException extends Error{constructor(n,s,o){super(n),this.message=n,this.code=s,this.data=o}}const getPlatformId=e=>{var n,s;return e?.androidBridge?"android":!((s=(n=e?.webkit)===null||n===void 0?void 0:n.messageHandlers)===null||s===void 0)&&s.bridge?"ios":"web"},createCapacitor=e=>{var n,s,o,i,l;const c=e.CapacitorCustomPlatform||null,u=e.Capacitor||{},d=u.Plugins=u.Plugins||{},v=e.CapacitorPlatforms,b=()=>c!==null?c.name:getPlatformId(e),P=((n=v?.currentPlatform)===null||n===void 0?void 0:n.getPlatform)||b,V=()=>P()!=="web",F=((s=v?.currentPlatform)===null||s===void 0?void 0:s.isNativePlatform)||V,q=he=>{const _e=re.get(he);return!!(_e?.platforms.has(P())||ie(he))},Q=((o=v?.currentPlatform)===null||o===void 0?void 0:o.isPluginAvailable)||q,ee=he=>{var _e;return(_e=u.PluginHeaders)===null||_e===void 0?void 0:_e.find(pe=>pe.name===he)},ie=((i=v?.currentPlatform)===null||i===void 0?void 0:i.getPluginHeader)||ee,ue=he=>e.console.error(he),ge=(he,_e,pe)=>Promise.reject(`${pe} does not have an implementation of "${_e}".`),re=new Map,ne=(he,_e={})=>{const pe=re.get(he);if(pe)return console.warn(`Capacitor plugin "${he}" already registered. Cannot register plugins twice.`),pe.proxy;const ve=P(),ke=ie(he);let ce;const Se=async()=>(!ce&&ve in _e?ce=typeof _e[ve]=="function"?ce=await _e[ve]():ce=_e[ve]:c!==null&&!ce&&"web"in _e&&(ce=typeof _e.web=="function"?ce=await _e.web():ce=_e.web),ce),Re=(Oe,Me)=>{var Ve,je;if(ke){const ze=ke?.methods.find(De=>Me===De.name);if(ze)return ze.rtype==="promise"?De=>u.nativePromise(he,Me.toString(),De):(De,Fe)=>u.nativeCallback(he,Me.toString(),De,Fe);if(Oe)return(Ve=Oe[Me])===null||Ve===void 0?void 0:Ve.bind(Oe)}else{if(Oe)return(je=Oe[Me])===null||je===void 0?void 0:je.bind(Oe);throw new CapacitorException(`"${he}" plugin is not implemented on ${ve}`,ExceptionCode.Unimplemented)}},Le=Oe=>{let Me;const Ve=(...je)=>{const ze=Se().then(De=>{const Fe=Re(De,Oe);if(Fe){const te=Fe(...je);return Me=te?.remove,te}else throw new CapacitorException(`"${he}.${Oe}()" is not implemented on ${ve}`,ExceptionCode.Unimplemented)});return Oe==="addListener"&&(ze.remove=async()=>Me()),ze};return Ve.toString=()=>`${Oe.toString()}() { [capacitor code] }`,Object.defineProperty(Ve,"name",{value:Oe,writable:!1,configurable:!1}),Ve},Ae=Le("addListener"),Te=Le("removeListener"),xe=(Oe,Me)=>{const Ve=Ae({eventName:Oe},Me),je=async()=>{const De=await Ve;Te({eventName:Oe,callbackId:De},Me)},ze=new Promise(De=>Ve.then(()=>De({remove:je})));return ze.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await je()},ze},Ue=new Proxy({},{get(Oe,Me){switch(Me){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return ke?xe:Ae;case"removeListener":return Te;default:return Le(Me)}}});return d[he]=Ue,re.set(he,{name:he,proxy:Ue,platforms:new Set([...Object.keys(_e),...ke?[ve]:[]])}),Ue},fe=((l=v?.currentPlatform)===null||l===void 0?void 0:l.registerPlugin)||ne;return u.convertFileSrc||(u.convertFileSrc=he=>he),u.getPlatform=P,u.handleError=ue,u.isNativePlatform=F,u.isPluginAvailable=Q,u.pluginMethodNoop=ge,u.registerPlugin=fe,u.Exception=CapacitorException,u.DEBUG=!!u.DEBUG,u.isLoggingEnabled=!!u.isLoggingEnabled,u.platform=u.getPlatform(),u.isNative=u.isNativePlatform(),u},initCapacitorGlobal=e=>e.Capacitor=createCapacitor(e),Capacitor=initCapacitorGlobal(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),registerPlugin=Capacitor.registerPlugin;Capacitor.Plugins;class WebPlugin{constructor(n){this.listeners={},this.retainedEventArguments={},this.windowListeners={},n&&(console.warn(`Capacitor WebPlugin "${n.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=n)}addListener(n,s){let o=!1;this.listeners[n]||(this.listeners[n]=[],o=!0),this.listeners[n].push(s);const l=this.windowListeners[n];l&&!l.registered&&this.addWindowListener(l),o&&this.sendRetainedArgumentsForEvent(n);const c=async()=>this.removeListener(n,s);return Promise.resolve({remove:c})}async removeAllListeners(){this.listeners={};for(const n in this.windowListeners)this.removeWindowListener(this.windowListeners[n]);this.windowListeners={}}notifyListeners(n,s,o){const i=this.listeners[n];if(!i){if(o){let l=this.retainedEventArguments[n];l||(l=[]),l.push(s),this.retainedEventArguments[n]=l}return}i.forEach(l=>l(s))}hasListeners(n){return!!this.listeners[n].length}registerWindowListener(n,s){this.windowListeners[s]={registered:!1,windowEventName:n,pluginEventName:s,handler:o=>{this.notifyListeners(s,o)}}}unimplemented(n="not implemented"){return new Capacitor.Exception(n,ExceptionCode.Unimplemented)}unavailable(n="not available"){return new Capacitor.Exception(n,ExceptionCode.Unavailable)}async removeListener(n,s){const o=this.listeners[n];if(!o)return;const i=o.indexOf(s);this.listeners[n].splice(i,1),this.listeners[n].length||this.removeWindowListener(this.windowListeners[n])}addWindowListener(n){window.addEventListener(n.windowEventName,n.handler),n.registered=!0}removeWindowListener(n){n&&(window.removeEventListener(n.windowEventName,n.handler),n.registered=!1)}sendRetainedArgumentsForEvent(n){const s=this.retainedEventArguments[n];s&&(delete this.retainedEventArguments[n],s.forEach(o=>{this.notifyListeners(n,o)}))}}const encode=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),decode$1=e=>e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class CapacitorCookiesPluginWeb extends WebPlugin{async getCookies(){const n=document.cookie,s={};return n.split(";").forEach(o=>{if(o.length<=0)return;let[i,l]=o.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");i=decode$1(i).trim(),l=decode$1(l).trim(),s[i]=l}),s}async setCookie(n){try{const s=encode(n.key),o=encode(n.value),i=`; expires=${(n.expires||"").replace("expires=","")}`,l=(n.path||"/").replace("path=",""),c=n.url!=null&&n.url.length>0?`domain=${n.url}`:"";document.cookie=`${s}=${o||""}${i}; path=${l}; ${c};`}catch(s){return Promise.reject(s)}}async deleteCookie(n){try{document.cookie=`${n.key}=; Max-Age=0`}catch(s){return Promise.reject(s)}}async clearCookies(){try{const n=document.cookie.split(";")||[];for(const s of n)document.cookie=s.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(n){return Promise.reject(n)}}async clearAllCookies(){try{await this.clearCookies()}catch(n){return Promise.reject(n)}}}registerPlugin("CapacitorCookies",{web:()=>new CapacitorCookiesPluginWeb});const readBlobAsBase64=async e=>new Promise((n,s)=>{const o=new FileReader;o.onload=()=>{const i=o.result;n(i.indexOf(",")>=0?i.split(",")[1]:i)},o.onerror=i=>s(i),o.readAsDataURL(e)}),normalizeHttpHeaders=(e={})=>{const n=Object.keys(e);return Object.keys(e).map(i=>i.toLocaleLowerCase()).reduce((i,l,c)=>(i[l]=e[n[c]],i),{})},buildUrlParams=(e,n=!0)=>e?Object.entries(e).reduce((o,i)=>{const[l,c]=i;let u,d;return Array.isArray(c)?(d="",c.forEach(v=>{u=n?encodeURIComponent(v):v,d+=`${l}=${u}&`}),d.slice(0,-1)):(u=n?encodeURIComponent(c):c,d=`${l}=${u}`),`${o}&${d}`},"").substr(1):null,buildRequestInit=(e,n={})=>{const s=Object.assign({method:e.method||"GET",headers:e.headers},n),i=normalizeHttpHeaders(e.headers)["content-type"]||"";if(typeof e.data=="string")s.body=e.data;else if(i.includes("application/x-www-form-urlencoded")){const l=new URLSearchParams;for(const[c,u]of Object.entries(e.data||{}))l.set(c,u);s.body=l.toString()}else if(i.includes("multipart/form-data")||e.data instanceof FormData){const l=new FormData;if(e.data instanceof FormData)e.data.forEach((u,d)=>{l.append(d,u)});else for(const u of Object.keys(e.data))l.append(u,e.data[u]);s.body=l;const c=new Headers(s.headers);c.delete("content-type"),s.headers=c}else(i.includes("application/json")||typeof e.data=="object")&&(s.body=JSON.stringify(e.data));return s};class CapacitorHttpPluginWeb extends WebPlugin{async request(n){const s=buildRequestInit(n,n.webFetchExtra),o=buildUrlParams(n.params,n.shouldEncodeUrlParams),i=o?`${n.url}?${o}`:n.url,l=await fetch(i,s),c=l.headers.get("content-type")||"";let{responseType:u="text"}=l.ok?n:{};c.includes("application/json")&&(u="json");let d,v;switch(u){case"arraybuffer":case"blob":v=await l.blob(),d=await readBlobAsBase64(v);break;case"json":d=await l.json();break;case"document":case"text":default:d=await l.text()}const b={};return l.headers.forEach((P,V)=>{b[V]=P}),{data:d,headers:b,status:l.status,url:l.url}}async get(n){return this.request(Object.assign(Object.assign({},n),{method:"GET"}))}async post(n){return this.request(Object.assign(Object.assign({},n),{method:"POST"}))}async put(n){return this.request(Object.assign(Object.assign({},n),{method:"PUT"}))}async patch(n){return this.request(Object.assign(Object.assign({},n),{method:"PATCH"}))}async delete(n){return this.request(Object.assign(Object.assign({},n),{method:"DELETE"}))}}registerPlugin("CapacitorHttp",{web:()=>new CapacitorHttpPluginWeb});const App=registerPlugin("App",{web:()=>__vitePreload(()=>import("./web-ZewDAzbZ.js"),[],import.meta.url).then(e=>new e.AppWeb)});registerPlugin("Device",{web:()=>__vitePreload(()=>import("./web-Dqf5J3xi.js"),[],import.meta.url).then(e=>new e.DeviceWeb)});var Style;(function(e){e.Dark="DARK",e.Light="LIGHT",e.Default="DEFAULT"})(Style||(Style={}));var Animation;(function(e){e.None="NONE",e.Slide="SLIDE",e.Fade="FADE"})(Animation||(Animation={}));const StatusBar=registerPlugin("StatusBar");function setStatusBarVisible(e){e?StatusBar.show():StatusBar.hide()}function setStatusBarStyle(e){StatusBar.setStyle({style:e?Style.Dark:Style.Light})}function exitApp(){App.exitApp()}var t=(e=>(e[e.TOP=0]="TOP",e[e.BOTTOM=1]="BOTTOM",e))(t||{}),r=(e=>(e[e.PAGE_SHEET=0]="PAGE_SHEET",e[e.FORM_SHEET=1]="FORM_SHEET",e[e.FULL_SCREEN=2]="FULL_SCREEN",e))(r||{}),O$1=(e=>(e[e.BOTTOM_SHEET=0]="BOTTOM_SHEET",e[e.FULL_SCREEN=1]="FULL_SCREEN",e))(O$1||{}),a=(e=>(e[e.FLIP_HORIZONTAL=0]="FLIP_HORIZONTAL",e[e.CROSS_DISSOLVE=1]="CROSS_DISSOLVE",e[e.COVER_VERTICAL=2]="COVER_VERTICAL",e))(a||{}),E$1=(e=>(e[e.FADE_IN=0]="FADE_IN",e[e.FADE_OUT=1]="FADE_OUT",e[e.SLIDE_IN_LEFT=2]="SLIDE_IN_LEFT",e[e.SLIDE_OUT_RIGHT=3]="SLIDE_OUT_RIGHT",e))(E$1||{}),T$1=(e=>(e[e.CLOSE=0]="CLOSE",e[e.CANCEL=1]="CANCEL",e[e.DONE=2]="DONE",e))(T$1||{});r.FULL_SCREEN,a.COVER_VERTICAL;t.TOP;T$1.DONE,r.FULL_SCREEN,a.COVER_VERTICAL;O$1.BOTTOM_SHEET,E$1.FADE_IN,E$1.FADE_OUT;const I$1=registerPlugin("InAppBrowser",{web:()=>__vitePreload(()=>import("./web-B3Ll3yFB-Cs_9Fvzb.js"),[],import.meta.url).then(e=>new e.InAppBrowserWeb)});function openURL(e){I$1.openInExternalBrowser({url:e})}class ClipboardWeb extends WebPlugin{async write(n){if(typeof navigator>"u"||!navigator.clipboard)throw this.unavailable("Clipboard API not available in this browser");if(n.string!==void 0)await this.writeText(n.string);else if(n.url)await this.writeText(n.url);else if(n.image)if(typeof ClipboardItem<"u")try{const s=await(await fetch(n.image)).blob(),o=new ClipboardItem({[s.type]:s});await navigator.clipboard.write([o])}catch{throw new Error("Failed to write image")}else throw this.unavailable("Writing images to the clipboard is not supported in this browser");else throw new Error("Nothing to write")}async read(){if(typeof navigator>"u"||!navigator.clipboard)throw this.unavailable("Clipboard API not available in this browser");if(typeof ClipboardItem<"u")try{const n=await navigator.clipboard.read(),s=n[0].types[0],o=await n[0].getType(s);return{value:await this._getBlobData(o,s),type:s}}catch{return this.readText()}else return this.readText()}async readText(){if(typeof navigator>"u"||!navigator.clipboard||!navigator.clipboard.readText)throw this.unavailable("Reading from clipboard not supported in this browser");return{value:await navigator.clipboard.readText(),type:"text/plain"}}async writeText(n){if(typeof navigator>"u"||!navigator.clipboard||!navigator.clipboard.writeText)throw this.unavailable("Writting to clipboard not supported in this browser");await navigator.clipboard.writeText(n)}_getBlobData(n,s){return new Promise((o,i)=>{const l=new FileReader;s.includes("image")?l.readAsDataURL(n):l.readAsText(n),l.onloadend=()=>{const c=l.result;o(c)},l.onerror=c=>{i(c)}})}}const Clipboard=registerPlugin("Clipboard",{web:()=>new ClipboardWeb});function copy(e){Clipboard.write({string:e})}const Media=registerPlugin("Media",{web:()=>__vitePreload(()=>import("./web-i_jpmJRI.js"),[],import.meta.url).then(e=>new e.MediaWeb)}),ALBUM_NAME="福音诗歌";async function getAlbum(){let e=await Media.getAlbums();for(let s of e.albums)if(s.name==ALBUM_NAME)return s;await Media.createAlbum({name:ALBUM_NAME});let n=await Media.getAlbums();for(let s of n.albums)if(s.name==ALBUM_NAME)return s}async function savePhoto(e,n){let s=await getAlbum();return Media.savePhoto({path:e,albumIdentifier:s?.identifier,fileName:n})}const Preferences=registerPlugin("Preferences",{web:()=>__vitePreload(()=>import("./web-BWAOOs2B.js"),[],import.meta.url).then(e=>new e.PreferencesWeb)});async function getValue(e){return(await Preferences.get({key:e})).value}function setValue(e,n){Preferences.set({key:e,value:n})}const AudioPlayer=registerPlugin("AudioPlayer");class AudioManager{audioInstance;constructor(n){this.audioInstance=n?new WebAudio:AudioPlayer}getStatus(){return this.audioInstance.getStatus()}getPlayList(){return this.audioInstance.getPlayList()}setPlayList(n){return this.audioInstance.setPlayList(n)}append(n){return this.audioInstance.append(n)}remove(n){return this.audioInstance.remove(n)}play(n){return this.audioInstance.play(n)}pause(){return this.audioInstance.pause()}seek(n){return this.audioInstance.seek(n)}setLoop(n){return this.audioInstance.setLoop(n)}setTimeout(n){return this.audioInstance.setTimeout(n)}}class WebAudio{_audio=document.createElement("audio");_playlist=[];_index=0;_playing=!1;_loopMode="next";_timeout=-1;_timeouter=0;constructor(){this.createAudio()}createAudio(){this._audio.onplay=null,this._audio.onpause=null,this._audio.onended=null,this._audio.onerror=null,this._audio=document.createElement("audio"),this._audio.onplay=this.onPlay.bind(this),this._audio.onpause=this.onPause.bind(this),this._audio.onended=this.onEnd.bind(this),this._audio.onerror=this.onError.bind(this)}async getStatus(){return{result:"ok",data:{isPlaying:this._playing,current:this._index,currentTime:this._audio.currentTime||0,duration:this._audio.duration||0,loop:this._loopMode,timeout:this._timeout,error:""}}}async getPlayList(){return{result:"ok",data:this._playlist.map(n=>n.id)}}async setPlayList(n){return this.stop(),this._playlist=n.list,this._index=n.index,{result:"ok",data:void 0}}async append(n){let s=this._playlist.findIndex(o=>o.id==n.id);return s==-1?this._index<this._playlist.length-1?(this._playlist.splice(this._index+1,0,n),this._index=this._index+1):(this._playlist.push(n),this._index=this._playlist.length-1):this._index=s,this.play({offset:0}),{result:"ok",data:void 0}}async remove(n){return this._index==n.index&&this.stop(),this._playlist.splice(n.index,1),{result:"ok",data:void 0}}async play(n){this._index=(this._index+n.offset+this._playlist.length)%this._playlist.length;const s=decodeURIComponent(this._audio.src),o=decodeURIComponent(this._playlist[this._index].url);return s!=o&&(this._audio.src=o),this._audio.play(),{result:"ok",data:void 0}}async pause(){return this._audio.pause(),{result:"ok",data:void 0}}stop(){this._playing=!1,this._audio.pause(),this.createAudio()}async seek(n){return this._audio.currentTime=n.time,{result:"ok",data:void 0}}async setLoop(n){return this._loopMode=n.mode,{result:"ok",data:void 0}}async setTimeout(n){return clearTimeout(this._timeouter),this._timeout=n.minutes,n.minutes>0&&(this._timeouter=setTimeout(()=>{this.pause()},n.minutes*60*1e3)),{result:"ok",data:void 0}}onPlay(){this._playing=!0}onPause(){this._playing=!1}onEnd(){if(this._playing=!1,this._loopMode=="next")this._index+1<this._playlist.length&&this.play({offset:1});else if(this._loopMode=="all")this.play({offset:1});else if(this._loopMode=="one")this.play({offset:0});else if(this._loopMode=="rand")if(this._playlist.length>=2){let n=Math.floor(this._playlist.length*Math.random());n==0&&(n=1),this.play({offset:n})}else this.play({offset:1})}onError(n){this._audio.src&&(console.info("----",this._audio.src),console.error(n),this.onEnd())}}const Dialog=registerPlugin("Dialog",{web:()=>__vitePreload(()=>import("./web-CADazA6n.js"),[],import.meta.url).then(e=>new e.DialogWeb)});async function alert(e){await Dialog.alert(e)}async function confirm(e){const{value:n}=await Dialog.confirm(e);return n}async function prompt(e){const{value:n,cancelled:s}=await Dialog.prompt(e);return s?"":n}const TOAST="toast",LOADING="loading",CONTEXT_MENU="context-menu",PHOTO_VIEWER="photo-viewer",ALERT="alert",CONFIRM="confirm";class DeviceManager extends EventDispatcher{APP_SCROLL="app-scroll";loading(n,s=""){this.dispatch(LOADING,n,s)}toast(n){this.dispatch(TOAST,n)}contextMenu(n,s){return new Promise(o=>{this.dispatch(CONTEXT_MENU,o,n,s)})}alert(n){return n=Object.assign({},{buttonTitle:"确定"},n),Capacitor.isNativePlatform()?alert(n):new Promise(s=>{this.dispatch(ALERT,n,s)})}confirm(n){return n=Object.assign({},{okButtonTitle:"确定",cancelButtonTitle:"取消"},n),Capacitor.isNativePlatform()?confirm(n):new Promise(s=>{this.dispatch(CONFIRM,n,s)})}prompt(n){return n=Object.assign({},{okButtonTitle:"确定",cancelButtonTitle:"取消"},n),prompt(n)}photoView(n,s=0){this.dispatch(PHOTO_VIEWER,n,s)}}class ViewContext{static NAME=Symbol("ViewContext");device=new DeviceManager;router;audio;backTriggers=[];stores={};state=reactive({appReady:!1});constructor(n,s,o){this.router=n,(!s||o)&&(this.audio=new AudioManager(o))}onReady(){this.state.appReady=!0,setTimeout(()=>{let n=document.getElementById("start-page");n&&n.parentElement?.removeChild(n)},1e3)}callBanner(n){n.url?this.callUrl(n.url):n.song||(n.album?this.router.push({name:"album",params:{id:n.album.id}}):n.playlist?this.router.push({name:"playlist",params:{id:n.playlist.id}}):n.author&&this.router.push({name:"artist",params:{id:n.author.id}}))}callUrl(n,s=!1){if(/^https?:\/\//i.test(n))s?openURL(n):this.router.push({name:"web",query:{url:encodeURIComponent(n)}});else if(/^zms:\/\//.test(n)){let o=n.substring(5);this.router.push(o)}else if(/^event:\/\//.test(n)){let o="event-"+n.substring(8);this.device.dispatch(o)}else console.info("unknow url",n)}copy(n,s="链接"){copy(n),this.device.toast(s+"复制成功")}getPreferences(n){return getValue(n)}setPreferences(n,s){setValue(n,s)}setStatusBarVisible(n){setStatusBarVisible(n)}setStatusBarStyle(n){setStatusBarStyle(n)}exitApp(){exitApp()}saveImage(n,s){return savePhoto(n,s)}pushBackTrigger(n){this.backTriggers.push(n)}popBackTrigger(){this.backTriggers.pop()}triggerBack(){let n=this.backTriggers[this.backTriggers.length-1];n&&n()}}const _hoisted_1$q={key:0,class:"app-mask"},_hoisted_2$m={class:"login-dialog dialog popup glass"},_hoisted_3$h={class:"login-form"},_sfc_main$v=defineComponent({__name:"CreatePlaylist",setup(e){const n=inject(ViewContext.NAME),s=inject(User.KEY),o=reactive({visible:!1,name:"",loading:!1});let i;onMounted(()=>{n.device.addEventListener(EVENT_PLAYLIST_CREATE,l)});function l(d,v){i=v,o.visible=!0}async function c(){if(!o.name)return n.device.toast("请输入歌单名称");if(s.state.playlists.some(d=>d.name==o.name))return n.device.toast("名称已存在");if(!o.loading)try{o.loading=!0,n.device.loading(!0,"正在提交..."),await s.createPlaylist(o.name),u(o.name)}finally{n.device.loading(!1),o.loading=!1}}function u(d){i(d),o.visible=!1}return(d,v)=>(openBlock(),createBlock(Teleport,{to:"body"},[o.visible?(openBlock(),createElementBlock("div",_hoisted_1$q,[createBaseVNode("div",_hoisted_2$m,[v[4]||(v[4]=createBaseVNode("div",{class:"dialog-title"},[createBaseVNode("b",null,"新建歌单")],-1)),createVNode(IconBtn,{class:"close",onClick:v[0]||(v[0]=b=>u())},{default:withCtx(()=>[...v[2]||(v[2]=[createBaseVNode("b",{class:"icon i-close"},null,-1)])]),_:1}),createBaseVNode("div",_hoisted_3$h,[v[3]||(v[3]=createBaseVNode("div",{class:"label"},"歌单名称",-1)),withDirectives(createBaseVNode("input",{class:"option","onUpdate:modelValue":v[1]||(v[1]=b=>o.name=b)},null,512),[[vModelText,o.name]]),createBaseVNode("a",{class:"submit",onClick:c},"确定")])])])):createCommentVNode("",!0)]))}}),CreatePlaylist=_export_sfc(_sfc_main$v,[["__scopeId","data-v-18e6a80a"]]),_hoisted_1$p={key:0,class:"app-mask"},_hoisted_2$l={class:"login-dialog dialog popup glass"},_hoisted_3$g={class:"login-form"},_hoisted_4$e={class:"title"},_hoisted_5$b={class:"message"},_hoisted_6$5=["innerHTML"],_hoisted_7$5={class:"toolbar"},_sfc_main$u=defineComponent({__name:"MessageBox",setup(e){const n=reactive({visible:!1,title:"",message:"",type:"",loading:!1});let s;onMounted(()=>{myDevice.addEventListener(EVENT_ALERT,o),myDevice.addEventListener(EVENT_CONFIRM,i)});function o(u,d,v){s=v,n.title=d.title||"提示",n.message=d.message,n.type="alert",n.visible=!0}function i(u,d,v){s=v,n.title=d.title||"提示",n.message=d.message,n.type="confirm",n.visible=!0}function l(){s&&s(!0),n.visible=!1}function c(){s&&s(!1),n.visible=!1}return(u,d)=>n.visible?(openBlock(),createElementBlock("div",_hoisted_1$p,[createBaseVNode("div",_hoisted_2$l,[createBaseVNode("div",_hoisted_3$g,[createBaseVNode("div",_hoisted_4$e,toDisplayString(n.title),1),createBaseVNode("div",_hoisted_5$b,[createBaseVNode("div",{innerHTML:n.message},null,8,_hoisted_6$5)]),createBaseVNode("div",_hoisted_7$5,[n.type=="confirm"?(openBlock(),createElementBlock("a",{key:0,class:"cancel",onClick:c},"确定")):createCommentVNode("",!0),createBaseVNode("a",{class:"submit",onClick:l},"确定")])])])])):createCommentVNode("",!0)}}),MessageBox=_export_sfc(_sfc_main$u,[["__scopeId","data-v-eeb387dd"]]);const isBrowser=typeof document<"u";function isRouteComponent(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function isESModule(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&isRouteComponent(e.default)}const assign=Object.assign;function applyToParams(e,n){const s={};for(const o in n){const i=n[o];s[o]=isArray(i)?i.map(e):e(i)}return s}const noop=()=>{},isArray=Array.isArray;function mergeOptions(e,n){const s={};for(const o in e)s[o]=o in n?n[o]:e[o];return s}const HASH_RE=/#/g,AMPERSAND_RE=/&/g,SLASH_RE=/\//g,EQUAL_RE=/=/g,IM_RE=/\?/g,PLUS_RE=/\+/g,ENC_BRACKET_OPEN_RE=/%5B/g,ENC_BRACKET_CLOSE_RE=/%5D/g,ENC_CARET_RE=/%5E/g,ENC_BACKTICK_RE=/%60/g,ENC_CURLY_OPEN_RE=/%7B/g,ENC_PIPE_RE=/%7C/g,ENC_CURLY_CLOSE_RE=/%7D/g,ENC_SPACE_RE=/%20/g;function commonEncode(e){return e==null?"":encodeURI(""+e).replace(ENC_PIPE_RE,"|").replace(ENC_BRACKET_OPEN_RE,"[").replace(ENC_BRACKET_CLOSE_RE,"]")}function encodeHash(e){return commonEncode(e).replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryValue(e){return commonEncode(e).replace(PLUS_RE,"%2B").replace(ENC_SPACE_RE,"+").replace(HASH_RE,"%23").replace(AMPERSAND_RE,"%26").replace(ENC_BACKTICK_RE,"`").replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryKey(e){return encodeQueryValue(e).replace(EQUAL_RE,"%3D")}function encodePath(e){return commonEncode(e).replace(HASH_RE,"%23").replace(IM_RE,"%3F")}function encodeParam(e){return encodePath(e).replace(SLASH_RE,"%2F")}function decode(e){if(e==null)return null;try{return decodeURIComponent(""+e)}catch{}return""+e}const TRAILING_SLASH_RE=/\/$/,removeTrailingSlash=e=>e.replace(TRAILING_SLASH_RE,"");function parseURL(e,n,s="/"){let o,i={},l="",c="";const u=n.indexOf("#");let d=n.indexOf("?");return d=u>=0&&d>u?-1:d,d>=0&&(o=n.slice(0,d),l=n.slice(d,u>0?u:n.length),i=e(l.slice(1))),u>=0&&(o=o||n.slice(0,u),c=n.slice(u,n.length)),o=resolveRelativePath(o??n,s),{fullPath:o+l+c,path:o,query:i,hash:decode(c)}}function stringifyURL(e,n){const s=n.query?e(n.query):"";return n.path+(s&&"?")+s+(n.hash||"")}function stripBase(e,n){return!n||!e.toLowerCase().startsWith(n.toLowerCase())?e:e.slice(n.length)||"/"}function isSameRouteLocation(e,n,s){const o=n.matched.length-1,i=s.matched.length-1;return o>-1&&o===i&&isSameRouteRecord(n.matched[o],s.matched[i])&&isSameRouteLocationParams(n.params,s.params)&&e(n.query)===e(s.query)&&n.hash===s.hash}function isSameRouteRecord(e,n){return(e.aliasOf||e)===(n.aliasOf||n)}function isSameRouteLocationParams(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const s in e)if(!isSameRouteLocationParamsValue(e[s],n[s]))return!1;return!0}function isSameRouteLocationParamsValue(e,n){return isArray(e)?isEquivalentArray(e,n):isArray(n)?isEquivalentArray(n,e):e===n}function isEquivalentArray(e,n){return isArray(n)?e.length===n.length&&e.every((s,o)=>s===n[o]):e.length===1&&e[0]===n}function resolveRelativePath(e,n){if(e.startsWith("/"))return e;if(!e)return n;const s=n.split("/"),o=e.split("/"),i=o[o.length-1];(i===".."||i===".")&&o.push("");let l=s.length-1,c,u;for(c=0;c<o.length;c++)if(u=o[c],u!==".")if(u==="..")l>1&&l--;else break;return s.slice(0,l).join("/")+"/"+o.slice(c).join("/")}const START_LOCATION_NORMALIZED={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let NavigationType=(function(e){return e.pop="pop",e.push="push",e})({}),NavigationDirection=(function(e){return e.back="back",e.forward="forward",e.unknown="",e})({});function normalizeBase(e){if(!e)if(isBrowser){const n=document.querySelector("base");e=n&&n.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),removeTrailingSlash(e)}const BEFORE_HASH_RE=/^[^#]+#/;function createHref(e,n){return e.replace(BEFORE_HASH_RE,"#")+n}function getElementPosition(e,n){const s=document.documentElement.getBoundingClientRect(),o=e.getBoundingClientRect();return{behavior:n.behavior,left:o.left-s.left-(n.left||0),top:o.top-s.top-(n.top||0)}}const computeScrollPosition=()=>({left:window.scrollX,top:window.scrollY});function scrollToPosition(e){let n;if("el"in e){const s=e.el,o=typeof s=="string"&&s.startsWith("#"),i=typeof s=="string"?o?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!i)return;n=getElementPosition(i,e)}else n=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(n):window.scrollTo(n.left!=null?n.left:window.scrollX,n.top!=null?n.top:window.scrollY)}function getScrollKey(e,n){return(history.state?history.state.position-n:-1)+e}const scrollPositions=new Map;function saveScrollPosition(e,n){scrollPositions.set(e,n)}function getSavedScrollPosition(e){const n=scrollPositions.get(e);return scrollPositions.delete(e),n}function isRouteLocation(e){return typeof e=="string"||e&&typeof e=="object"}function isRouteName(e){return typeof e=="string"||typeof e=="symbol"}let ErrorTypes=(function(e){return e[e.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",e[e.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",e[e.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",e[e.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",e[e.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",e})({});const NavigationFailureSymbol=Symbol("");ErrorTypes.MATCHER_NOT_FOUND+"",ErrorTypes.NAVIGATION_GUARD_REDIRECT+"",ErrorTypes.NAVIGATION_ABORTED+"",ErrorTypes.NAVIGATION_CANCELLED+"",ErrorTypes.NAVIGATION_DUPLICATED+"";function createRouterError(e,n){return assign(new Error,{type:e,[NavigationFailureSymbol]:!0},n)}function isNavigationFailure(e,n){return e instanceof Error&&NavigationFailureSymbol in e&&(n==null||!!(e.type&n))}const propertiesToLog=["params","query","hash"];function stringifyRoute(e){if(typeof e=="string")return e;if(e.path!=null)return e.path;const n={};for(const s of propertiesToLog)s in e&&(n[s]=e[s]);return JSON.stringify(n,null,2)}function parseQuery(e){const n={};if(e===""||e==="?")return n;const s=(e[0]==="?"?e.slice(1):e).split("&");for(let o=0;o<s.length;++o){const i=s[o].replace(PLUS_RE," "),l=i.indexOf("="),c=decode(l<0?i:i.slice(0,l)),u=l<0?null:decode(i.slice(l+1));if(c in n){let d=n[c];isArray(d)||(d=n[c]=[d]),d.push(u)}else n[c]=u}return n}function stringifyQuery(e){let n="";for(let s in e){const o=e[s];if(s=encodeQueryKey(s),o==null){o!==void 0&&(n+=(n.length?"&":"")+s);continue}(isArray(o)?o.map(i=>i&&encodeQueryValue(i)):[o&&encodeQueryValue(o)]).forEach(i=>{i!==void 0&&(n+=(n.length?"&":"")+s,i!=null&&(n+="="+i))})}return n}function normalizeQuery(e){const n={};for(const s in e){const o=e[s];o!==void 0&&(n[s]=isArray(o)?o.map(i=>i==null?null:""+i):o==null?o:""+o)}return n}const matchedRouteKey=Symbol(""),viewDepthKey=Symbol(""),routerKey=Symbol(""),routeLocationKey=Symbol(""),routerViewLocationKey=Symbol("");function useCallbacks(){let e=[];function n(o){return e.push(o),()=>{const i=e.indexOf(o);i>-1&&e.splice(i,1)}}function s(){e=[]}return{add:n,list:()=>e.slice(),reset:s}}function guardToPromiseFn(e,n,s,o,i,l=c=>c()){const c=o&&(o.enterCallbacks[i]=o.enterCallbacks[i]||[]);return()=>new Promise((u,d)=>{const v=V=>{V===!1?d(createRouterError(ErrorTypes.NAVIGATION_ABORTED,{from:s,to:n})):V instanceof Error?d(V):isRouteLocation(V)?d(createRouterError(ErrorTypes.NAVIGATION_GUARD_REDIRECT,{from:n,to:V})):(c&&o.enterCallbacks[i]===c&&typeof V=="function"&&c.push(V),u())},b=l(()=>e.call(o&&o.instances[i],n,s,v));let P=Promise.resolve(b);e.length<3&&(P=P.then(v)),P.catch(V=>d(V))})}function extractComponentsGuards(e,n,s,o,i=l=>l()){const l=[];for(const c of e)for(const u in c.components){let d=c.components[u];if(!(n!=="beforeRouteEnter"&&!c.instances[u]))if(isRouteComponent(d)){const v=(d.__vccOpts||d)[n];v&&l.push(guardToPromiseFn(v,s,o,c,u,i))}else{let v=d();l.push(()=>v.then(b=>{if(!b)throw new Error(`Couldn't resolve component "${u}" at "${c.path}"`);const P=isESModule(b)?b.default:b;c.mods[u]=b,c.components[u]=P;const V=(P.__vccOpts||P)[n];return V&&guardToPromiseFn(V,s,o,c,u,i)()}))}}return l}function extractChangingRecords(e,n){const s=[],o=[],i=[],l=Math.max(n.matched.length,e.matched.length);for(let c=0;c<l;c++){const u=n.matched[c];u&&(e.matched.find(v=>isSameRouteRecord(v,u))?o.push(u):s.push(u));const d=e.matched[c];d&&(n.matched.find(v=>isSameRouteRecord(v,d))||i.push(d))}return[s,o,i]}let createBaseLocation=()=>location.protocol+"//"+location.host;function createCurrentLocation(e,n){const{pathname:s,search:o,hash:i}=n,l=e.indexOf("#");if(l>-1){let c=i.includes(e.slice(l))?e.slice(l).length:1,u=i.slice(c);return u[0]!=="/"&&(u="/"+u),stripBase(u,"")}return stripBase(s,e)+o+i}function useHistoryListeners(e,n,s,o){let i=[],l=[],c=null;const u=({state:V})=>{const F=createCurrentLocation(e,location),q=s.value,Q=n.value;let ee=0;if(V){if(s.value=F,n.value=V,c&&c===q){c=null;return}ee=Q?V.position-Q.position:0}else o(F);i.forEach(ie=>{ie(s.value,q,{delta:ee,type:NavigationType.pop,direction:ee?ee>0?NavigationDirection.forward:NavigationDirection.back:NavigationDirection.unknown})})};function d(){c=s.value}function v(V){i.push(V);const F=()=>{const q=i.indexOf(V);q>-1&&i.splice(q,1)};return l.push(F),F}function b(){if(document.visibilityState==="hidden"){const{history:V}=window;if(!V.state)return;V.replaceState(assign({},V.state,{scroll:computeScrollPosition()}),"")}}function P(){for(const V of l)V();l=[],window.removeEventListener("popstate",u),window.removeEventListener("pagehide",b),document.removeEventListener("visibilitychange",b)}return window.addEventListener("popstate",u),window.addEventListener("pagehide",b),document.addEventListener("visibilitychange",b),{pauseListeners:d,listen:v,destroy:P}}function buildState(e,n,s,o=!1,i=!1){return{back:e,current:n,forward:s,replaced:o,position:window.history.length,scroll:i?computeScrollPosition():null}}function useHistoryStateNavigation(e){const{history:n,location:s}=window,o={value:createCurrentLocation(e,s)},i={value:n.state};i.value||l(o.value,{back:null,current:o.value,forward:null,position:n.length-1,replaced:!0,scroll:null},!0);function l(d,v,b){const P=e.indexOf("#"),V=P>-1?(s.host&&document.querySelector("base")?e:e.slice(P))+d:createBaseLocation()+e+d;try{n[b?"replaceState":"pushState"](v,"",V),i.value=v}catch(F){console.error(F),s[b?"replace":"assign"](V)}}function c(d,v){l(d,assign({},n.state,buildState(i.value.back,d,i.value.forward,!0),v,{position:i.value.position}),!0),o.value=d}function u(d,v){const b=assign({},i.value,n.state,{forward:d,scroll:computeScrollPosition()});l(b.current,b,!0),l(d,assign({},buildState(o.value,d,null),{position:b.position+1},v),!1),o.value=d}return{location:o,state:i,push:u,replace:c}}function createWebHistory(e){e=normalizeBase(e);const n=useHistoryStateNavigation(e),s=useHistoryListeners(e,n.state,n.location,n.replace);function o(l,c=!0){c||s.pauseListeners(),history.go(l)}const i=assign({location:"",base:e,go:o,createHref:createHref.bind(null,e)},n,s);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>n.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>n.state.value}),i}let TokenType=(function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.Group=2]="Group",e})({});var TokenizerState=(function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.ParamRegExp=2]="ParamRegExp",e[e.ParamRegExpEnd=3]="ParamRegExpEnd",e[e.EscapeNext=4]="EscapeNext",e})(TokenizerState||{});const ROOT_TOKEN={type:TokenType.Static,value:""},VALID_PARAM_RE=/[a-zA-Z0-9_]/;function tokenizePath(e){if(!e)return[[]];if(e==="/")return[[ROOT_TOKEN]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function n(F){throw new Error(`ERR (${s})/"${v}": ${F}`)}let s=TokenizerState.Static,o=s;const i=[];let l;function c(){l&&i.push(l),l=[]}let u=0,d,v="",b="";function P(){v&&(s===TokenizerState.Static?l.push({type:TokenType.Static,value:v}):s===TokenizerState.Param||s===TokenizerState.ParamRegExp||s===TokenizerState.ParamRegExpEnd?(l.length>1&&(d==="*"||d==="+")&&n(`A repeatable param (${v}) must be alone in its segment. eg: '/:ids+.`),l.push({type:TokenType.Param,value:v,regexp:b,repeatable:d==="*"||d==="+",optional:d==="*"||d==="?"})):n("Invalid state to consume buffer"),v="")}function V(){v+=d}for(;u<e.length;){if(d=e[u++],d==="\\"&&s!==TokenizerState.ParamRegExp){o=s,s=TokenizerState.EscapeNext;continue}switch(s){case TokenizerState.Static:d==="/"?(v&&P(),c()):d===":"?(P(),s=TokenizerState.Param):V();break;case TokenizerState.EscapeNext:V(),s=o;break;case TokenizerState.Param:d==="("?s=TokenizerState.ParamRegExp:VALID_PARAM_RE.test(d)?V():(P(),s=TokenizerState.Static,d!=="*"&&d!=="?"&&d!=="+"&&u--);break;case TokenizerState.ParamRegExp:d===")"?b[b.length-1]=="\\"?b=b.slice(0,-1)+d:s=TokenizerState.ParamRegExpEnd:b+=d;break;case TokenizerState.ParamRegExpEnd:P(),s=TokenizerState.Static,d!=="*"&&d!=="?"&&d!=="+"&&u--,b="";break;default:n("Unknown state");break}}return s===TokenizerState.ParamRegExp&&n(`Unfinished custom RegExp for param "${v}"`),P(),c(),i}const BASE_PARAM_PATTERN="[^/]+?",BASE_PATH_PARSER_OPTIONS={sensitive:!1,strict:!1,start:!0,end:!0};var PathScore=(function(e){return e[e._multiplier=10]="_multiplier",e[e.Root=90]="Root",e[e.Segment=40]="Segment",e[e.SubSegment=30]="SubSegment",e[e.Static=40]="Static",e[e.Dynamic=20]="Dynamic",e[e.BonusCustomRegExp=10]="BonusCustomRegExp",e[e.BonusWildcard=-50]="BonusWildcard",e[e.BonusRepeatable=-20]="BonusRepeatable",e[e.BonusOptional=-8]="BonusOptional",e[e.BonusStrict=.7000000000000001]="BonusStrict",e[e.BonusCaseSensitive=.25]="BonusCaseSensitive",e})(PathScore||{});const REGEX_CHARS_RE=/[.+*?^${}()[\]/\\]/g;function tokensToParser(e,n){const s=assign({},BASE_PATH_PARSER_OPTIONS,n),o=[];let i=s.start?"^":"";const l=[];for(const v of e){const b=v.length?[]:[PathScore.Root];s.strict&&!v.length&&(i+="/");for(let P=0;P<v.length;P++){const V=v[P];let F=PathScore.Segment+(s.sensitive?PathScore.BonusCaseSensitive:0);if(V.type===TokenType.Static)P||(i+="/"),i+=V.value.replace(REGEX_CHARS_RE,"\\$&"),F+=PathScore.Static;else if(V.type===TokenType.Param){const{value:q,repeatable:Q,optional:ee,regexp:ie}=V;l.push({name:q,repeatable:Q,optional:ee});const ue=ie||BASE_PARAM_PATTERN;if(ue!==BASE_PARAM_PATTERN){F+=PathScore.BonusCustomRegExp;try{`${ue}`}catch(re){throw new Error(`Invalid custom RegExp for param "${q}" (${ue}): `+re.message)}}let ge=Q?`((?:${ue})(?:/(?:${ue}))*)`:`(${ue})`;P||(ge=ee&&v.length<2?`(?:/${ge})`:"/"+ge),ee&&(ge+="?"),i+=ge,F+=PathScore.Dynamic,ee&&(F+=PathScore.BonusOptional),Q&&(F+=PathScore.BonusRepeatable),ue===".*"&&(F+=PathScore.BonusWildcard)}b.push(F)}o.push(b)}if(s.strict&&s.end){const v=o.length-1;o[v][o[v].length-1]+=PathScore.BonusStrict}s.strict||(i+="/?"),s.end?i+="$":s.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const c=new RegExp(i,s.sensitive?"":"i");function u(v){const b=v.match(c),P={};if(!b)return null;for(let V=1;V<b.length;V++){const F=b[V]||"",q=l[V-1];P[q.name]=F&&q.repeatable?F.split("/"):F}return P}function d(v){let b="",P=!1;for(const V of e){(!P||!b.endsWith("/"))&&(b+="/"),P=!1;for(const F of V)if(F.type===TokenType.Static)b+=F.value;else if(F.type===TokenType.Param){const{value:q,repeatable:Q,optional:ee}=F,ie=q in v?v[q]:"";if(isArray(ie)&&!Q)throw new Error(`Provided param "${q}" is an array but it is not repeatable (* or + modifiers)`);const ue=isArray(ie)?ie.join("/"):ie;if(!ue)if(ee)V.length<2&&(b.endsWith("/")?b=b.slice(0,-1):P=!0);else throw new Error(`Missing required param "${q}"`);b+=ue}}return b||"/"}return{re:c,score:o,keys:l,parse:u,stringify:d}}function compareScoreArray(e,n){let s=0;for(;s<e.length&&s<n.length;){const o=n[s]-e[s];if(o)return o;s++}return e.length<n.length?e.length===1&&e[0]===PathScore.Static+PathScore.Segment?-1:1:e.length>n.length?n.length===1&&n[0]===PathScore.Static+PathScore.Segment?1:-1:0}function comparePathParserScore(e,n){let s=0;const o=e.score,i=n.score;for(;s<o.length&&s<i.length;){const l=compareScoreArray(o[s],i[s]);if(l)return l;s++}if(Math.abs(i.length-o.length)===1){if(isLastScoreNegative(o))return 1;if(isLastScoreNegative(i))return-1}return i.length-o.length}function isLastScoreNegative(e){const n=e[e.length-1];return e.length>0&&n[n.length-1]<0}const PATH_PARSER_OPTIONS_DEFAULTS={strict:!1,end:!0,sensitive:!1};function createRouteRecordMatcher(e,n,s){const o=tokensToParser(tokenizePath(e.path),s),i=assign(o,{record:e,parent:n,children:[],alias:[]});return n&&!i.record.aliasOf==!n.record.aliasOf&&n.children.push(i),i}function createRouterMatcher(e,n){const s=[],o=new Map;n=mergeOptions(PATH_PARSER_OPTIONS_DEFAULTS,n);function i(P){return o.get(P)}function l(P,V,F){const q=!F,Q=normalizeRouteRecord(P);Q.aliasOf=F&&F.record;const ee=mergeOptions(n,P),ie=[Q];if("alias"in P){const re=typeof P.alias=="string"?[P.alias]:P.alias;for(const ne of re)ie.push(normalizeRouteRecord(assign({},Q,{components:F?F.record.components:Q.components,path:ne,aliasOf:F?F.record:Q})))}let ue,ge;for(const re of ie){const{path:ne}=re;if(V&&ne[0]!=="/"){const fe=V.record.path,he=fe[fe.length-1]==="/"?"":"/";re.path=V.record.path+(ne&&he+ne)}if(ue=createRouteRecordMatcher(re,V,ee),F?F.alias.push(ue):(ge=ge||ue,ge!==ue&&ge.alias.push(ue),q&&P.name&&!isAliasRecord(ue)&&c(P.name)),isMatchable(ue)&&d(ue),Q.children){const fe=Q.children;for(let he=0;he<fe.length;he++)l(fe[he],ue,F&&F.children[he])}F=F||ue}return ge?()=>{c(ge)}:noop}function c(P){if(isRouteName(P)){const V=o.get(P);V&&(o.delete(P),s.splice(s.indexOf(V),1),V.children.forEach(c),V.alias.forEach(c))}else{const V=s.indexOf(P);V>-1&&(s.splice(V,1),P.record.name&&o.delete(P.record.name),P.children.forEach(c),P.alias.forEach(c))}}function u(){return s}function d(P){const V=findInsertionIndex(P,s);s.splice(V,0,P),P.record.name&&!isAliasRecord(P)&&o.set(P.record.name,P)}function v(P,V){let F,q={},Q,ee;if("name"in P&&P.name){if(F=o.get(P.name),!F)throw createRouterError(ErrorTypes.MATCHER_NOT_FOUND,{location:P});ee=F.record.name,q=assign(pickParams(V.params,F.keys.filter(ge=>!ge.optional).concat(F.parent?F.parent.keys.filter(ge=>ge.optional):[]).map(ge=>ge.name)),P.params&&pickParams(P.params,F.keys.map(ge=>ge.name))),Q=F.stringify(q)}else if(P.path!=null)Q=P.path,F=s.find(ge=>ge.re.test(Q)),F&&(q=F.parse(Q),ee=F.record.name);else{if(F=V.name?o.get(V.name):s.find(ge=>ge.re.test(V.path)),!F)throw createRouterError(ErrorTypes.MATCHER_NOT_FOUND,{location:P,currentLocation:V});ee=F.record.name,q=assign({},V.params,P.params),Q=F.stringify(q)}const ie=[];let ue=F;for(;ue;)ie.unshift(ue.record),ue=ue.parent;return{name:ee,path:Q,params:q,matched:ie,meta:mergeMetaFields(ie)}}e.forEach(P=>l(P));function b(){s.length=0,o.clear()}return{addRoute:l,resolve:v,removeRoute:c,clearRoutes:b,getRoutes:u,getRecordMatcher:i}}function pickParams(e,n){const s={};for(const o of n)o in e&&(s[o]=e[o]);return s}function normalizeRouteRecord(e){const n={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:normalizeRecordProps(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(n,"mods",{value:{}}),n}function normalizeRecordProps(e){const n={},s=e.props||!1;if("component"in e)n.default=s;else for(const o in e.components)n[o]=typeof s=="object"?s[o]:s;return n}function isAliasRecord(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function mergeMetaFields(e){return e.reduce((n,s)=>assign(n,s.meta),{})}function findInsertionIndex(e,n){let s=0,o=n.length;for(;s!==o;){const l=s+o>>1;comparePathParserScore(e,n[l])<0?o=l:s=l+1}const i=getInsertionAncestor(e);return i&&(o=n.lastIndexOf(i,o-1)),o}function getInsertionAncestor(e){let n=e;for(;n=n.parent;)if(isMatchable(n)&&comparePathParserScore(e,n)===0)return n}function isMatchable({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function useLink(e){const n=inject(routerKey),s=inject(routeLocationKey),o=computed(()=>{const d=unref(e.to);return n.resolve(d)}),i=computed(()=>{const{matched:d}=o.value,{length:v}=d,b=d[v-1],P=s.matched;if(!b||!P.length)return-1;const V=P.findIndex(isSameRouteRecord.bind(null,b));if(V>-1)return V;const F=getOriginalPath(d[v-2]);return v>1&&getOriginalPath(b)===F&&P[P.length-1].path!==F?P.findIndex(isSameRouteRecord.bind(null,d[v-2])):V}),l=computed(()=>i.value>-1&&includesParams(s.params,o.value.params)),c=computed(()=>i.value>-1&&i.value===s.matched.length-1&&isSameRouteLocationParams(s.params,o.value.params));function u(d={}){if(guardEvent(d)){const v=n[unref(e.replace)?"replace":"push"](unref(e.to)).catch(noop);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>v),v}return Promise.resolve()}return{route:o,href:computed(()=>o.value.href),isActive:l,isExactActive:c,navigate:u}}function preferSingleVNode(e){return e.length===1?e[0]:e}const RouterLinkImpl=defineComponent({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink,setup(e,{slots:n}){const s=reactive(useLink(e)),{options:o}=inject(routerKey),i=computed(()=>({[getLinkClass(e.activeClass,o.linkActiveClass,"router-link-active")]:s.isActive,[getLinkClass(e.exactActiveClass,o.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const l=n.default&&preferSingleVNode(n.default(s));return e.custom?l:h$1("a",{"aria-current":s.isExactActive?e.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:i.value},l)}}}),RouterLink=RouterLinkImpl;function guardEvent(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const n=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(n))return}return e.preventDefault&&e.preventDefault(),!0}}function includesParams(e,n){for(const s in n){const o=n[s],i=e[s];if(typeof o=="string"){if(o!==i)return!1}else if(!isArray(i)||i.length!==o.length||o.some((l,c)=>l!==i[c]))return!1}return!0}function getOriginalPath(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const getLinkClass=(e,n,s)=>e??n??s,RouterViewImpl=defineComponent({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:n,slots:s}){const o=inject(routerViewLocationKey),i=computed(()=>e.route||o.value),l=inject(viewDepthKey,0),c=computed(()=>{let v=unref(l);const{matched:b}=i.value;let P;for(;(P=b[v])&&!P.components;)v++;return v}),u=computed(()=>i.value.matched[c.value]);provide(viewDepthKey,computed(()=>c.value+1)),provide(matchedRouteKey,u),provide(routerViewLocationKey,i);const d=ref();return watch(()=>[d.value,u.value,e.name],([v,b,P],[V,F,q])=>{b&&(b.instances[P]=v,F&&F!==b&&v&&v===V&&(b.leaveGuards.size||(b.leaveGuards=F.leaveGuards),b.updateGuards.size||(b.updateGuards=F.updateGuards))),v&&b&&(!F||!isSameRouteRecord(b,F)||!V)&&(b.enterCallbacks[P]||[]).forEach(Q=>Q(v))},{flush:"post"}),()=>{const v=i.value,b=e.name,P=u.value,V=P&&P.components[b];if(!V)return normalizeSlot(s.default,{Component:V,route:v});const F=P.props[b],q=F?F===!0?v.params:typeof F=="function"?F(v):F:null,ee=h$1(V,assign({},q,n,{onVnodeUnmounted:ie=>{ie.component.isUnmounted&&(P.instances[b]=null)},ref:d}));return normalizeSlot(s.default,{Component:ee,route:v})||ee}}});function normalizeSlot(e,n){if(!e)return null;const s=e(n);return s.length===1?s[0]:s}const RouterView=RouterViewImpl;function createRouter(e){const n=createRouterMatcher(e.routes,e),s=e.parseQuery||parseQuery,o=e.stringifyQuery||stringifyQuery,i=e.history,l=useCallbacks(),c=useCallbacks(),u=useCallbacks(),d=shallowRef(START_LOCATION_NORMALIZED);let v=START_LOCATION_NORMALIZED;isBrowser&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const b=applyToParams.bind(null,te=>""+te),P=applyToParams.bind(null,encodeParam),V=applyToParams.bind(null,decode);function F(te,ye){let me,we;return isRouteName(te)?(me=n.getRecordMatcher(te),we=ye):we=te,n.addRoute(we,me)}function q(te){const ye=n.getRecordMatcher(te);ye&&n.removeRoute(ye)}function Q(){return n.getRoutes().map(te=>te.record)}function ee(te){return!!n.getRecordMatcher(te)}function ie(te,ye){if(ye=assign({},ye||d.value),typeof te=="string"){const G=parseURL(s,te,ye.path),W=n.resolve({path:G.path},ye),J=i.createHref(G.fullPath);return assign(G,W,{params:V(W.params),hash:decode(G.hash),redirectedFrom:void 0,href:J})}let me;if(te.path!=null)me=assign({},te,{path:parseURL(s,te.path,ye.path).path});else{const G=assign({},te.params);for(const W in G)G[W]==null&&delete G[W];me=assign({},te,{params:P(G)}),ye.params=P(ye.params)}const we=n.resolve(me,ye),Pe=te.hash||"";we.params=b(V(we.params));const U=stringifyURL(o,assign({},te,{hash:encodeHash(Pe),path:we.path})),K=i.createHref(U);return assign({fullPath:U,hash:Pe,query:o===stringifyQuery?normalizeQuery(te.query):te.query||{}},we,{redirectedFrom:void 0,href:K})}function ue(te){return typeof te=="string"?parseURL(s,te,d.value.path):assign({},te)}function ge(te,ye){if(v!==te)return createRouterError(ErrorTypes.NAVIGATION_CANCELLED,{from:ye,to:te})}function re(te){return he(te)}function ne(te){return re(assign(ue(te),{replace:!0}))}function fe(te,ye){const me=te.matched[te.matched.length-1];if(me&&me.redirect){const{redirect:we}=me;let Pe=typeof we=="function"?we(te,ye):we;return typeof Pe=="string"&&(Pe=Pe.includes("?")||Pe.includes("#")?Pe=ue(Pe):{path:Pe},Pe.params={}),assign({query:te.query,hash:te.hash,params:Pe.path!=null?{}:te.params},Pe)}}function he(te,ye){const me=v=ie(te),we=d.value,Pe=te.state,U=te.force,K=te.replace===!0,G=fe(me,we);if(G)return he(assign(ue(G),{state:typeof G=="object"?assign({},Pe,G.state):Pe,force:U,replace:K}),ye||me);const W=me;W.redirectedFrom=ye;let J;return!U&&isSameRouteLocation(o,we,me)&&(J=createRouterError(ErrorTypes.NAVIGATION_DUPLICATED,{to:W,from:we}),Me(we,we,!0,!1)),(J?Promise.resolve(J):ve(W,we)).catch(Z=>isNavigationFailure(Z)?isNavigationFailure(Z,ErrorTypes.NAVIGATION_GUARD_REDIRECT)?Z:Oe(Z):xe(Z,W,we)).then(Z=>{if(Z){if(isNavigationFailure(Z,ErrorTypes.NAVIGATION_GUARD_REDIRECT))return he(assign({replace:K},ue(Z.to),{state:typeof Z.to=="object"?assign({},Pe,Z.to.state):Pe,force:U}),ye||W)}else Z=ce(W,we,!0,K,Pe);return ke(W,we,Z),Z})}function _e(te,ye){const me=ge(te,ye);return me?Promise.reject(me):Promise.resolve()}function pe(te){const ye=ze.values().next().value;return ye&&typeof ye.runWithContext=="function"?ye.runWithContext(te):te()}function ve(te,ye){let me;const[we,Pe,U]=extractChangingRecords(te,ye);me=extractComponentsGuards(we.reverse(),"beforeRouteLeave",te,ye);for(const G of we)G.leaveGuards.forEach(W=>{me.push(guardToPromiseFn(W,te,ye))});const K=_e.bind(null,te,ye);return me.push(K),Fe(me).then(()=>{me=[];for(const G of l.list())me.push(guardToPromiseFn(G,te,ye));return me.push(K),Fe(me)}).then(()=>{me=extractComponentsGuards(Pe,"beforeRouteUpdate",te,ye);for(const G of Pe)G.updateGuards.forEach(W=>{me.push(guardToPromiseFn(W,te,ye))});return me.push(K),Fe(me)}).then(()=>{me=[];for(const G of U)if(G.beforeEnter)if(isArray(G.beforeEnter))for(const W of G.beforeEnter)me.push(guardToPromiseFn(W,te,ye));else me.push(guardToPromiseFn(G.beforeEnter,te,ye));return me.push(K),Fe(me)}).then(()=>(te.matched.forEach(G=>G.enterCallbacks={}),me=extractComponentsGuards(U,"beforeRouteEnter",te,ye,pe),me.push(K),Fe(me))).then(()=>{me=[];for(const G of c.list())me.push(guardToPromiseFn(G,te,ye));return me.push(K),Fe(me)}).catch(G=>isNavigationFailure(G,ErrorTypes.NAVIGATION_CANCELLED)?G:Promise.reject(G))}function ke(te,ye,me){u.list().forEach(we=>pe(()=>we(te,ye,me)))}function ce(te,ye,me,we,Pe){const U=ge(te,ye);if(U)return U;const K=ye===START_LOCATION_NORMALIZED,G=isBrowser?history.state:{};me&&(we||K?i.replace(te.fullPath,assign({scroll:K&&G&&G.scroll},Pe)):i.push(te.fullPath,Pe)),d.value=te,Me(te,ye,me,K),Oe()}let Se;function Re(){Se||(Se=i.listen((te,ye,me)=>{if(!De.listening)return;const we=ie(te),Pe=fe(we,De.currentRoute.value);if(Pe){he(assign(Pe,{replace:!0,force:!0}),we).catch(noop);return}v=we;const U=d.value;isBrowser&&saveScrollPosition(getScrollKey(U.fullPath,me.delta),computeScrollPosition()),ve(we,U).catch(K=>isNavigationFailure(K,ErrorTypes.NAVIGATION_ABORTED|ErrorTypes.NAVIGATION_CANCELLED)?K:isNavigationFailure(K,ErrorTypes.NAVIGATION_GUARD_REDIRECT)?(he(assign(ue(K.to),{force:!0}),we).then(G=>{isNavigationFailure(G,ErrorTypes.NAVIGATION_ABORTED|ErrorTypes.NAVIGATION_DUPLICATED)&&!me.delta&&me.type===NavigationType.pop&&i.go(-1,!1)}).catch(noop),Promise.reject()):(me.delta&&i.go(-me.delta,!1),xe(K,we,U))).then(K=>{K=K||ce(we,U,!1),K&&(me.delta&&!isNavigationFailure(K,ErrorTypes.NAVIGATION_CANCELLED)?i.go(-me.delta,!1):me.type===NavigationType.pop&&isNavigationFailure(K,ErrorTypes.NAVIGATION_ABORTED|ErrorTypes.NAVIGATION_DUPLICATED)&&i.go(-1,!1)),ke(we,U,K)}).catch(noop)}))}let Le=useCallbacks(),Ae=useCallbacks(),Te;function xe(te,ye,me){Oe(te);const we=Ae.list();return we.length?we.forEach(Pe=>Pe(te,ye,me)):console.error(te),Promise.reject(te)}function Ue(){return Te&&d.value!==START_LOCATION_NORMALIZED?Promise.resolve():new Promise((te,ye)=>{Le.add([te,ye])})}function Oe(te){return Te||(Te=!te,Re(),Le.list().forEach(([ye,me])=>te?me(te):ye()),Le.reset()),te}function Me(te,ye,me,we){const{scrollBehavior:Pe}=e;if(!isBrowser||!Pe)return Promise.resolve();const U=!me&&getSavedScrollPosition(getScrollKey(te.fullPath,0))||(we||!me)&&history.state&&history.state.scroll||null;return nextTick().then(()=>Pe(te,ye,U)).then(K=>K&&scrollToPosition(K)).catch(K=>xe(K,te,ye))}const Ve=te=>i.go(te);let je;const ze=new Set,De={currentRoute:d,listening:!0,addRoute:F,removeRoute:q,clearRoutes:n.clearRoutes,hasRoute:ee,getRoutes:Q,resolve:ie,options:e,push:re,replace:ne,go:Ve,back:()=>Ve(-1),forward:()=>Ve(1),beforeEach:l.add,beforeResolve:c.add,afterEach:u.add,onError:Ae.add,isReady:Ue,install(te){te.component("RouterLink",RouterLink),te.component("RouterView",RouterView),te.config.globalProperties.$router=De,Object.defineProperty(te.config.globalProperties,"$route",{enumerable:!0,get:()=>unref(d)}),isBrowser&&!je&&d.value===START_LOCATION_NORMALIZED&&(je=!0,re(i.location).catch(we=>{}));const ye={};for(const we in START_LOCATION_NORMALIZED)Object.defineProperty(ye,we,{get:()=>d.value[we],enumerable:!0});te.provide(routerKey,De),te.provide(routeLocationKey,shallowReactive(ye)),te.provide(routerViewLocationKey,d);const me=te.unmount;ze.add(te),te.unmount=function(){ze.delete(te),ze.size<1&&(v=START_LOCATION_NORMALIZED,Se&&Se(),Se=null,d.value=START_LOCATION_NORMALIZED,je=!1,Te=!1),me()}}};function Fe(te){return te.reduce((ye,me)=>ye.then(()=>pe(me)),Promise.resolve())}return De}function useRouter(){return inject(routerKey)}function useRoute(e){return inject(routeLocationKey)}const _hoisted_1$o={class:"app-mask"},_hoisted_2$k={key:0,class:"mv-player dark"},_hoisted_3$f={class:"title-bar"},_hoisted_4$d={class:"space line1"},_hoisted_5$a={class:"video-container"},_hoisted_6$4=["src","poster"],_hoisted_7$4={class:"tool-bar"},_hoisted_8$2={key:0,class:"icon i-heart-fill red"},_hoisted_9$1={key:1,class:"icon i-heart"},_sfc_main$t=defineComponent({__name:"MVPlayer",setup(e){const n=useRouter(),s=inject(App$1.KEY),o=inject(User.KEY),i=inject(Player.KEY),l=ref(),c=computed(()=>l.value?s.getImg(l.value.cover):""),u=computed(()=>l.value?s.getVideo(l.value.url):""),d=computed(()=>l.value?o.isFavorite("mv",l.value?.id):!1),v=computed(()=>s.state.canDownload),b=reactive({visible:!1});onMounted(()=>{myDevice.addEventListener(EVENT_MV_PLAYER,P)});function P(Q,ee){l.value=ee,b.visible=!0,i.doPlayerPause(),i.logPlay({mvId:ee.id})}function V(){b.visible=!1,l.value=void 0}function F(){l.value&&(d.value?o.removeFavorite("mv",l.value.id):o.addFavorite("mv",l.value.id))}function q(Q){V(),n.push({name:"artist",params:{id:Q.id}})}return(Q,ee)=>b.visible?(openBlock(),createBlock(Teleport,{key:0,to:"body"},[createBaseVNode("div",_hoisted_1$o,[l.value?(openBlock(),createElementBlock("div",_hoisted_2$k,[createBaseVNode("div",_hoisted_3$f,[createBaseVNode("b",_hoisted_4$d,toDisplayString(l.value.name),1),createVNode(IconBtn,{static:"",onClick:V},{default:withCtx(()=>[...ee[2]||(ee[2]=[createBaseVNode("b",{class:"icon i-close"},null,-1)])]),_:1})]),createBaseVNode("div",_hoisted_5$a,[createBaseVNode("video",{src:u.value,poster:c.value,playsinline:"",autoplay:"",controls:"",controlslist:"nodownload noremoteplayback",disablePictureInPicture:!0},null,8,_hoisted_6$4)]),createBaseVNode("div",_hoisted_7$4,[l.value.author?(openBlock(),createElementBlock(Fragment,{key:0},[createBaseVNode("span",{class:"avatar",onClick:ee[0]||(ee[0]=ie=>q(l.value.author))},[createVNode(Imager,{url:unref(s).getImg(l.value.author.avatar)},null,8,["url"])]),createBaseVNode("a",{class:"name",onClick:ee[1]||(ee[1]=ie=>q(l.value.author))},toDisplayString(l.value.author.name),1)],64)):createCommentVNode("",!0),ee[5]||(ee[5]=createBaseVNode("span",{class:"space"},null,-1)),createVNode(IconBtn,{text:"",static:"",onClick:F},{default:withCtx(()=>[d.value?(openBlock(),createElementBlock("i",_hoisted_8$2)):(openBlock(),createElementBlock("i",_hoisted_9$1)),ee[3]||(ee[3]=createBaseVNode("span",{class:"text1"},"收藏",-1))]),_:1}),v.value?(openBlock(),createBlock(IconBtn,{key:1,text:"",static:""},{default:withCtx(()=>[...ee[4]||(ee[4]=[createBaseVNode("i",{class:"icon i-download"},null,-1),createBaseVNode("span",{class:"text1"},"下载",-1)])]),_:1})):createCommentVNode("",!0)])])):createCommentVNode("",!0)])])):createCommentVNode("",!0)}}),MVPlayer=_export_sfc(_sfc_main$t,[["__scopeId","data-v-55e6706f"]]),_sfc_main$s=defineComponent({__name:"Root",setup(e){return(n,s)=>(openBlock(),createElementBlock(Fragment,null,[createVNode(MVPlayer),createVNode(BookSong),createVNode(CreatePlaylist),createVNode(MessageBox)],64))}}),_imports_0$1=""+new URL("../logo.png",import.meta.url).href,_hoisted_1$n={class:"app-left"},_hoisted_2$j={class:"group"},_hoisted_3$e={class:"group"},_sfc_main$r=defineComponent({__name:"Left",setup(e){const n=inject(User.KEY),s=useRouter(),o=useRoute();function i(u){return o.name==u}function l(u,d={}){s.push({name:u,params:d})}function c(u,d={}){n.isLogged?l(u,d):n.goLogin()}return(u,d)=>(openBlock(),createElementBlock("div",_hoisted_1$n,[d[14]||(d[14]=createBaseVNode("div",{class:"logo"},[createBaseVNode("img",{src:_imports_0$1}),createBaseVNode("b",null,"福音诗歌")],-1)),createBaseVNode("div",_hoisted_2$j,[createBaseVNode("a",{class:normalizeClass({on:i("home")}),onClick:d[0]||(d[0]=v=>l("home"))},[...d[6]||(d[6]=[createBaseVNode("i",{class:"icon i-music"},null,-1),createBaseVNode("span",null,"赞美诗",-1)])],2),createBaseVNode("a",{class:normalizeClass({on:i("books")}),onClick:d[1]||(d[1]=v=>l("books"))},[...d[7]||(d[7]=[createBaseVNode("i",{class:"icon i-book"},null,-1),createBaseVNode("span",null,"诗歌本",-1)])],2),createBaseVNode("a",{class:normalizeClass({on:i("mvs")}),onClick:d[2]||(d[2]=v=>l("mvs",{type:0,sort:"new"}))},[...d[8]||(d[8]=[createBaseVNode("i",{class:"icon i-mv"},null,-1),createBaseVNode("span",null,"视频",-1)])],2),d[9]||(d[9]=createBaseVNode("a",{href:"https://dev.fuyinshige.org/mobile/index.html",target:"_blank"},[createBaseVNode("i",{class:"icon i-download"}),createBaseVNode("span",null,"下载APP")],-1))]),createBaseVNode("div",_hoisted_3$e,[d[13]||(d[13]=createBaseVNode("div",{class:"title"},"我的",-1)),createBaseVNode("a",{class:normalizeClass({on:i("profile-latest")}),onClick:d[3]||(d[3]=v=>c("profile-latest"))},[...d[10]||(d[10]=[createBaseVNode("i",{class:"icon i-clock"},null,-1),createBaseVNode("span",null,"最近播放",-1)])],2),createBaseVNode("a",{class:normalizeClass({on:i("profile-favorite")}),onClick:d[4]||(d[4]=v=>c("profile-favorite"))},[...d[11]||(d[11]=[createBaseVNode("i",{class:"icon i-heart"},null,-1),createBaseVNode("span",null,"我的收藏",-1)])],2),createBaseVNode("a",{class:normalizeClass({on:i("profile-playlist")}),onClick:d[5]||(d[5]=v=>c("profile-playlist"))},[...d[12]||(d[12]=[createBaseVNode("i",{class:"icon i-four"},null,-1),createBaseVNode("span",null,"我的歌单",-1)])],2)])]))}}),Left=_export_sfc(_sfc_main$r,[["__scopeId","data-v-f063b815"]]),_hoisted_1$m={class:"app-mask"},_hoisted_2$i={class:"dialog"},_hoisted_3$d={class:"form"},_hoisted_4$c={class:"form-field"},_hoisted_5$9=["innerHTML"],_sfc_main$q=defineComponent({__name:"ImageCaptcha",props:{scene:{}},emits:["submit","close"],setup(e,{emit:n}){const s=inject(ViewContext.NAME),o=e,i=reactive({token:"",code:"",image:""}),l=ref(),c=n;onMounted(()=>{u()});async function u(){let{token:b,image:P}=await authApi.getImageCaptcha(o.scene,130,34);i.token=b,i.image=P,i.code="",l.value&&l.value.focus()}async function d(){if(!i.code)return s.device.toast("请输入图片中的数字");c("submit",i.token,i.code)}function v(){c("close")}return(b,P)=>(openBlock(),createElementBlock("div",_hoisted_1$m,[createBaseVNode("div",_hoisted_2$i,[createBaseVNode("div",{class:"page-toolbar"},[P[2]||(P[2]=createBaseVNode("span",null,"请输入图片中的数字",-1)),createBaseVNode("a",{class:"close",onClick:v},[...P[1]||(P[1]=[createBaseVNode("i",{class:"icon i-close"},null,-1)])])]),createBaseVNode("div",_hoisted_3$d,[createBaseVNode("div",_hoisted_4$c,[withDirectives(createBaseVNode("input",{ref_key:"input",ref:l,class:"input",type:"tel","onUpdate:modelValue":P[0]||(P[0]=V=>i.code=V)},null,512),[[vModelText,i.code]]),createBaseVNode("span",{class:"image",innerHTML:i.image,onClick:u},null,8,_hoisted_5$9)]),createBaseVNode("div",{class:"submit",onClick:d},"提交")])])]))}}),ImageCaptcha=_export_sfc(_sfc_main$q,[["__scopeId","data-v-7d83cbb1"]]),_hoisted_1$l={class:"login-form"},_hoisted_2$h={key:0,class:"t1"},_hoisted_3$c={class:"t2"},_hoisted_4$b={key:0,class:"text2"},_hoisted_5$8=["onUpdate:modelValue","onKeydown","onInput"],_sfc_main$p=defineComponent({__name:"Coder",props:{scene:{},phone:{},email:{}},emits:["code"],setup(e,{emit:n}){const s=inject(ViewContext.NAME),o=e,i=reactive({cold:0,code:["","","",""],token:"",imageVisible:!1,loading:!1,timer:0}),l=ref(),c=n;onMounted(()=>{P()}),onBeforeUnmount(()=>{clearTimeout(i.timer)});function u(F,q){F.key=="Backspace"&&i.code[q]==""&&q>0&&l.value&&l.value.children[q-1].focus()}function d(F){if(i.code[F].length>0){let q=i.code[F];for(;F<i.code.length&&q.length>0;F++)i.code[F]=q.substring(0,1),q=q.substring(1);l.value&&l.value.children[Math.min(F,i.code.length-1)].focus(),F>=i.code.length&&b(!1)}}function v(){i.cold--,i.cold>0&&(i.timer=setTimeout(v,1e3))}function b(F){if(!i.token){F&&s.device.toast("请先获取验证码");return}if(i.code.some(Q=>Q.length<1)){F&&s.device.toast("请输入正确的验证码");return}let q=i.code.join("");c("code",i.token,q)}function P(){i.imageVisible=!0}async function V(F,q){if(!i.loading)try{i.loading=!0;let{token:Q}=await authApi.getSms(o.scene,F,q,o.phone,o.email);i.token=Q,i.imageVisible=!1,i.cold=60,i.code=["","","",""],l.value&&l.value.children[0].focus(),v()}finally{i.loading=!1}}return(F,q)=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",_hoisted_1$l,[i.token?(openBlock(),createElementBlock("div",_hoisted_2$h,[q[2]||(q[2]=createTextVNode("验证码已经发往“",-1)),createBaseVNode("b",null,toDisplayString(e.phone||e.email),1),q[3]||(q[3]=createTextVNode("”，请输入收到的验证码",-1))])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_3$c,[i.cold>0?(openBlock(),createElementBlock("span",_hoisted_4$b,toDisplayString(i.cold)+"秒后重试",1)):(openBlock(),createBlock(IconBtn,{key:1,onClick:P,text:""},{default:withCtx(()=>[...q[4]||(q[4]=[createBaseVNode("i",{class:"icon i-refresh"},null,-1),createTextVNode("重新发送 ",-1)])]),_:1}))]),createBaseVNode("div",{class:"code",ref_key:"code",ref:l},[(openBlock(!0),createElementBlock(Fragment,null,renderList(i.code,(Q,ee)=>withDirectives((openBlock(),createElementBlock("input",{"onUpdate:modelValue":ie=>i.code[ee]=ie,type:"tel",maxlength:"4",onKeydown:ie=>u(ie,ee),onInput:ie=>d(ee)},null,40,_hoisted_5$8)),[[vModelText,i.code[ee]]])),256))],512),createBaseVNode("div",{class:"submit",onClick:q[0]||(q[0]=Q=>b(!0))},"提交")]),i.imageVisible?(openBlock(),createBlock(ImageCaptcha,{key:0,scene:e.scene,onSubmit:V,onClose:q[1]||(q[1]=Q=>i.imageVisible=!1)},null,8,["scene"])):createCommentVNode("",!0)],64))}}),Coder=_export_sfc(_sfc_main$p,[["__scopeId","data-v-0e5093c9"]]);function fetchValue(e,n){let s=n.split(".");for(let o of s)if(e=e[o],e==null||e==null)break;return e}function isEmail(e){return/^[\w]+(\.[\w]+)*@[\w]+(\.[\w]+)*$/.test(e)}function getBlankFillSize(e,n){let s=e%n;return s>0?n-s:0}const questions=[{key:"",label:"我的出生年份是？"},{key:"",label:"我小学的老师叫什么？"},{key:"",label:"我的手机号是多少？"},{key:"",label:"我的出生地是哪里？"},{key:"",label:"我最喜欢的水果是什么？"},{key:"",label:"我最喜欢的动物是什么？"},{key:"",label:"我最喜欢的城市是哪里？"}],_hoisted_1$k={class:"navigate"},_hoisted_2$g={key:0,class:"login-form"},_hoisted_3$b={key:1,class:"login-form"},_hoisted_4$a={class:"option"},_hoisted_5$7=["value"],_sfc_main$o=defineComponent({__name:"Forget",emits:["reset"],setup(e,{emit:n}){const s=inject(ViewContext.NAME),o=reactive({type:"qa",account:"",question:"",answer:"",email:"",password:"",again:"",loading:!1}),i=n;function l(){if(o.type=="email"){if(!o.email)return s.device.toast("请输入邮箱");if(!isEmail(o.email))return s.device.toast("邮箱地址格式不正确")}else{if(!o.account)return s.device.toast("请输入用户名或邮箱地址或手机号");if(!o.question)return s.device.toast("请选择一个安全问题");if(!o.answer)return s.device.toast("请输入问题答案")}if(!o.password)return s.device.toast("请输入新密码");if(!o.again)return s.device.toast("请输入确认密码");if(o.password!=o.again)return s.device.toast("两次输入的密码不一致");i("reset",{type:o.type,account:o.account,question:o.question,answer:o.answer,email:o.email,password:o.password})}return(c,u)=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",_hoisted_1$k,[createBaseVNode("a",{class:normalizeClass(["item",{on:o.type=="qa"}]),onClick:u[0]||(u[0]=d=>o.type="qa")},"验证安全问题",2),createBaseVNode("a",{class:normalizeClass(["item",{on:o.type=="email"}]),onClick:u[1]||(u[1]=d=>o.type="email")},"验证邮箱",2)]),o.type=="email"?(openBlock(),createElementBlock("div",_hoisted_2$g,[withDirectives(createBaseVNode("input",{class:"option","onUpdate:modelValue":u[2]||(u[2]=d=>o.email=d),placeholder:"请输入登录邮箱"},null,512),[[vModelText,o.email]]),withDirectives(createBaseVNode("input",{class:"option","onUpdate:modelValue":u[3]||(u[3]=d=>o.password=d),placeholder:"请输入新密码",type:"password"},null,512),[[vModelText,o.password]]),withDirectives(createBaseVNode("input",{class:"option","onUpdate:modelValue":u[4]||(u[4]=d=>o.again=d),placeholder:"请输入确认密码",type:"password"},null,512),[[vModelText,o.again]]),createBaseVNode("div",{class:"submit",onClick:l},"重置密码")])):(openBlock(),createElementBlock("div",_hoisted_3$b,[withDirectives(createBaseVNode("input",{class:"option","onUpdate:modelValue":u[5]||(u[5]=d=>o.account=d),placeholder:"请输入用户名或邮箱地址或手机号"},null,512),[[vModelText,o.account]]),createBaseVNode("div",_hoisted_4$a,[withDirectives(createBaseVNode("select",{class:"option","onUpdate:modelValue":u[6]||(u[6]=d=>o.question=d)},[u[10]||(u[10]=createBaseVNode("option",{value:"",disabled:""},"请选择一个安全问题",-1)),(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(questions),d=>(openBlock(),createElementBlock("option",{value:d.label},toDisplayString(d.label),9,_hoisted_5$7))),256))],512),[[vModelSelect,o.question]])]),withDirectives(createBaseVNode("input",{class:"option","onUpdate:modelValue":u[7]||(u[7]=d=>o.answer=d),placeholder:"请输入问题答案"},null,512),[[vModelText,o.answer]]),withDirectives(createBaseVNode("input",{class:"option","onUpdate:modelValue":u[8]||(u[8]=d=>o.password=d),placeholder:"请输入新密码",type:"password"},null,512),[[vModelText,o.password]]),withDirectives(createBaseVNode("input",{class:"option","onUpdate:modelValue":u[9]||(u[9]=d=>o.again=d),placeholder:"请输入确认密码",type:"password"},null,512),[[vModelText,o.again]]),createBaseVNode("div",{class:"submit",onClick:l},"重置密码")]))],64))}}),Forget=_export_sfc(_sfc_main$o,[["__scopeId","data-v-299d16f1"]]),_hoisted_1$j={class:"login-form"},_hoisted_2$f={class:"agree"},_sfc_main$n=defineComponent({__name:"Login",emits:["scene","submit"],setup(e,{emit:n}){const s=inject(App$1.KEY),o=inject(ViewContext.NAME),i=reactive({account:"",password:"",agree:!1}),l=n;function c(){if(!i.account)return o.device.toast("请输入用户名或邮箱地址或手机号");if(!i.password)return o.device.toast("请输入登录密码");if(!i.agree)return o.device.toast("请勾选同意相关协议");l("submit",i.account,i.password)}function u(){l("scene","register")}function d(){l("scene","forget")}function v(b){const P=b=="user"?s.userProtocol:s.privacyProtocol;let V=document.createElement("a");V.href=P,V.target="_blank",V.click()}return(b,P)=>(openBlock(),createElementBlock(Fragment,null,[P[7]||(P[7]=createBaseVNode("img",{class:"logo",src:_imports_0$1},null,-1)),P[8]||(P[8]=createBaseVNode("div",{class:"app-name"},"福音诗歌",-1)),createBaseVNode("div",_hoisted_1$j,[withDirectives(createBaseVNode("input",{class:"option","onUpdate:modelValue":P[0]||(P[0]=V=>i.account=V),placeholder:"用户名或邮箱地址或手机号"},null,512),[[vModelText,i.account]]),withDirectives(createBaseVNode("input",{class:"option","onUpdate:modelValue":P[1]||(P[1]=V=>i.password=V),placeholder:"登录密码",type:"password"},null,512),[[vModelText,i.password]]),createBaseVNode("label",_hoisted_2$f,[withDirectives(createBaseVNode("input",{type:"checkbox","onUpdate:modelValue":P[2]||(P[2]=V=>i.agree=V)},null,512),[[vModelCheckbox,i.agree]]),createBaseVNode("div",null,[P[5]||(P[5]=createBaseVNode("span",null,"登录即代表您已同意",-1)),createBaseVNode("a",{onClick:P[3]||(P[3]=V=>v("user"))},"《用户协议》"),P[6]||(P[6]=createBaseVNode("span",null,"与",-1)),createBaseVNode("a",{onClick:P[4]||(P[4]=V=>v("privacy"))},"《隐私协议》")])]),createBaseVNode("a",{class:"submit",onClick:c},"登录"),createBaseVNode("a",{class:"register",onClick:u},"没有账号？立即注册")]),createBaseVNode("a",{class:"forget",onClick:d},"忘记密码？")],64))}}),Login$1=_export_sfc(_sfc_main$n,[["__scopeId","data-v-596da536"]]),_hoisted_1$i={class:"login-form"},_hoisted_2$e={class:"agree"},_sfc_main$m=defineComponent({__name:"Register",emits:["register"],setup(e,{emit:n}){const s=inject(App$1.KEY),o=inject(ViewContext.NAME),i=reactive({username:"",password:"",again:"",agree:!1,loading:!1}),l=n;function c(){let d=i.username.trim(),v=i.password.trim(),b=i.again.trim();if(!d)return o.device.toast("请输入用户名");if(!v)return o.device.toast("请输入登录密码");if(!b)return o.device.toast("请输入确认密码");if(v!=b)return o.device.toast("两次输入的密码不一致");if(!i.agree)return o.device.toast("请勾选同意相关协议");l("register",d,v)}function u(d){const v=d=="user"?s.userProtocol:s.privacyProtocol;let b=document.createElement("a");b.href=v,b.target="_blank",b.click()}return(d,v)=>(openBlock(),createElementBlock("div",_hoisted_1$i,[withDirectives(createBaseVNode("input",{class:"option","onUpdate:modelValue":v[0]||(v[0]=b=>i.username=b),placeholder:"请输入用户名"},null,512),[[vModelText,i.username]]),withDirectives(createBaseVNode("input",{class:"option","onUpdate:modelValue":v[1]||(v[1]=b=>i.password=b),placeholder:"请输入登录密码",type:"password"},null,512),[[vModelText,i.password]]),withDirectives(createBaseVNode("input",{class:"option","onUpdate:modelValue":v[2]||(v[2]=b=>i.again=b),placeholder:"请输入确认密码",type:"password"},null,512),[[vModelText,i.again]]),createBaseVNode("div",{class:"submit",onClick:c},"注册并登录"),createBaseVNode("label",_hoisted_2$e,[withDirectives(createBaseVNode("input",{type:"checkbox","onUpdate:modelValue":v[3]||(v[3]=b=>i.agree=b)},null,512),[[vModelCheckbox,i.agree]]),createBaseVNode("div",null,[v[6]||(v[6]=createBaseVNode("span",null,"注册即代表您已同意",-1)),createBaseVNode("a",{onClick:v[4]||(v[4]=b=>u("user"))},"《用户协议》"),v[7]||(v[7]=createBaseVNode("span",null,"与",-1)),createBaseVNode("a",{onClick:v[5]||(v[5]=b=>u("privacy"))},"《隐私协议》")])])]))}}),Register=_export_sfc(_sfc_main$m,[["__scopeId","data-v-3d9c4f1c"]]),_hoisted_1$h={key:0,class:"app-mask"},_hoisted_2$d={class:"login-dialog dialog popup glass"},_hoisted_3$a={key:0,class:"dialog-title"},_hoisted_4$9={key:1,class:"dialog-title"},_hoisted_5$6={key:2,class:"dialog-title"},_sfc_main$l=defineComponent({__name:"Root",setup(e){const n=inject(ViewContext.NAME),s=inject(User.KEY),o=reactive({scene:"",step:0,stepAccount:"",stepEmail:"",stepPassword:"",loading:!1});onMounted(()=>{s.addEventListener(User.EVENT_LOGIN,i)});function i(){l("login")}function l(V){o.scene=V,o.step=0,o.stepEmail="",o.stepPassword=""}async function c(V,F){if(!o.loading)try{o.loading=!0,n.device.loading(!0,"正在登录中...");let q=await authApi.login(V,F);s.onLogin(q),P()}finally{o.loading=!1,n.device.loading(!1)}}async function u(V,F){if(!o.loading)try{o.loading=!0,n.device.loading(!0,"正在注册中...");let q=await authApi.register(V,F);s.onLogin(q),P()}finally{o.loading=!1,n.device.loading(!1)}}async function d(V){V.type=="email"?(o.stepEmail=V.email,o.stepPassword=V.password,o.step=1):(o.stepAccount=V.account,o.stepPassword=V.password,b(V.question,V.answer))}async function v(V,F){if(!o.loading)try{o.loading=!0,n.device.loading(!0,"正在重置密码..."),await authApi.resetPassword("",o.stepEmail,V,F,o.stepPassword),n.device.toast("密码重置成功，请登录"),l("login")}finally{o.loading=!1,n.device.loading(!1)}}async function b(V,F){if(!o.loading)try{o.loading=!0,n.device.loading(!0,"正在重置密码..."),await authApi.resetPasswordByQa(o.stepAccount,V,F,o.stepPassword),n.device.toast("密码重置成功，请登录"),l("login")}finally{o.loading=!1,n.device.loading(!1)}}function P(){o.scene=""}return(V,F)=>o.scene?(openBlock(),createElementBlock("div",_hoisted_1$h,[createBaseVNode("div",_hoisted_2$d,[o.scene=="login"?(openBlock(),createElementBlock("div",_hoisted_3$a,[...F[2]||(F[2]=[createBaseVNode("b",null,"登录",-1)])])):createCommentVNode("",!0),o.scene=="register"?(openBlock(),createElementBlock("div",_hoisted_4$9,[createVNode(IconBtn,{onClick:F[0]||(F[0]=q=>l("login"))},{default:withCtx(()=>[...F[3]||(F[3]=[createBaseVNode("b",{class:"icon i-left"},null,-1)])]),_:1}),F[4]||(F[4]=createBaseVNode("b",null,"注册",-1))])):createCommentVNode("",!0),o.scene=="forget"?(openBlock(),createElementBlock("div",_hoisted_5$6,[createVNode(IconBtn,{onClick:F[1]||(F[1]=q=>l("login"))},{default:withCtx(()=>[...F[5]||(F[5]=[createBaseVNode("b",{class:"icon i-left"},null,-1)])]),_:1}),F[6]||(F[6]=createBaseVNode("b",null,"忘记密码",-1))])):createCommentVNode("",!0),createVNode(IconBtn,{class:"close",onClick:P},{default:withCtx(()=>[...F[7]||(F[7]=[createBaseVNode("b",{class:"icon i-close"},null,-1)])]),_:1}),o.scene=="login"?(openBlock(),createBlock(Login$1,{key:3,onScene:l,onSubmit:c})):createCommentVNode("",!0),o.scene=="register"?(openBlock(),createBlock(Register,{key:4,onRegister:u})):createCommentVNode("",!0),o.scene=="forget"?(openBlock(),createElementBlock(Fragment,{key:5},[o.step==0?(openBlock(),createBlock(Forget,{key:0,onReset:d})):createCommentVNode("",!0),o.step==1?(openBlock(),createBlock(Coder,{key:1,scene:"reset",email:o.stepEmail,onCode:v},{default:withCtx(()=>[...F[8]||(F[8]=[createTextVNode(" 重置密码",-1)])]),_:1},8,["email"])):createCommentVNode("",!0)],64)):createCommentVNode("",!0)])])):createCommentVNode("",!0)}}),Login=_export_sfc(_sfc_main$l,[["__scopeId","data-v-4dfc21c9"]]);function n2(e){return e<10?"0"+e:e+""}const WEEKS=["日","一","二","三","四","五","六"];function renderDate(e,n){return n.replace(/\{YYYY\}/g,e.getFullYear()+"").replace(/\{YY\}/g,(e.getFullYear()+"").substring(2)).replace(/\{MM\}/g,n2(e.getMonth()+1)).replace(/\{DD\}/g,n2(e.getDate())).replace(/\{hh\}/g,n2(e.getHours())).replace(/\{mm\}/g,n2(e.getMinutes())).replace(/\{ss\}/g,n2(e.getSeconds())).replace(/\{W\}/g,WEEKS[e.getDay()])}function date(e,n="{YYYY}-{MM}-{DD}"){return e?renderDate(new Date(+e),n):"--"}function time(e,n="{hh}:{mm}:{ss}"){return e?renderDate(new Date(+e),n):"--"}function datetime(e,n="{MM}-{DD} {hh}:{mm}"){return e?renderDate(new Date(+e),n):"--"}function week(e,n="周{W}"){return e?renderDate(new Date(+e),n):"--"}function cold(e){if(e>=0){e=Math.floor(e);let n=Math.floor(e/60);e=e%60;let s=Math.floor(n/60);n=n%60;let o=Math.floor(s/24);s=s%24;let i=n2(n)+":"+n2(e);return o>0?i=o+"天"+n2(s)+":"+i:s>0&&(i=n2(s)+":"+i),i}else return"--"}function duration(e){if(e>0){e=Math.floor(e);let n=Math.floor(e/60);e=e%60;let s=Math.floor(n/60);n=n%60;let o=n2(n)+":"+n2(e);return s>0&&(o=n2(s)+":"+o),o}else return"--"}function number(e,n=2,s=!1){if(e==null||isNaN(e)||e==1/0)return"--";{let o="";return s&&(o=e>0?"+":""),o+e.toFixed(n)}}function percent(e,n=2,s=!1){if(e==null||isNaN(e)||e==1/0)return"--";{let o="";return s&&(o=e>0?"+":""),o+(e*100).toFixed(n)+"%"}}function amount(e,n=2,s=!1){if(e==null||isNaN(e))return"--";{let[o,i]=e.toFixed(n).split("."),l=[],c=o.length;for(;c-- >0;)o[c]!="-"&&l.length%4==3&&l.unshift(","),l.unshift(o[c]);let u="";s&&(u=e>0?"+":"");let d="";return n>0&&(d="."+i),u+l.join("")+d}}function unit(e,n=2,s=!1){if(e==null||isNaN(e))return"--";{let o="";if(e!=0&&(o=e<0?"-":"+"),!s&&o=="+"&&(o=""),e=Math.abs(e),e>=1e4){let i="万";return e=e/1e4,e>=1e4&&(e=e/1e4,i="亿",e>=1e4&&(e=e/1e4,i="万亿")),o+e.toFixed(n)+i}else return o+e.toFixed(0)}}function fileSize(e){return e==null||isNaN(e)?"--":e>1024?(e=e/1024,e>1024?(e=e/1024,e.toFixed(2)+"MB"):e.toFixed(2)+"KB"):e+"B"}function mask(e){return e?e.substring(0,3)+"****"+e.substring(e.length-4):"--"}function text(e,n,s){return e.replace(/\${.+?}/g,o=>{let i=o.substring(2,o.length-1),l=fetchValue(n,i);return l==null||l==null?s||o:l})}const formatter={n2,date,time,datetime,week,cold,duration,number,percent,amount,unit,fileSize,mask,text},_hoisted_1$g={class:"controls"},_hoisted_2$c={key:0,class:"icon i-loop"},_hoisted_3$9={key:1,class:"icon i-list"},_hoisted_4$8={key:2,class:"icon i-one"},_hoisted_5$5={key:3,class:"icon i-rand"},_sfc_main$k=defineComponent({__name:"PlayerControls",setup(e){const n=inject(Player.KEY),s=computed(()=>n.state),o={one:"单曲循环",rand:"随机播放",all:"循环播放",next:"顺序播放"};function i(){n.state.playing?n.doPlayerPause():n.doPlayerPlay()}function l(){n.playOffset(-1)}function c(){n.playOffset(1)}function u(){n.doPlayerLoop()}return(d,v)=>(openBlock(),createElementBlock("div",_hoisted_1$g,[createVNode(IconBtn,{tooltip:o[s.value.loop]||"",onClick:u},{default:withCtx(()=>[s.value.loop=="all"?(openBlock(),createElementBlock("i",_hoisted_2$c)):createCommentVNode("",!0),s.value.loop=="next"?(openBlock(),createElementBlock("i",_hoisted_3$9)):createCommentVNode("",!0),s.value.loop=="one"?(openBlock(),createElementBlock("i",_hoisted_4$8)):createCommentVNode("",!0),s.value.loop=="rand"?(openBlock(),createElementBlock("i",_hoisted_5$5)):createCommentVNode("",!0)]),_:1},8,["tooltip"]),createVNode(IconBtn,{tooltip:"上一首",onClick:l},{default:withCtx(()=>[...v[0]||(v[0]=[createBaseVNode("i",{class:"icon i-prev"},null,-1)])]),_:1}),createVNode(IconBtn,{class:"big",app:"",tooltip:s.value.playing?"暂停":"播放",onClick:i},{default:withCtx(()=>[createBaseVNode("i",{class:normalizeClass(["icon",s.value.playing?"i-pause2":"i-play1"])},null,2)]),_:1},8,["tooltip"]),createVNode(IconBtn,{tooltip:"下一首",onClick:c},{default:withCtx(()=>[...v[1]||(v[1]=[createBaseVNode("i",{class:"icon i-next"},null,-1)])]),_:1}),createVNode(IconBtn,{tooltip:"音量"},{default:withCtx(()=>[...v[2]||(v[2]=[createBaseVNode("i",{class:"icon i-volume"},null,-1)])]),_:1})]))}}),PlayerControls=_export_sfc(_sfc_main$k,[["__scopeId","data-v-608164a6"]]),_hoisted_1$f={class:"tools"},_hoisted_2$b={key:0,class:"icon i-heart-fill red"},_hoisted_3$8={key:1,class:"icon i-heart"},_sfc_main$j=defineComponent({__name:"PlayerTools",props:{mv:{},bookSong:{}},setup(e){const n=inject(ViewContext.NAME),s=inject(Player.KEY),o=inject(User.KEY),i=inject(App$1.KEY),l=computed(()=>s.state.playlist[s.state.index]),c=computed(()=>o.isFavorite("song",l.value.id)),u=computed(()=>s.state.playlist.length),d=computed(()=>i.state.canDownload),v=e;function b(){v.mv&&myDevice.playMV(v.mv)}function P(){v.bookSong&&myDevice.showBookSong(v.bookSong)}function V(){c.value?o.removeFavorite("song",l.value.id):o.addFavorite("song",l.value.id)}function F(){s.state.listVisible=!0,document.onmousedown=()=>{document.onmousedown=null,s.state.listVisible=!1}}async function q(Q){showAddPlaylistMenu(n,l.value,{x:Q.clientX,y:Q.clientY,direction:"top"})}return(Q,ee)=>(openBlock(),createElementBlock("div",_hoisted_1$f,[createVNode(IconBtn,{tooltip:"MV",disabled:!e.mv,onClick:b},{default:withCtx(()=>[...ee[0]||(ee[0]=[createBaseVNode("i",{class:"icon i-tv"},null,-1)])]),_:1},8,["disabled"]),createVNode(IconBtn,{tooltip:"歌谱",disabled:!e.bookSong,onClick:P},{default:withCtx(()=>[...ee[1]||(ee[1]=[createBaseVNode("i",{class:"icon i-music1"},null,-1)])]),_:1},8,["disabled"]),d.value?(openBlock(),createBlock(IconBtn,{key:0,tooltip:"下载"},{default:withCtx(()=>[...ee[2]||(ee[2]=[createBaseVNode("i",{class:"icon i-download"},null,-1)])]),_:1})):createCommentVNode("",!0),createVNode(IconBtn,{tooltip:"收藏",onClick:V},{default:withCtx(()=>[c.value?(openBlock(),createElementBlock("i",_hoisted_2$b)):(openBlock(),createElementBlock("i",_hoisted_3$8))]),_:1}),createVNode(IconBtn,{tooltip:"加入歌单",onClick:q},{default:withCtx(()=>[...ee[3]||(ee[3]=[createBaseVNode("i",{class:"icon i-add"},null,-1)])]),_:1}),createVNode(IconBtn,{tooltip:"播放列表",text:"",onClick:F},{default:withCtx(()=>[ee[4]||(ee[4]=createBaseVNode("i",{class:"icon i-list"},null,-1)),createTextVNode(" "+toDisplayString(u.value),1)]),_:1})]))}}),PlayerTools=_export_sfc(_sfc_main$j,[["__scopeId","data-v-d15f9138"]]),_sfc_main$i=defineComponent({__name:"Progress",props:{currentTime:{},duration:{}},emits:["skip"],setup(e,{emit:n}){const s=e,o=reactive({currentTime:0,dragging:!1,dragChange:!1}),i=computed(()=>{let V=(o.dragging?o.currentTime:s.currentTime)/s.duration;return isNaN(V)&&(V=0),{width:V*100+"%"}}),l=n,c=ref();let u=0;function d(P){if(P.preventDefault(),c.value&&s.duration>0){o.dragging=!0;const V=c.value.getBoundingClientRect();v((P.clientX-V.left)/V.width),clearInterval(u),u=setInterval(b,1e3),b(),document.onmousemove=F=>{v((F.clientX-V.left)/V.width)},document.onmouseup=()=>{document.onmousemove=null,document.onmouseup=null,clearInterval(u),b(),setTimeout(()=>{o.dragging=!1},500)}}}function v(P){o.currentTime=Math.min(Math.max(P,0),1)*s.duration,o.dragChange=!0}function b(){o.dragChange&&(o.dragChange=!1,l("skip",o.currentTime))}return(P,V)=>(openBlock(),createElementBlock("div",{class:"progress",ref_key:"progress",ref:c,onMousedown:d},[createBaseVNode("div",{class:"track",style:normalizeStyle(i.value)},[...V[0]||(V[0]=[createBaseVNode("div",{class:"thumb"},[createBaseVNode("span")],-1)])],4)],544))}}),Progress=_export_sfc(_sfc_main$i,[["__scopeId","data-v-ac82f675"]]),_hoisted_1$e={class:"foot-player glass"},_hoisted_2$a={class:"space album"},_hoisted_3$7={class:"info"},_hoisted_4$7={class:"name"},_hoisted_5$4={key:0,class:"text2"},_hoisted_6$3={class:"time text2"},_hoisted_7$3={class:"center"},_sfc_main$h=defineComponent({__name:"FootPlayer",setup(e){const n=inject(App$1.KEY),s=inject(Player.KEY),o=computed(()=>s.state),i=computed(()=>s.state.playlist[s.state.index]),l=computed(()=>s.state.currentSong?s.state.currentSong.mv:void 0),c=computed(()=>s.state.currentSong?s.state.currentSong.bookSong:void 0),u=computed(()=>i.value&&i.value.album?i.value.album.cover:"");onMounted(d),watch(i,d);async function d(){i.value?o.value.currentSong=await zan.getSongById(i.value.id):o.value.currentSong=null}function v(P){s.doPlayerSkip(P),s.state.playing||s.doPlayerPlay()}function b(){s.state.pureMusic?s.showPlayMusic():s.showPlaySong()}return(P,V)=>(openBlock(),createElementBlock("div",_hoisted_1$e,[createBaseVNode("div",_hoisted_2$a,[createBaseVNode("a",{class:"cover",onClick:b},[createVNode(Imager,{class:normalizeClass(["rotate6",{pause:!o.value.playing}]),url:unref(n).getImg(u.value)},null,8,["class","url"]),V[0]||(V[0]=createBaseVNode("div",{class:"mask"},[createBaseVNode("i",{class:"icon i-up"})],-1))]),createBaseVNode("div",_hoisted_3$7,[createBaseVNode("div",_hoisted_4$7,[createBaseVNode("a",{onClick:b},[createBaseVNode("b",null,toDisplayString(i.value?.name),1),i.value?.album?(openBlock(),createElementBlock("span",_hoisted_5$4,"- "+toDisplayString(i.value.album.name),1)):createCommentVNode("",!0)])]),createBaseVNode("div",_hoisted_6$3,[createBaseVNode("a",{onClick:b},toDisplayString(unref(formatter).cold(o.value.currentTime))+" / "+toDisplayString(unref(formatter).cold(o.value.duration)),1)])])]),createBaseVNode("div",_hoisted_7$3,[createVNode(Progress,{currentTime:o.value.currentTime,duration:o.value.duration,onSkip:v},null,8,["currentTime","duration"]),createVNode(PlayerControls)]),createVNode(PlayerTools,{class:"space",mv:l.value,bookSong:c.value},null,8,["mv","bookSong"])]))}}),FootPlayer=_export_sfc(_sfc_main$h,[["__scopeId","data-v-70fc56d7"]]),_hoisted_1$d={class:"message text2"},_hoisted_2$9={key:0,class:"suggest"},_sfc_main$g=defineComponent({__name:"Empty",props:{issue:{type:Boolean},big:{type:Boolean}},setup(e){return(n,s)=>(openBlock(),createElementBlock("div",{class:normalizeClass(["empty",{big:e.big}])},[s[2]||(s[2]=createBaseVNode("div",null,[createBaseVNode("i",{class:"empty-icon icon i-u13307"})],-1)),createBaseVNode("div",_hoisted_1$d,[renderSlot(n.$slots,"default",{},()=>[s[0]||(s[0]=createTextVNode("目前暂时没有相关内容",-1))])]),e.issue?(openBlock(),createElementBlock("div",_hoisted_2$9,[...s[1]||(s[1]=[createBaseVNode("a",null,[createBaseVNode("i",{class:"icon i-talk"}),createTextVNode("告诉我们")],-1)])])):createCommentVNode("",!0)],2))}}),Empty=_export_sfc(_sfc_main$g,[["__scopeId","data-v-9d13d354"]]),_hoisted_1$c={class:"lrc-content"},_hoisted_2$8=["innerHTML"],_hoisted_3$6={key:1,class:"scroller lrc-text"},_hoisted_4$6={key:0,class:"toolbar"},_sfc_main$f=defineComponent({__name:"LRC",props:{text:{},currentTime:{},initSize:{},theme:{}},setup(e){const n=e,s=inject(ViewContext.NAME),o=ref(),i=ref([]),l=computed(()=>({fontSize:c.fontSize+"px",top:c.lyricsY+"px"})),c=reactive({lyricsOffset:0,lyricsY:0,fontSize:16});onMounted(()=>{n.initSize&&n.initSize>0&&(c.fontSize=n.initSize),n.text&&v(n.text)}),watch(()=>n.text,()=>{n.text&&v(n.text)}),watch(()=>n.currentTime,()=>{let V=i.value.findIndex(F=>F.time>n.currentTime);V==-1&&(V=i.value.length),c.lyricsOffset!=V-1&&(c.lyricsOffset=V-1,d())});let u=0;function d(){if(o.value&&o.value.children.length>0&&o.value.parentElement){let V=0;for(let F=0;F<=c.lyricsOffset;F++){let q=o.value.children[F];if(F==c.lyricsOffset){let ee=(o.value.parentElement.getBoundingClientRect().height-q.clientHeight)/2;c.lyricsY=ee-V;break}else V=V+q.clientHeight}}}function v(V){let F=[],q=V.split(`
`).filter(Q=>Q.length>0);for(let Q of q){Q=Q.trim();let ee=Q.match(/\[.+?\]/g);if(ee&&ee.length>0){let ie=Q.substring(Q.indexOf(ee[ee.length-1])+ee[ee.length-1].length)||"&nbsp;";for(let ue of ee){ue=ue.substring(1,ue.length-1);let ge=ue.split(":").map(ne=>parseFloat(ne)),re=0;for(let ne of ge)re=re*60+ne;F.push({time:re,text:ie})}}}F.sort((Q,ee)=>Q.time-ee.time),i.value=F}function b(V){c.fontSize=c.fontSize+V,c.fontSize<12?c.fontSize=12:c.fontSize>48&&(c.fontSize=48),clearTimeout(u),u=setTimeout(d,50)}function P(){let V=n.text;i.value.length>0&&(V=i.value.map(F=>F.text).filter(F=>F!="&nbsp;").join(`
`)),V&&s.copy(V,"歌词")}return(V,F)=>(openBlock(),createElementBlock("div",{class:normalizeClass(["lrc",e.theme])},[createBaseVNode("div",_hoisted_1$c,[i.value.length>0?(openBlock(),createElementBlock("div",{key:0,class:"lyricsContainer",ref_key:"lyrics",ref:o,style:normalizeStyle(l.value)},[(openBlock(!0),createElementBlock(Fragment,null,renderList(i.value,(q,Q)=>(openBlock(),createElementBlock("div",{class:normalizeClass({on:Q==c.lyricsOffset}),innerHTML:q.text},null,10,_hoisted_2$8))),256))],4)):(openBlock(),createElementBlock("div",_hoisted_3$6,toDisplayString(e.text),1))]),e.initSize?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_4$6,[createBaseVNode("a",{onClick:F[0]||(F[0]=q=>b(-1))},[...F[2]||(F[2]=[createBaseVNode("i",{class:"icon i-zoomOut"},null,-1),createTextVNode("缩小",-1)])]),createBaseVNode("a",{onClick:F[1]||(F[1]=q=>b(1))},[...F[3]||(F[3]=[createBaseVNode("i",{class:"icon i-zoomIn"},null,-1),createTextVNode("放大",-1)])]),F[5]||(F[5]=createBaseVNode("span",{class:"space"},null,-1)),createBaseVNode("a",{onClick:P},[...F[4]||(F[4]=[createBaseVNode("i",{class:"icon i-copy"},null,-1),createTextVNode("复制",-1)])])]))],2))}}),LRC=_export_sfc(_sfc_main$f,[["__scopeId","data-v-17e15313"]]),_imports_0="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20version='1.1'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='206px'%20height='282px'%20xmlns='http://www.w3.org/2000/svg'%3e%3cdefs%3e%3clinearGradient%20gradientUnits='userSpaceOnUse'%20x1='123'%20y1='225.401408450704'%20x2='-4.57411886145564E-14'%20y2='8.93661971830986'%20id='LinearGradient4288'%3e%3cstop%20id='Stop4289'%20stop-color='%23ffffff'%20stop-opacity='0'%20offset='0'%20/%3e%3cstop%20id='Stop4290'%20stop-color='%23ffffff'%20stop-opacity='0.498039215686275'%20offset='1'%20/%3e%3c/linearGradient%3e%3c/defs%3e%3cg%20transform='matrix(1%200%200%201%20-274%20-59%20)'%3e%3cpath%20d='M%20138%20276.042253521127%20L%200%200%20L%20206%200%20L%20206%20282%20L%20138%20276.042253521127%20Z%20'%20fill-rule='nonzero'%20fill='url(%23LinearGradient4288)'%20stroke='none'%20transform='matrix(1%200%200%201%20274%2059%20)'%20/%3e%3c/g%3e%3c/svg%3e",_imports_1="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20version='1.1'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='6px'%20height='280px'%20xmlns='http://www.w3.org/2000/svg'%3e%3cdefs%3e%3clinearGradient%20gradientUnits='userSpaceOnUse'%20x1='172'%20y1='198'%20x2='175.9'%20y2='198'%20id='LinearGradient4291'%3e%3cstop%20id='Stop4292'%20stop-color='%23ffffff'%20stop-opacity='0.298039215686275'%20offset='0'%20/%3e%3cstop%20id='Stop4293'%20stop-color='%23ffffff'%20stop-opacity='0'%20offset='1'%20/%3e%3c/linearGradient%3e%3c/defs%3e%3cg%20transform='matrix(1%200%200%201%20-172%20-58%20)'%3e%3cpath%20d='M%20172%2058%20L%20178%2058%20L%20178%20338%20L%20172%20338%20L%20172%2058%20Z%20'%20fill-rule='nonzero'%20fill='url(%23LinearGradient4291)'%20stroke='none'%20/%3e%3c/g%3e%3c/svg%3e",_hoisted_1$b={class:"disc"},_hoisted_2$7={class:"up"},_hoisted_3$5={class:"image"},_hoisted_4$5={key:0},_sfc_main$e=defineComponent({__name:"Disc",props:{url:{}},setup(e){const n=inject(App$1.KEY);return(s,o)=>{const i=resolveDirective("bg");return openBlock(),createElementBlock("div",_hoisted_1$b,[o[2]||(o[2]=createBaseVNode("div",{class:"inner rotate6"},[createBaseVNode("div",{class:"inner-black"})],-1)),createBaseVNode("div",_hoisted_2$7,[withDirectives((openBlock(),createElementBlock("div",_hoisted_3$5,[e.url?withDirectives((openBlock(),createElementBlock("div",_hoisted_4$5,null,512)),[[i,unref(n).getImg(e.url,!0)]]):createCommentVNode("",!0)])),[[i,"/disc.jpg"]]),o[0]||(o[0]=createBaseVNode("img",{class:"u3282",src:_imports_0},null,-1)),o[1]||(o[1]=createBaseVNode("img",{class:"u3283",src:_imports_1},null,-1))])])}}}),Disc=_export_sfc(_sfc_main$e,[["__scopeId","data-v-1c89f93a"]]),_hoisted_1$a={class:"cover"},_hoisted_2$6={key:0,class:"count bg1 text1"},_hoisted_3$4={class:"mask"},_hoisted_4$4={class:"name text1 line1"},_hoisted_5$3={class:"owner text2 line1"},_sfc_main$d=defineComponent({__name:"Album",props:{item:{},size:{},isFav:{type:Boolean}},emits:["remove"],setup(e,{emit:n}){const s=useRouter(),o=inject(App$1.KEY),i=e,l=computed(()=>i.item?.cover||""),c=computed(()=>i.item?i.item.name:""),u=computed(()=>i.item?i.item.songCount:0),d=computed(()=>{if(i.item)return i.item.author?i.item.author.name:i.item.ownerName}),v=n;function b(){i.item&&s.push({name:"album",params:{id:i.item.id}})}function P(){i.item&&i.isFav&&v("remove",i.item.id)}return(V,F)=>(openBlock(),createElementBlock("div",{class:normalizeClass(["album-item",e.size])},[e.item?(openBlock(),createElementBlock("a",{key:0,onClick:b},[createBaseVNode("div",_hoisted_1$a,[createVNode(Imager,{url:unref(o).getImg(l.value)},null,8,["url"]),u.value>0?(openBlock(),createElementBlock("span",_hoisted_2$6,toDisplayString(u.value)+"首",1)):createCommentVNode("",!0),createBaseVNode("div",_hoisted_3$4,[F[0]||(F[0]=createBaseVNode("i",{class:"icon i-play"},null,-1)),e.isFav?(openBlock(),createElementBlock("a",{key:0,class:"del",onClick:withModifiers(P,["stop"])},"删除")):createCommentVNode("",!0)])]),createBaseVNode("div",_hoisted_4$4,toDisplayString(c.value),1),createBaseVNode("div",_hoisted_5$3,toDisplayString(d.value),1)])):createCommentVNode("",!0)],2))}}),Album=_export_sfc(_sfc_main$d,[["__scopeId","data-v-809ae372"]]),_hoisted_1$9={class:"player-album"},_hoisted_2$5={class:"cover"},_hoisted_3$3={class:"name text2"},_hoisted_4$3={class:"time text2"},_hoisted_5$2={key:0,class:"desc text2"},_hoisted_6$2={key:1,class:"playlists"},_hoisted_7$2={class:"album-list"},_sfc_main$c=defineComponent({__name:"PlayerAlbum",props:{song:{},album:{},playlists:{}},setup(e){const n=useRouter(),s=e,o=computed(()=>s.album?s.album.cover:"");function i(){s.album&&n.push({name:"album",params:{id:s.album.id}})}function l(c){n.push({name:"playlist",params:{id:c.id}})}return(c,u)=>(openBlock(),createElementBlock("div",_hoisted_1$9,[createBaseVNode("div",_hoisted_2$5,[createVNode(Disc,{url:o.value},null,8,["url"])]),createBaseVNode("div",_hoisted_3$3,[createBaseVNode("a",{onClick:i},"专辑："+toDisplayString(e.album?.name),1)]),createBaseVNode("div",_hoisted_4$3,"发行时间："+toDisplayString(unref(formatter).date(e.album?.createdTime)),1),e.album&&e.album.desc?(openBlock(),createElementBlock("div",_hoisted_5$2,toDisplayString(e.album.desc),1)):createCommentVNode("",!0),e.playlists.length>0?(openBlock(),createElementBlock("div",_hoisted_6$2,[u[0]||(u[0]=createBaseVNode("div",{class:"pt text2"},"相关歌单推荐",-1)),createBaseVNode("div",_hoisted_7$2,[(openBlock(!0),createElementBlock(Fragment,null,renderList(e.playlists,d=>(openBlock(),createBlock(Album,{item:d,size:"small",onClick:v=>l(d)},null,8,["item","onClick"]))),256)),(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(getBlankFillSize)(e.playlists.length,5),d=>(openBlock(),createBlock(Album,{size:"small"}))),256))])])):createCommentVNode("",!0)]))}}),PlayerAlbum=_export_sfc(_sfc_main$c,[["__scopeId","data-v-0363d906"]]),_hoisted_1$8={class:"main-player"},_hoisted_2$4={class:"scene-main space"},_hoisted_3$2={class:"main-foot"},_hoisted_4$2={class:"space"},_sfc_main$b=defineComponent({__name:"MainPlayer",setup(e){const n=inject(Player.KEY),s=computed(()=>n.state),o=computed(()=>n.state.playlist[n.state.index]),i=computed(()=>n.state.currentSong?n.state.currentSong.album:void 0),l=computed(()=>n.state.currentSong?n.state.currentSong.mv:void 0),c=computed(()=>n.state.currentSong?n.state.currentSong.bookSong:void 0),u=computed(()=>n.state.currentSong?n.state.currentSong.lyrics:""),d=ref([]);onMounted(()=>{v()}),watch(o,()=>{v()});async function v(){o.value?d.value=await zan.getRandomPlaylists(o.value.id,5):d.value=[]}function b(V){n.doPlayerSkip(V),n.state.playing||n.doPlayerPlay()}function P(){s.value.songVisible=!1}return(V,F)=>(openBlock(),createElementBlock("div",_hoisted_1$8,[createBaseVNode("div",_hoisted_2$4,[createBaseVNode("div",null,[createVNode(PlayerAlbum,{song:o.value,album:i.value,playlists:d.value},null,8,["song","album","playlists"])]),createBaseVNode("div",null,[u.value?(openBlock(),createBlock(LRC,{key:0,text:u.value,currentTime:s.value.currentTime,initSize:20,theme:"light"},null,8,["text","currentTime"])):(openBlock(),createBlock(Empty,{key:1},{default:withCtx(()=>[...F[0]||(F[0]=[createTextVNode("暂时没有歌词",-1)])]),_:1}))])]),createVNode(Progress,{currentTime:s.value.currentTime,duration:s.value.duration,onSkip:b},null,8,["currentTime","duration"]),createBaseVNode("div",_hoisted_3$2,[createBaseVNode("div",_hoisted_4$2,toDisplayString(unref(formatter).cold(s.value.currentTime))+" / "+toDisplayString(unref(formatter).cold(s.value.duration)),1),createVNode(PlayerControls),createVNode(PlayerTools,{class:"space",mv:l.value,bookSong:c.value},null,8,["mv","bookSong"])]),createVNode(IconBtn,{class:"close",tooltip:"收起",direction:"bottom",onClick:P},{default:withCtx(()=>[...F[1]||(F[1]=[createBaseVNode("i",{class:"icon i-down"},null,-1)])]),_:1})]))}}),MainPlayer=_export_sfc(_sfc_main$b,[["__scopeId","data-v-f7709cb2"]]),_hoisted_1$7={class:"live-action"},_sfc_main$a=defineComponent({__name:"LiveAction",props:{pause:{type:Boolean}},setup(e){return(n,s)=>(openBlock(),createElementBlock("div",_hoisted_1$7,[createBaseVNode("div",{class:normalizeClass(["l l-1",{pause:e.pause}])},null,2),createBaseVNode("div",{class:normalizeClass(["l l-2",{pause:e.pause}])},null,2),createBaseVNode("div",{class:normalizeClass(["l l-3",{pause:e.pause}])},null,2)]))}}),LiveAction=_export_sfc(_sfc_main$a,[["__scopeId","data-v-84a31c08"]]),_hoisted_1$6={class:"title"},_hoisted_2$3={class:"space"},_hoisted_3$1={class:"scroller"},_hoisted_4$1={class:"info"},_hoisted_5$1={class:"name line1"},_hoisted_6$1={class:"text2 line1"},_hoisted_7$1={key:0,class:"icon i-heart-fill red"},_hoisted_8$1={key:1,class:"icon i-heart"},_sfc_main$9=defineComponent({__name:"PlayerList",setup(e){const n=inject(ViewContext.NAME),s=inject(User.KEY),o=inject(Player.KEY),i=computed(()=>o.state.playlist),l=computed(()=>o.state.playlist[o.state.index]);function c(q){return l.value.id==q.id}function u(q){return o.state.playing&&c(q)}function d(q){return s.isFavorite("song",q.id)}function v(q){o.pushSongToPlayer(q,{})}function b(){o.doPlayerPause()}function P(q){d(q)?s.removeFavorite("song",q.id):s.addFavorite("song",q.id)}function V(){o.clearPlaylist(),o.state.listVisible=!1,document.onmousedown=null}async function F(q){showAddPlaylistMenu(n,l.value,{x:q.clientX,y:q.clientY,direction:"top"})}return(q,Q)=>(openBlock(),createElementBlock("div",{class:"playlist glass popup",onMousedown:Q[1]||(Q[1]=withModifiers(()=>{},["stop"]))},[createBaseVNode("div",_hoisted_1$6,[Q[3]||(Q[3]=createBaseVNode("b",null,"播放列表",-1)),createBaseVNode("span",_hoisted_2$3,"("+toDisplayString(i.value.length)+")",1),createVNode(IconBtn,{tooltip:"清空",onClick:V},{default:withCtx(()=>[...Q[2]||(Q[2]=[createBaseVNode("i",{class:"icon i-del"},null,-1)])]),_:1})]),createBaseVNode("div",_hoisted_3$1,[(openBlock(!0),createElementBlock(Fragment,null,renderList(i.value,ee=>(openBlock(),createElementBlock("div",{class:normalizeClass(["item",{on:c(ee)}])},[c(ee)?(openBlock(),createBlock(LiveAction,{key:0,pause:!u(ee)},null,8,["pause"])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_4$1,[createBaseVNode("div",_hoisted_5$1,toDisplayString(ee.name),1),createBaseVNode("div",_hoisted_6$1,toDisplayString(ee.album?.name),1)]),u(ee)?(openBlock(),createBlock(IconBtn,{key:1,tooltip:"暂停",onClick:Q[0]||(Q[0]=ie=>b())},{default:withCtx(()=>[...Q[4]||(Q[4]=[createBaseVNode("i",{class:"icon i-pause blue"},null,-1)])]),_:1})):(openBlock(),createBlock(IconBtn,{key:2,tooltip:"播放",onClick:ie=>v(ee)},{default:withCtx(()=>[...Q[5]||(Q[5]=[createBaseVNode("i",{class:"icon i-play0"},null,-1)])]),_:1},8,["onClick"])),createVNode(IconBtn,{tooltip:"收藏",onClick:ie=>P(ee)},{default:withCtx(()=>[d(ee)?(openBlock(),createElementBlock("i",_hoisted_7$1)):(openBlock(),createElementBlock("i",_hoisted_8$1))]),_:2},1032,["onClick"]),createVNode(IconBtn,{tooltip:"加入歌单",onClick:F},{default:withCtx(()=>[...Q[6]||(Q[6]=[createBaseVNode("i",{class:"icon i-add"},null,-1)])]),_:1})],2))),256))])],32))}}),PlayerList=_export_sfc(_sfc_main$9,[["__scopeId","data-v-a34523ea"]]),_hoisted_1$5={class:"avatar"},_hoisted_2$2={key:0,class:"img"},_sfc_main$8=defineComponent({__name:"Avatar",props:{url:{}},setup(e){const n=inject(App$1.KEY),s=e,o=computed(()=>s.url&&s.url.startsWith("/avatars")?s.url:n.getImg(s.url));return(i,l)=>{const c=resolveDirective("bg");return openBlock(),createElementBlock("div",_hoisted_1$5,[e.url?withDirectives((openBlock(),createElementBlock("div",_hoisted_2$2,null,512)),[[c,o.value]]):createCommentVNode("",!0)])}}}),Avatar=_export_sfc(_sfc_main$8,[["__scopeId","data-v-f9b20d32"]]),_hoisted_1$4={class:"home-top glass"},_hoisted_2$1={class:"search"},_hoisted_3={key:0,class:"search-tips shadow"},_hoisted_4={key:0,class:"box"},_hoisted_5={class:"box-content"},_hoisted_6=["innerHTML","onMousedown"],_hoisted_7={key:1,class:"box"},_hoisted_8={class:"box-content"},_hoisted_9=["onMousedown"],_hoisted_10={key:1,class:"icon i-user"},_hoisted_11={class:"user-menu popup glass"},_hoisted_12={class:"user-info"},_hoisted_13={class:"user-name"},_hoisted_14={class:"menus"},CACHE_KEY="search_history",_sfc_main$7=defineComponent({__name:"Top",setup(e){const n=inject(User.KEY),s=computed(()=>n.state.session),o=useRouter(),i=reactive({input:"",inputDrop:!1,userMenuVisible:!1}),l=ref([]),c=ref([]);watch(()=>i.input,()=>{clearTimeout(u),i.input?u=setTimeout(d,500):c.value=[]});let u=0;async function d(){if(i.input){let re=await zan.getRandomSongNames(i.input,10);c.value=re.map(ne=>{let fe=ne.name.replace(new RegExp(i.input,"g"),he=>`<b style="color:var(--color-app)">${he}</b>`);return{text:ne.name,html:fe}})}else c.value=[]}function v(){l.value=(localStorage.getItem(CACHE_KEY)||"").split("|").filter(re=>re),i.inputDrop=!0}function b(){i.inputDrop=!1}function P(re){i.input=re,F()}function V(){localStorage.removeItem(CACHE_KEY),l.value=[]}function F(){let re=i.input.trim();re&&o.push({name:"search",query:{kw:re}})}function q(){o.back()}function Q(){o.forward()}function ee(){n.isLogged?(i.userMenuVisible=!0,document.onmousedown=()=>{document.onmousedown=null,i.userMenuVisible=!1}):n.goLogin()}function ie(){o.push({name:"profile"})}function ue(){n.goMyIssues()}function ge(){n.quit(),o.replace({name:"home"})}return(re,ne)=>(openBlock(),createElementBlock("div",_hoisted_1$4,[createVNode(IconBtn,{class:"pbtn",tooltip:"后退",direction:"bottom",onClick:q},{default:withCtx(()=>[...ne[1]||(ne[1]=[createBaseVNode("i",{class:"icon i-left"},null,-1)])]),_:1}),createVNode(IconBtn,{class:"pbtn",tooltip:"前进",direction:"bottom",onClick:Q},{default:withCtx(()=>[...ne[2]||(ne[2]=[createBaseVNode("i",{class:"icon i-right"},null,-1)])]),_:1}),createBaseVNode("div",_hoisted_2$1,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":ne[0]||(ne[0]=fe=>i.input=fe),placeholder:"搜索歌名、歌手、歌单",onFocus:v,onBlur:b,onKeydown:withKeys(F,["enter"])},null,544),[[vModelText,i.input]]),createBaseVNode("a",{class:"icon i-search",onClick:F}),i.inputDrop&&(c.value.length>0||l.value.length>0)?(openBlock(),createElementBlock("div",_hoisted_3,[c.value.length>0?(openBlock(),createElementBlock("div",_hoisted_4,[ne[3]||(ne[3]=createBaseVNode("div",{class:"box-title"},[createBaseVNode("b",{class:"text2"},"搜索推荐")],-1)),createBaseVNode("div",_hoisted_5,[(openBlock(!0),createElementBlock(Fragment,null,renderList(c.value,fe=>(openBlock(),createElementBlock("a",{class:"line1",innerHTML:fe.html,onMousedown:he=>P(fe.text)},null,40,_hoisted_6))),256))])])):createCommentVNode("",!0),l.value.length>0?(openBlock(),createElementBlock("div",_hoisted_7,[createBaseVNode("div",{class:"box-title"},[ne[4]||(ne[4]=createBaseVNode("b",{class:"text2"},"搜索历史",-1)),createBaseVNode("a",{onClick:V},"清空历史")]),createBaseVNode("div",_hoisted_8,[(openBlock(!0),createElementBlock(Fragment,null,renderList(l.value,fe=>(openBlock(),createElementBlock("a",{class:"line1",onMousedown:he=>P(fe)},toDisplayString(fe),41,_hoisted_9))),256))])])):createCommentVNode("",!0)])):createCommentVNode("",!0)]),ne[10]||(ne[10]=createBaseVNode("span",{class:"space"},null,-1)),createVNode(IconBtn,{tooltip:s.value.name||"用户",direction:"bottom",static:"",onClick:ee},{default:withCtx(()=>[s.value.token?(openBlock(),createBlock(Avatar,{key:0,url:s.value.avatar},null,8,["url"])):(openBlock(),createElementBlock("i",_hoisted_10))]),_:1},8,["tooltip"]),i.userMenuVisible?(openBlock(),createBlock(Teleport,{key:0,to:"body"},[createBaseVNode("div",_hoisted_11,[createBaseVNode("div",_hoisted_12,[s.value.token?(openBlock(),createBlock(Avatar,{key:0,class:"user-avatar",url:s.value.avatar},null,8,["url"])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_13,[ne[5]||(ne[5]=createTextVNode(" 主内平安，",-1)),ne[6]||(ne[6]=createBaseVNode("br",null,null,-1)),createBaseVNode("b",null,toDisplayString(s.value.name),1)])]),createBaseVNode("div",_hoisted_14,[createBaseVNode("a",{onMousedown:ie},[...ne[7]||(ne[7]=[createBaseVNode("i",{class:"icon i-user"},null,-1),createTextVNode("个人资料",-1)])],32),createBaseVNode("a",{onMousedown:ue},[...ne[8]||(ne[8]=[createBaseVNode("i",{class:"icon i-warn"},null,-1),createTextVNode("我的反馈",-1)])],32),createBaseVNode("a",{onMousedown:ge},[...ne[9]||(ne[9]=[createBaseVNode("i",{class:"icon i-quit"},null,-1),createTextVNode("退出",-1)])],32)])])])):createCommentVNode("",!0)]))}}),Top=_export_sfc(_sfc_main$7,[["__scopeId","data-v-f25fb171"]]),_hoisted_1$3={key:0,class:"app-layout"},_sfc_main$6=defineComponent({__name:"Root",async setup(e){let n,s;const o=useRoute(),i=inject(App$1.KEY),l=inject(Player.KEY),c=inject(ViewContext.NAME),u=computed(()=>l.state.playlist.length>0),d=computed(()=>l.state),v=computed(()=>i.state.ready),b=ref();[n,s]=withAsyncContext(()=>i.initialize()),await n,s(),onMounted(()=>{c.device.addEventListener(EVENT_PLAY_PURE_MUSIC,()=>{i.pureMusic.length>0&&i.pureMusic[0]>0&&c.router.push({name:"playlist",params:{id:i.pureMusic[0]}})}),c.device.addEventListener(CONFIRM,async(V,F,q)=>{let Q=await myDevice.confirm(F);q(Q)}),c.device.addEventListener(ALERT,async(V,F,q)=>{await myDevice.alert(F),q()})}),watch(o,()=>{l.state.songVisible=!1,l.state.musicVisible=!1});function P(){if(b.value){let V=b.value.scrollTop/(b.value.scrollHeight-b.value.clientHeight);c.device.dispatch(c.device.APP_SCROLL,{scroll:V})}}return(V,F)=>{const q=resolveComponent("RouterView");return v.value?(openBlock(),createElementBlock("div",_hoisted_1$3,[createVNode(Left),createBaseVNode("div",{class:"app-layout-body",ref_key:"body",ref:b,onScroll:P},[createVNode(Top),createVNode(q)],544),u.value?(openBlock(),createBlock(FootPlayer,{key:0})):createCommentVNode("",!0),createVNode(Transition,{name:"move"},{default:withCtx(()=>[d.value.songVisible?(openBlock(),createBlock(MainPlayer,{key:0})):createCommentVNode("",!0)]),_:1}),d.value.listVisible?(openBlock(),createBlock(PlayerList,{key:1})):createCommentVNode("",!0),createVNode(Login)])):createCommentVNode("",!0)}}}),Layout=_export_sfc(_sfc_main$6,[["__scopeId","data-v-78163eb6"]]),_sfc_main$5=defineComponent({__name:"Root",setup(e){const n=useRoute(),s=ref(!1),o=ref();return onErrorCaptured((i,l,c)=>(s.value=!0,o.value=i,console.error("vue page error",c,"in",n.fullPath,`
`,i.stack),!1)),(i,l)=>(openBlock(),createElementBlock(Fragment,null,[(openBlock(),createBlock(Suspense,null,{default:withCtx(()=>[createVNode(Layout)]),_:1})),createVNode(_sfc_main$s)],64))}}),albums=[{name:"albums",path:"/albums/list/:category/:style/:language/:scene/:sort/index.html",component:()=>__vitePreload(()=>import("./Root-BEk_FvZh.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12]),import.meta.url)},{name:"album",path:"/albums/:id/index.html",component:()=>__vitePreload(()=>import("./Detail-Bidn9Aoo.js"),__vite__mapDeps([13,9,10,11,14]),import.meta.url)}],artists=[{name:"artists",path:"/artists/list/:type/:region/:sort/index.html",component:()=>__vitePreload(()=>import("./Root-S9rTENzT.js"),__vite__mapDeps([15,16,17,18,19,3,4]),import.meta.url)},{name:"artist",path:"/artists/:id/:type?/index.html",component:()=>__vitePreload(()=>import("./Detail-DRS5TM68.js"),__vite__mapDeps([20,1,2,21,22,23,24,9,10,11,25]),import.meta.url)}],books=[{name:"books",path:"/books.html",component:()=>__vitePreload(()=>import("./Root-SEeET2nS.js"),__vite__mapDeps([26,27,28,29]),import.meta.url)},{name:"books-list",path:"/books/:type/list.html",component:()=>__vitePreload(()=>import("./List-DQCbHJoS.js"),__vite__mapDeps([30,31,27,28,32,33]),import.meta.url)},{name:"books-detail",path:"/books/:id/:page/index.html",component:()=>__vitePreload(()=>import("./Detail-DCinx1DW.js"),__vite__mapDeps([34,35,36,37]),import.meta.url)}],home=[{path:"/",component:()=>__vitePreload(()=>import("./Root-CzRKVhjg.js"),__vite__mapDeps([38,6,7,39]),import.meta.url)},{name:"home",path:"/index.html",component:()=>__vitePreload(()=>import("./Root-CzRKVhjg.js"),__vite__mapDeps([38,6,7,39]),import.meta.url)}],mvs=[{name:"mvs",path:"/mvs/:type/:sort/index.html",component:()=>__vitePreload(()=>import("./Root-Du_UvPCV.js"),__vite__mapDeps([40,21,22,23,24,3,4,41]),import.meta.url)}],playlists=[{name:"playlist",path:"/playlists/:id/index.html",component:()=>__vitePreload(()=>import("./Detail-ZbbepL5A.js"),__vite__mapDeps([42,9,10,11,43]),import.meta.url)},{name:"playlist-edit",path:"/playlists/:id/edit.html",component:()=>__vitePreload(()=>import("./Edit-CpU3gu37.js"),__vite__mapDeps([44,45,46]),import.meta.url)}],profile=[{path:"/profile",component:()=>__vitePreload(()=>import("./Root-B1icK6oJ.js"),[],import.meta.url),children:[{name:"profile",path:"",component:()=>__vitePreload(()=>import("./Info-CwPQpaPf.js"),__vite__mapDeps([47,45,48]),import.meta.url)},{name:"my-password",path:"password",component:()=>__vitePreload(()=>import("./Password-B88Mc4wI.js"),__vite__mapDeps([49,50]),import.meta.url)},{name:"my-email",path:"email",component:()=>__vitePreload(()=>import("./Email-DMI16FMs.js"),__vite__mapDeps([51,52]),import.meta.url)},{name:"my-qa",path:"qa",component:()=>__vitePreload(()=>import("./Qa-C_2ZI7QX.js"),__vite__mapDeps([53,54]),import.meta.url)}]}],profileFavorite=[{name:"profile-favorite",path:"/profile-favorite",component:()=>__vitePreload(()=>import("./Root-D1JGDlsL.js"),__vite__mapDeps([55,17,18,27,28,35,36,22,23,6,7,10,11,56]),import.meta.url)}],profileIssues=[{name:"my-issues",path:"/my-issues",component:()=>__vitePreload(()=>import("./Root-DPh1me5I.js"),__vite__mapDeps([57,58]),import.meta.url)},{name:"my-issues-detail",path:"/my-issues/:id",component:()=>__vitePreload(()=>import("./Detail-CttkMYsx.js"),__vite__mapDeps([59,45,60]),import.meta.url)},{name:"my-issues-create",path:"/my-issues-create",component:()=>__vitePreload(()=>import("./Create-Dgj_PRba.js"),__vite__mapDeps([61,45,62]),import.meta.url)}],profileLatest=[{name:"profile-latest",path:"/profile-latest",component:()=>__vitePreload(()=>import("./Root-D5rBt74E.js"),__vite__mapDeps([63,17,18,27,28,35,36,22,23,6,7,10,11,64]),import.meta.url)}],profilePlaylist=[{name:"profile-playlist",path:"/profile-playlist",component:()=>__vitePreload(()=>import("./Root-BAj-vWee.js"),__vite__mapDeps([65,6,7,66]),import.meta.url)}],search=[{name:"search",path:"/search/index.html",component:()=>__vitePreload(()=>import("./Root-utty-f4w.js"),__vite__mapDeps([67,1,2,16,17,18,19,31,27,28,32,35,36,21,22,23,24,5,6,7,8,9,10,11,68]),import.meta.url)}],songs=[{name:"songs-rank",path:"/songs/rank/:period/:type/index.html",component:()=>__vitePreload(()=>import("./Rank-DnOmPEKS.js"),__vite__mapDeps([69,10,11,70]),import.meta.url)},{name:"songs-hot",path:"/tag-hot/index.html",component:()=>__vitePreload(()=>import("./Hot-BZ8KQAwh.js"),__vite__mapDeps([71,10,11,72]),import.meta.url)},{name:"songs-random",path:"/tag-random/index.html",component:()=>__vitePreload(()=>import("./Random-DMLwA7ZA.js"),__vite__mapDeps([73,10,11,74]),import.meta.url)},{name:"songs-daily",path:"/tag-daily/index.html",component:()=>__vitePreload(()=>import("./Daily-C7VlzzZ2.js"),__vite__mapDeps([75,10,11,76]),import.meta.url)}],routes=[...home,...artists,...albums,...playlists,...songs,...books,...mvs,...search,...profile,...profileLatest,...profileFavorite,...profilePlaylist,...profileIssues];class Page extends Store{static KEY="store-page";constructor(){super({})}get injectKey(){return Page.KEY}}const _hoisted_1$2={key:0,class:"toast popup"},_sfc_main$4=defineComponent({__name:"Toast",setup(e){const n=inject(ViewContext.NAME),s=reactive({visible:!1,message:""});onMounted(()=>{n.device.addEventListener(TOAST,o)});function o(l,c){s.message=c,s.visible=!0,i.run()}const i=delayTask(()=>{s.visible=!1},2e3);return(l,c)=>(openBlock(),createBlock(Transition,null,{default:withCtx(()=>[s.visible?(openBlock(),createElementBlock("div",_hoisted_1$2,toDisplayString(s.message),1)):createCommentVNode("",!0)]),_:1}))}}),Toast=_export_sfc(_sfc_main$4,[["__scopeId","data-v-71edddb8"]]),_hoisted_1$1=["innerHTML"],_sfc_main$3=defineComponent({__name:"AppLoading",setup(e){const n=inject(ViewContext.NAME),s=reactive({visible:!1,message:""});onMounted(()=>{n.device.addEventListener(LOADING,o)});function o(i,l,c){s.visible=l,l&&(s.message=c)}return(i,l)=>s.visible?(openBlock(),createBlock(Teleport,{key:0,to:"body"},[createVNode(Loading,{visible:s.visible},{default:withCtx(()=>[createBaseVNode("div",{class:"line1",innerHTML:s.message},null,8,_hoisted_1$1)]),_:1},8,["visible"])])):createCommentVNode("",!0)}}),AppLoading=_export_sfc(_sfc_main$3,[["__scopeId","data-v-63e489de"]]),_hoisted_1=["onClick"],_hoisted_2={key:1,class:"line"},_sfc_main$2=defineComponent({__name:"ContextMenu",setup(e){const n=inject(ViewContext.NAME),s=reactive({visible:!1,message:"",options:[],x:0,y:0}),o=computed(()=>({left:s.x+"px",top:s.y+"px"})),i=ref();let l;onMounted(()=>{n.device.addEventListener(CONTEXT_MENU,c)});function c(v,b,P,V){l=b,s.options=P,s.x=V.x+20,s.y=V.y,s.visible=!0,setTimeout(()=>{if(i.value){const F=i.value.getBoundingClientRect();F.left+F.width>window.innerWidth&&(s.x=V.x-F.width-20),(V.direction=="top"||F.top+F.height>window.innerHeight)&&(s.y=V.y-F.height-20)}},10)}function u(v){l(v),s.visible=!1}function d(){l(""),s.visible=!1}return(v,b)=>s.visible?(openBlock(),createElementBlock("div",{key:0,class:"context-menu",onClick:d},[createBaseVNode("div",{ref_key:"menus",ref:i,class:"menus popup",style:normalizeStyle(o.value)},[(openBlock(!0),createElementBlock(Fragment,null,renderList(s.options,P=>(openBlock(),createElementBlock(Fragment,null,[P?(openBlock(),createElementBlock("div",{key:0,class:"item",onClick:V=>u(P)},toDisplayString(P),9,_hoisted_1)):(openBlock(),createElementBlock("div",_hoisted_2))],64))),256))],4)])):createCommentVNode("",!0)}}),ContextMenu=_export_sfc(_sfc_main$2,[["__scopeId","data-v-e523793a"]]);function m(e,n){n===void 0&&(n={});var s=n.insertAt;if(e&&typeof document<"u"){var o=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",s==="top"&&o.firstChild?o.insertBefore(i,o.firstChild):o.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}m(".vel-fade-enter-active,.vel-fade-leave-active{-webkit-transition:all .3s ease;transition:all .3s ease}.vel-fade-enter-from,.vel-fade-leave-to{opacity:0}.vel-img-swiper{display:block;position:relative}.vel-modal{background:rgba(0,0,0,.5);bottom:0;left:0;margin:0;position:fixed;right:0;top:0;z-index:9998}.vel-img-wrapper{left:50%;margin:0;position:absolute;top:50%;-webkit-transform:translate(-50% -50%);transform:translate(-50% -50%);-webkit-transition:.3s linear;transition:.3s linear;will-change:transform opacity}.vel-img,.vel-img-wrapper{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.vel-img{background-color:rgba(0,0,0,.7);-webkit-box-shadow:0 5px 20px 2px rgba(0,0,0,.7);box-shadow:0 5px 20px 2px rgba(0,0,0,.7);display:block;max-height:80vh;max-width:80vw;position:relative;-webkit-transition:-webkit-transform .3s ease-in-out;transition:-webkit-transform .3s ease-in-out;transition:transform .3s ease-in-out;transition:transform .3s ease-in-out,-webkit-transform .3s ease-in-out}@media (max-width:750px){.vel-img{max-height:95vh;max-width:85vw}}.vel-btns-wrapper{position:static}.vel-btns-wrapper .btn__close,.vel-btns-wrapper .btn__next,.vel-btns-wrapper .btn__prev{-webkit-tap-highlight-color:transparent;color:#fff;cursor:pointer;font-size:32px;opacity:.6;outline:none;position:absolute;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);-webkit-transition:.15s linear;transition:.15s linear;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.vel-btns-wrapper .btn__close:hover,.vel-btns-wrapper .btn__next:hover,.vel-btns-wrapper .btn__prev:hover{opacity:1}.vel-btns-wrapper .btn__close.disable,.vel-btns-wrapper .btn__close.disable:hover,.vel-btns-wrapper .btn__next.disable,.vel-btns-wrapper .btn__next.disable:hover,.vel-btns-wrapper .btn__prev.disable,.vel-btns-wrapper .btn__prev.disable:hover{cursor:default;opacity:.2}.vel-btns-wrapper .btn__next{right:12px}.vel-btns-wrapper .btn__prev{left:12px}.vel-btns-wrapper .btn__close{right:10px;top:24px}@media (max-width:750px){.vel-btns-wrapper .btn__next,.vel-btns-wrapper .btn__prev{font-size:20px}.vel-btns-wrapper .btn__close{font-size:24px}.vel-btns-wrapper .btn__next{right:4px}.vel-btns-wrapper .btn__prev{left:4px}}.vel-modal.is-rtl .vel-btns-wrapper .btn__next{left:12px;right:auto}.vel-modal.is-rtl .vel-btns-wrapper .btn__prev{left:auto;right:12px}@media (max-width:750px){.vel-modal.is-rtl .vel-btns-wrapper .btn__next{left:4px;right:auto}.vel-modal.is-rtl .vel-btns-wrapper .btn__prev{left:auto;right:4px}}.vel-modal.is-rtl .vel-img-title{direction:rtl}");m('.vel-loading{left:50%;position:absolute;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.vel-loading .ring{display:inline-block;height:64px;width:64px}.vel-loading .ring:after{-webkit-animation:ring 1.2s linear infinite;animation:ring 1.2s linear infinite;border-color:hsla(0,0%,100%,.7) transparent;border-radius:50%;border-style:solid;border-width:5px;content:" ";display:block;height:46px;margin:1px;width:46px}@-webkit-keyframes ring{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes ring{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}');m(".vel-on-error{left:50%;position:absolute;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.vel-on-error .icon{color:#aaa;font-size:80px}");m(".vel-img-title{bottom:60px;color:#ccc;cursor:default;font-size:12px;left:50%;line-height:1;max-width:80%;opacity:.8;overflow:hidden;position:absolute;text-align:center;text-overflow:ellipsis;-webkit-transform:translate(-50%);transform:translate(-50%);-webkit-transition:opacity .15s;transition:opacity .15s;white-space:nowrap}.vel-img-title:hover{opacity:1}");m(".vel-icon{fill:currentColor;height:1em;overflow:hidden;vertical-align:-.15em;width:1em}");m(".vel-toolbar{border-radius:4px;bottom:8px;display:-webkit-box;display:-ms-flexbox;display:flex;left:50%;opacity:.9;overflow:hidden;padding:0;position:absolute;-webkit-transform:translate(-50%);transform:translate(-50%)}.vel-toolbar,.vel-toolbar .toolbar-btn{background-color:#2d2d2d;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.vel-toolbar .toolbar-btn{-ms-flex-negative:0;-webkit-tap-highlight-color:transparent;color:#fff;cursor:pointer;flex-shrink:0;font-size:20px;outline:none;padding:6px 10px}.vel-toolbar .toolbar-btn:active,.vel-toolbar .toolbar-btn:hover{background-color:#3d3d3d}");const g="vel",f=defineComponent({name:"SvgIcon",props:{type:{type:String,default:""}},setup:e=>()=>createVNode("svg",{class:`${g}-icon icon`,"aria-hidden":"true"},[createVNode("use",{"xlink:href":`#icon-${e.type}`},null)])}),h=typeof window<"u",w=()=>{};let x=!1;if(h)try{const e={};Object.defineProperty(e,"passive",{get(){x=!0}}),window.addEventListener("test-passive",w,e)}catch(e){}const y=function(e,n,s){let o=arguments.length>3&&arguments[3]!==void 0&&arguments[3];h&&e.addEventListener(n,s,!!x&&{capture:!1,passive:o})},z=(e,n,s)=>{h&&e.removeEventListener(n,s)},k=e=>{e.preventDefault()},_=Object.prototype.toString,D=e=>n=>_.call(n).slice(8,-1)===e,M=e=>!!e&&D("Object")(e),S=e=>!!e&&D("String")(e);function L(e){return e!=null}const C=defineComponent({name:"Toolbar",props:{zoomIn:{type:Function,default:w},zoomOut:{type:Function,default:w},rotateLeft:{type:Function,default:w},rotateRight:{type:Function,default:w},resize:{type:Function,default:w},rotateDisabled:{type:Boolean,default:!1},zoomDisabled:{type:Boolean,default:!1}},setup:e=>()=>createVNode("div",{class:`${g}-toolbar`},[!e.zoomDisabled&&createVNode(Fragment,null,[createVNode("div",{role:"button","aria-label":"zoom in button",class:"toolbar-btn toolbar-btn__zoomin",onClick:e.zoomIn},[createVNode(f,{type:"zoomin"},null)]),createVNode("div",{role:"button","aria-label":"zoom out button",class:"toolbar-btn toolbar-btn__zoomout",onClick:e.zoomOut},[createVNode(f,{type:"zoomout"},null)])]),createVNode("div",{role:"button","aria-label":"resize image button",class:"toolbar-btn toolbar-btn__resize",onClick:e.resize},[createVNode(f,{type:"resize"},null)]),!e.rotateDisabled&&createVNode(Fragment,null,[createVNode("div",{role:"button","aria-label":"image rotate left button",class:"toolbar-btn toolbar-btn__rotate",onClick:e.rotateLeft},[createVNode(f,{type:"rotate-left"},null)]),createVNode("div",{role:"button","aria-label":"image rotate right button",class:"toolbar-btn toolbar-btn__rotate",onClick:e.rotateRight},[createVNode(f,{type:"rotate-right"},null)])])])}),Y=()=>createVNode("div",{class:`${g}-loading`},[createVNode("div",{class:"ring"},null)]),B=()=>createVNode("div",{class:`${g}-on-error`},[createVNode("div",{class:"ring"},null),createVNode(f,{type:"img-broken"},null)]),X=(e,n)=>{let{slots:s}=n;return createVNode("div",{class:`${g}-img-title`},[s.default?s.default():""])},E=defineComponent({name:"DefaultIcons",setup:()=>()=>createVNode("svg",{"aria-hidden":!0,style:"position: absolute; width: 0; height: 0; overflow: hidden; visibility: hidden;"},[createVNode("symbol",{id:"icon-rotate-right",viewBox:"0 0 1024 1024"},[createVNode("path",{d:"M275.199914 450.496179v20.031994c0.384-38.079988 12.543996-67.423979 36.479989-87.967973 22.431993-20.351994 49.215985-30.55999 80.319975-30.55999 32.06399 0 59.295981 10.175997 81.759974 30.55999 22.815993 20.543994 34.591989 49.887984 35.359989 87.967973v123.935961c-0.768 37.887988-12.543996 67.135979-35.359989 87.679973-22.431993 20.351994-49.695984 30.75199-81.759974 31.10399a120.255962 120.255962 0 0 1-72.991978-24.895992c-21.503993-15.839995-35.359989-38.751988-41.567987-68.735979h60.831981c9.247997 23.007993 27.167992 34.495989 53.759983 34.49599 37.535988-0.384 56.863982-21.407993 57.983982-63.071981v-38.751988c-28.095991 8.863997-54.303983 13.119996-78.623975 12.735996a91.263971 91.263971 0 0 1-68.447979-27.711991c-18.847994-18.303994-28.095991-47.231985-27.711991-86.847973z m62.55998 24.863992c7.103998 24.799992 25.215992 37.343988 54.271983 37.663989 27.103992-0.288 44.703986-11.327996 52.831984-33.11999 3.135999-8.383997 2.655999-29.599991-1.28-38.559988-8.607997-19.615994-25.791992-29.695991-51.551984-30.20799-28.383991 0.576-46.303986 12.639996-53.759983 36.159988a58.719982 58.719982 0 0 0-0.512 28.063991z m390.335878 115.711964v-116.895963c-1.12-41.311987-20.447994-62.335981-57.983981-63.07198-37.727988 0.768-56.959982 21.791993-57.695982 63.07198v116.895963c0.768 41.663987 19.999994 62.68798 57.695982 63.071981 37.535988-0.384 56.863982-21.407993 57.983981-63.071981z m-174.815945 3.391999v-123.935961c0.384-38.079988 12.543996-67.423979 36.479989-87.967973 22.431993-20.351994 49.215985-30.55999 80.319975-30.55999 32.06399 0 59.295981 10.175997 81.759974 30.55999 22.815993 20.543994 34.591989 49.887984 35.359989 87.967973v123.935961c-0.768 37.887988-12.543996 67.135979-35.359989 87.679973-22.431993 20.351994-49.695984 30.75199-81.759974 31.10399-31.10399-0.384-57.887982-10.751997-80.319975-31.10399-23.935993-20.543994-36.127989-49.791984-36.479989-87.679973z m282.559912-479.07185A509.887841 509.887841 0 0 0 511.99984 0.00032C229.215928 0.00032 0 229.216248 0 512.00016s229.215928 511.99984 511.99984 511.99984 511.99984-229.215928 511.99984-511.99984c0-3.743999-0.032-7.455998-0.128-11.167997-1.631999-11.295996-8.159997-27.103992-31.87199-27.103991-27.487991 0-31.67999 21.247993-32.03199 32.06399l0.032 4.127999a30.62399 30.62399 0 0 0 0.16 2.079999H959.9997c0 247.423923-200.575937 447.99986-447.99986 447.99986S63.99998 759.424083 63.99998 512.00016 264.575917 64.0003 511.99984 64.0003a446.079861 446.079861 0 0 1 277.439913 96.22397l-94.91197 91.679971c-25.439992 24.607992-17.439995 44.991986 17.887994 45.599986l188.031942 3.295999a64.31998 64.31998 0 0 0 65.055979-62.84798l3.295999-188.127942C969.407697 15.040315 949.311703 5.792318 923.871711 30.368311l-87.999972 85.023973z",fill:""},null)]),createVNode("symbol",{id:"icon-rotate-left",viewBox:"0 0 1024 1024"},[createVNode("path",{d:"M275.199914 450.496179v20.031994c0.384-38.079988 12.543996-67.423979 36.479989-87.967973 22.431993-20.351994 49.215985-30.55999 80.319975-30.55999 32.06399 0 59.295981 10.175997 81.759974 30.55999 22.815993 20.543994 34.591989 49.887984 35.359989 87.967973v123.935961c-0.768 37.887988-12.543996 67.135979-35.359989 87.679973-22.431993 20.351994-49.695984 30.75199-81.759974 31.10399a120.255962 120.255962 0 0 1-72.991978-24.895992c-21.503993-15.839995-35.359989-38.751988-41.567987-68.735979h60.831981c9.247997 23.007993 27.167992 34.495989 53.759983 34.49599 37.535988-0.384 56.863982-21.407993 57.983982-63.071981v-38.751988c-28.095991 8.863997-54.303983 13.119996-78.623975 12.735996a91.263971 91.263971 0 0 1-68.447979-27.711991c-18.847994-18.303994-28.095991-47.231985-27.711991-86.847973z m62.55998 24.863992c7.103998 24.799992 25.215992 37.343988 54.271983 37.663989 27.103992-0.288 44.703986-11.327996 52.831984-33.11999 3.135999-8.383997 2.655999-29.599991-1.28-38.559988-8.607997-19.615994-25.791992-29.695991-51.551984-30.20799-28.383991 0.576-46.303986 12.639996-53.759983 36.159988a58.719982 58.719982 0 0 0-0.512 28.063991z m390.335878 115.711964v-116.895963c-1.12-41.311987-20.447994-62.335981-57.983981-63.07198-37.727988 0.768-56.959982 21.791993-57.695982 63.07198v116.895963c0.768 41.663987 19.999994 62.68798 57.695982 63.071981 37.535988-0.384 56.863982-21.407993 57.983981-63.071981z m-174.815945 3.391999v-123.935961c0.384-38.079988 12.543996-67.423979 36.479989-87.967973 22.431993-20.351994 49.215985-30.55999 80.319975-30.55999 32.06399 0 59.295981 10.175997 81.759974 30.55999 22.815993 20.543994 34.591989 49.887984 35.359989 87.967973v123.935961c-0.768 37.887988-12.543996 67.135979-35.359989 87.679973-22.431993 20.351994-49.695984 30.75199-81.759974 31.10399-31.10399-0.384-57.887982-10.751997-80.319975-31.10399-23.935993-20.543994-36.127989-49.791984-36.479989-87.679973zM188.159941 115.392284A509.887841 509.887841 0 0 1 511.99984 0.00032c282.783912 0 511.99984 229.215928 511.99984 511.99984s-229.215928 511.99984-511.99984 511.99984S0 794.784072 0 512.00016c0-3.743999 0.032-7.455998 0.128-11.167997 1.631999-11.295996 8.159997-27.103992 31.87199-27.103991 27.487991 0 31.67999 21.247993 32.03199 32.06399L63.99998 509.920161a30.62399 30.62399 0 0 1-0.16 2.079999H63.99998c0 247.423923 200.575937 447.99986 447.99986 447.99986s447.99986-200.575937 447.99986-447.99986S759.423763 64.0003 511.99984 64.0003a446.079861 446.079861 0 0 0-277.439913 96.22397l94.91197 91.679971c25.439992 24.607992 17.439995 44.991986-17.887994 45.599986L123.551961 300.800226a64.31998 64.31998 0 0 1-65.055979-62.84798l-3.295999-188.127942C54.591983 15.040315 74.687977 5.792318 100.127969 30.368311l87.999972 85.023973z",fill:""},null)]),createVNode("symbol",{id:"icon-resize",viewBox:"0 0 1024 1024"},[createVNode("path",{d:"M456.036919 791.8108 270.553461 791.8108 460.818829 601.572038l-39.593763-39.567157L231.314785 751.915162l0.873903-183.953615c0-15.465227-12.515035-27.981285-27.981285-27.981285s-27.981285 12.515035-27.981285 27.981285l0 251.829516c0 8.3072 3.415796 14.975063 8.826016 19.564591 5.082762 5.192256 12.132318 8.416693 19.947308 8.416693l251.036453 0c15.46625 0 27.981285-12.514012 27.981285-27.981285C484.018204 804.325835 471.504192 791.8108 456.036919 791.8108zM838.945819 184.644347c-5.082762-5.191232-12.132318-8.416693-19.947308-8.416693L567.961034 176.227654c-15.46625 0-27.981285 12.515035-27.981285 27.981285 0 15.46625 12.514012 27.981285 27.981285 27.981285l185.483458 0L563.206754 422.427962l39.567157 39.567157 189.910281-189.910281-0.873903 183.953615c0 15.46625 12.514012 27.981285 27.981285 27.981285s27.981285-12.514012 27.981285-27.981285L847.772858 204.208938C847.771835 195.902762 844.356039 189.234899 838.945819 184.644347zM847.771835 64.303538 176.227142 64.303538c-61.809741 0-111.924115 50.115398-111.924115 111.924115l0 671.544693c0 61.809741 50.114374 111.924115 111.924115 111.924115l671.544693 0c61.809741 0 111.924115-50.114374 111.924115-111.924115l0-671.544693C959.69595 114.418936 909.581576 64.303538 847.771835 64.303538zM903.733381 847.772346c0 30.878265-25.056676 55.962569-55.962569 55.962569L176.227142 903.734916c-30.90487 0-55.962569-25.084305-55.962569-55.962569l0-671.544693c0-30.9325 25.056676-55.962569 55.962569-55.962569l671.544693 0c30.90487 0 55.962569 25.03007 55.962569 55.962569L903.734404 847.772346z"},null)]),createVNode("symbol",{id:"icon-img-broken",viewBox:"0 0 1024 1024"},[createVNode("path",{d:"M810.666667 128H213.333333c-46.933333 0-85.333333 38.4-85.333333 85.333333v597.333334c0 46.933333 38.4 85.333333 85.333333 85.333333h597.333334c46.933333 0 85.333333-38.4 85.333333-85.333333V213.333333c0-46.933333-38.4-85.333333-85.333333-85.333333z m0 682.666667H213.333333v-195.413334l42.24 42.24 170.666667-170.666666 170.666667 170.666666 170.666666-170.24L810.666667 530.346667V810.666667z m0-401.493334l-43.093334-43.093333-170.666666 171.093333-170.666667-170.666666-170.666667 170.666666-42.24-42.666666V213.333333h597.333334v195.84z"},null)]),createVNode("symbol",{id:"icon-prev",viewBox:"0 0 1024 1024"},[createVNode("path",{d:"M784.652701 955.6957 346.601985 517.644983c-2.822492-2.822492-2.822492-7.902977 0-11.289967l439.179713-439.179713c6.77398-6.77398 10.725469-16.370452 10.725469-25.966924L796.507166 36.692393c0-20.32194-16.370452-36.692393-36.692393-36.692393l-4.515987 0c-9.596472 0-19.192944 3.951488-25.966924 10.725469L250.072767 489.420066c-12.418964 12.418964-12.418964 32.740904 0 45.159868l477.565601 477.565601c7.338479 7.338479 17.499449 11.854465 28.224917 11.854465l0 0c22.015436 0 40.079383-18.063947 40.079383-40.079383l0 0C796.507166 973.759647 791.99118 963.598677 784.652701 955.6957z"},null)]),createVNode("symbol",{id:"icon-next",viewBox:"0 0 1024 1024"},[createVNode("path",{d:"M246.121279 955.6957l438.050717-438.050717c2.822492-2.822492 2.822492-7.902977 0-11.289967L244.992282 67.175303c-6.77398-6.77398-10.725469-16.370452-10.725469-25.966924L234.266814 36.692393C234.266814 16.370452 250.637266 0 270.959206 0l4.515987 0c9.596472 0 19.192944 3.951488 25.966924 10.725469l478.694598 478.694598c12.418964 12.418964 12.418964 32.740904 0 45.159868l-477.565601 477.565601c-7.338479 7.338479-17.499449 11.854465-28.224917 11.854465l0 0c-22.015436 0-40.079383-18.063947-40.079383-40.079383l0 0C234.266814 973.759647 238.7828 963.598677 246.121279 955.6957z"},null)]),createVNode("symbol",{id:"icon-zoomin",viewBox:"0 0 1024 1024"},[createVNode("path",{d:"M725.504 652.864c46.4-61.44 71.744-136.448 71.744-218.752C797.248 230.464 632.768 64 430.656 64S64 230.464 64 434.112C64 639.36 228.48 805.76 430.656 805.76c86.656 0 164.48-30.144 227.52-81.088L889.984 960 960 891.264l-234.496-238.4z m-294.848 67.456c-155.776 0-282.624-128.896-282.624-286.208s126.848-286.208 282.624-286.208 282.624 128.896 282.624 286.208-126.912 286.208-282.624 286.208z"},null),createVNode("path",{d:"M235.712 369.92h390.72v127.104H235.712z"},null),createVNode("path",{d:"M367.488 238.144h127.104v390.72H367.488z"},null)]),createVNode("symbol",{id:"icon-close",viewBox:"0 0 1024 1024"},[createVNode("path",{d:"M570.24 512l259.2 259.2-58.88 58.24L512 570.24l-261.12 261.12-58.24-58.24L453.76 512 194.56 252.8l58.24-58.24L512 453.76l261.12-261.12 58.24 58.24z"},null)]),createVNode("symbol",{id:"icon-zoomout",viewBox:"0 0 1024 1024"},[createVNode("path",{d:"M725.504 652.864c46.4-61.44 71.744-136.448 71.744-218.752C797.248 230.464 632.768 64 430.656 64S64 230.464 64 434.112C64 639.36 228.48 805.76 430.656 805.76c86.656 0 164.48-30.144 227.52-81.088L889.984 960 960 891.264l-234.496-238.4z m-294.848 67.456c-155.776 0-282.624-128.896-282.624-286.208s126.848-286.208 282.624-286.208 282.624 128.896 282.624 286.208-126.912 286.208-282.624 286.208z"},null),createVNode("path",{d:"M235.712 369.92h390.72v127.104H235.712z"},null)])])}),T=h?window:global;let $=Date.now();function I(e){const n=Date.now(),s=Math.max(0,16-(n-$)),o=setTimeout(e,s);return $=n+s,o}function O(e){return(T.requestAnimationFrame||I).call(T,e)}function R(e){(T.cancelAnimationFrame||T.clearTimeout).call(T,e)}function A(e,n){const s=e.clientX-n.clientX,o=e.clientY-n.clientY;return Math.sqrt(s*s+o*o)}function j(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!isVNode(e)}var H=defineComponent({name:"VueEasyLightbox",props:{imgs:{type:[Array,String],default:()=>""},visible:{type:Boolean,default:!1},index:{type:Number,default:0},scrollDisabled:{type:Boolean,default:!0},escDisabled:{type:Boolean,default:!1},moveDisabled:{type:Boolean,default:!1},titleDisabled:{type:Boolean,default:!1},maskClosable:{type:Boolean,default:!0},teleport:{type:[String,Object],default:null},swipeTolerance:{type:Number,default:50},loop:{type:Boolean,default:!1},rtl:{type:Boolean,default:!1},zoomScale:{type:Number,default:.12},maxZoom:{type:Number,default:3},minZoom:{type:Number,default:.1},rotateDisabled:{type:Boolean,default:!1},zoomDisabled:{type:Boolean,default:!1},pinchDisabled:{type:Boolean,default:!1},dblclickDisabled:{type:Boolean,default:!1}},emits:{hide:()=>!0,"on-error":e=>!0,"on-prev":(e,n)=>!0,"on-next":(e,n)=>!0,"on-prev-click":(e,n)=>!0,"on-next-click":(e,n)=>!0,"on-index-change":(e,n)=>!0,"on-rotate":e=>!0},setup(e,n){let{emit:s,slots:o}=n;const{imgRef:i,imgState:l,setImgSize:c}=(()=>{const W=ref(),J=reactive({width:0,height:0,maxScale:1});return{imgRef:W,imgState:J,setImgSize:()=>{if(W.value){const{width:Z,height:le,naturalWidth:ae}=W.value;J.maxScale=ae/Z,J.width=Z,J.height=le}}}})(),u=ref(e.index),d=ref(""),v=reactive({scale:1,lastScale:1,rotateDeg:0,top:0,left:0,initX:0,initY:0,lastX:0,lastY:0,touches:[]}),b=reactive({loadError:!1,loading:!1,dragging:!1,gesturing:!1,wheeling:!1}),P=computed((()=>{return W=e.imgs,D("Array")(W)?e.imgs.map((J=>typeof J=="string"?{src:J}:(function(Z){return M(Z)&&S(Z.src)})(J)?J:void 0)).filter(L):S(e.imgs)?[{src:e.imgs}]:[];var W})),V=computed((()=>P.value[u.value])),F=computed((()=>P.value[u.value]?.src)),q=computed((()=>P.value[u.value]?.title)),Q=computed((()=>P.value[u.value]?.alt)),ee=computed((()=>({cursor:b.loadError?"default":e.moveDisabled?b.dragging?"grabbing":"grab":"move",top:`calc(50% + ${v.top}px)`,left:`calc(50% + ${v.left}px)`,transition:b.dragging||b.gesturing?"none":"",transform:`translate(-50%, -50%) scale(${v.scale}) rotate(${v.rotateDeg}deg)`}))),ie=()=>{s("hide")},ue=()=>{v.scale=1,v.lastScale=1,v.rotateDeg=0,v.top=0,v.left=0,b.loadError=!1,b.dragging=!1,b.loading=!0},ge=(W,J)=>{const Z=u.value;ue(),u.value=W,P.value[u.value]===P.value[W]&&nextTick((()=>{b.loading=!1})),e.visible&&Z!==W&&(J&&J(Z,W),s("on-index-change",Z,W))},re=()=>{const W=u.value,J=e.loop?(W+1)%P.value.length:W+1;!e.loop&&J>P.value.length-1||ge(J,((Z,le)=>{s("on-next",Z,le),s("on-next-click",Z,le)}))},ne=()=>{const W=u.value;let J=W-1;if(W===0){if(!e.loop)return;J=P.value.length-1}ge(J,((Z,le)=>{s("on-prev",Z,le),s("on-prev-click",Z,le)}))},fe=W=>{Math.abs(1-W)<.05?W=1:Math.abs(l.maxScale-W)<.05&&(W=l.maxScale),v.lastScale=v.scale,v.scale=W},he=()=>{const W=v.scale+e.zoomScale;W<l.maxScale*e.maxZoom&&fe(W)},_e=()=>{const W=v.scale-e.zoomScale;W>e.minZoom&&fe(W)},pe=()=>{const W=v.rotateDeg%360;s("on-rotate",Math.abs(W<0?W+360:W))},ve=()=>{v.rotateDeg-=90,pe()},ke=()=>{v.rotateDeg+=90,pe()},ce=()=>{v.scale=1,v.top=0,v.left=0},Se=function(){let W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return!e.moveDisabled&&W===0},{onMouseDown:Re,onMouseMove:Le,onMouseUp:Ae}=((W,J,Z)=>{let le,ae=!1;return{onMouseDown:oe=>{W.initX=W.lastX=oe.clientX,W.initY=W.lastY=oe.clientY,J.dragging=!0,ae=!1,oe.stopPropagation()},onMouseUp:oe=>{Z(oe.button)&&R(le),J.dragging=!1,ae=!1},onMouseMove:oe=>{if(J.dragging)if(Z(oe.button)){if(ae)return;ae=!0,le=O((()=>{const{top:se,left:be,lastY:de,lastX:Ee}=W;W.top=se-de+oe.clientY,W.left=be-Ee+oe.clientX,W.lastX=oe.clientX,W.lastY=oe.clientY,ae=!1}))}else W.lastX=oe.clientX,W.lastY=oe.clientY;oe.stopPropagation()}}})(v,b,Se),{onTouchStart:Te,onTouchMove:xe,onTouchEnd:Ue}=((W,J,Z,le,ae)=>{let oe,se=!1;return{onTouchStart:be=>{const{touches:de}=be;de.length>1&&ae()?(Z.gesturing=!0,J.touches=de):(J.initX=J.lastX=de[0].clientX,J.initY=J.lastY=de[0].clientY,Z.dragging=!0),be.stopPropagation()},onTouchMove:be=>{if(se)return;const{touches:de}=be,{lastX:Ee,lastY:Ce,left:Ne,top:Ie,scale:Be}=J;if(!Z.gesturing&&Z.dragging){if(!de[0])return;const{clientX:He,clientY:$e}=de[0];le()?oe=O((()=>{J.lastX=He,J.lastY=$e,J.top=Ie-Ce+$e,J.left=Ne-Ee+He,se=!1})):(J.lastX=He,J.lastY=$e)}else Z.gesturing&&J.touches.length>1&&de.length>1&&ae()&&(oe=O((()=>{const He=(A(J.touches[0],J.touches[1])-A(de[0],de[1]))/W.width;J.touches=de;const $e=Be-1.3*He;$e>.5&&$e<1.5*W.maxScale&&(J.scale=$e),se=!1})))},onTouchEnd:()=>{R(oe),Z.dragging=!1,Z.gesturing=!1,se=!1}}})(l,v,b,Se,(()=>!e.pinchDisabled)),Oe=()=>{e.dblclickDisabled||(v.scale!==l.maxScale?(v.lastScale=v.scale,v.scale=l.maxScale):v.scale=v.lastScale)},Me=W=>{b.loadError||b.gesturing||b.loading||b.dragging||b.wheeling||!e.scrollDisabled||e.zoomDisabled||(b.wheeling=!0,setTimeout((()=>{b.wheeling=!1}),80),W.deltaY<0?he():_e())},Ve=W=>{const J=W;e.visible&&(!e.escDisabled&&J.key==="Escape"&&e.visible&&ie(),J.key==="ArrowLeft"&&(e.rtl?re():ne()),J.key==="ArrowRight"&&(e.rtl?ne():re()))},je=()=>{e.maskClosable&&ie()},ze=()=>{c()},De=()=>{b.loading=!1},Fe=W=>{b.loading=!1,b.loadError=!0,s("on-error",W)},te=()=>{e.visible&&c()};watch((()=>e.index),(W=>{W<0||W>=P.value.length||ge(W)})),watch((()=>b.dragging),((W,J)=>{const Z=!W&&J;if(!Se()&&Z){const le=v.lastX-v.initX,ae=v.lastY-v.initY,oe=e.swipeTolerance;Math.abs(le)>Math.abs(ae)&&(le<-1*oe?re():le>oe&&ne())}})),watch((()=>e.visible),(W=>{if(W){ue();const J=P.value.length;if(J===0)return u.value=0,b.loading=!1,void nextTick((()=>b.loadError=!0));u.value=e.index>=J?J-1:e.index<0?0:e.index,e.scrollDisabled&&ye()}else e.scrollDisabled&&me()}));const ye=()=>{document&&(d.value=document.body.style.overflowY,document.body.style.overflowY="hidden")},me=()=>{document&&(document.body.style.overflowY=d.value)};onMounted((()=>{y(document,"keydown",Ve),y(window,"resize",te)})),onBeforeUnmount((()=>{z(document,"keydown",Ve),z(window,"resize",te),e.scrollDisabled&&me()}));const we=()=>b.loading?o.loading?o.loading({key:"loading"}):createVNode(Y,{key:"img-loading"},null):b.loadError?o.onerror?o.onerror({key:"onerror"}):createVNode(B,{key:"img-on-error"},null):createVNode("div",{class:`${g}-img-wrapper`,style:ee.value,key:"img-wrapper"},[createVNode("img",{alt:Q.value,ref:i,draggable:"false",class:`${g}-img`,src:F.value,onMousedown:Re,onMouseup:Ae,onMousemove:Le,onTouchstart:Te,onTouchmove:xe,onTouchend:Ue,onLoad:ze,onDblclick:Oe,onDragstart:W=>{W.preventDefault()}},null)]),Pe=()=>{if(o["prev-btn"])return o["prev-btn"]({prev:ne});if(P.value.length<=1)return;const W=!e.loop&&u.value<=0;return createVNode("div",{role:"button","aria-label":"previous image button",class:"btn__prev "+(W?"disable":""),onClick:ne},[e.rtl?createVNode(f,{type:"next"},null):createVNode(f,{type:"prev"},null)])},U=()=>{if(o["next-btn"])return o["next-btn"]({next:re});if(P.value.length<=1)return;const W=!e.loop&&u.value>=P.value.length-1;return createVNode("div",{role:"button","aria-label":"next image button",class:"btn__next "+(W?"disable":""),onClick:re},[e.rtl?createVNode(f,{type:"prev"},null):createVNode(f,{type:"next"},null)])},K=()=>{if(!(e.titleDisabled||b.loading||b.loadError))return o.title?o.title({currentImg:V.value}):q.value?createVNode(X,null,{default:()=>[q.value]}):void 0},G=()=>{let W;if(e.visible)return createVNode("div",{onTouchmove:k,class:[`${g}-modal`,e.rtl?"is-rtl":""],onClick:withModifiers(je,["self"]),onWheel:Me},[createVNode(E,null,null),createVNode(Transition,{name:`${g}-fade`,mode:"out-in"},j(W=we())?W:{default:()=>[W]}),createVNode("img",{style:"display:none;",src:F.value,onError:Fe,onLoad:De},null),createVNode("div",{class:`${g}-btns-wrapper`},[Pe(),U(),K(),o["close-btn"]?o["close-btn"]({close:ie}):createVNode("div",{role:"button","aria-label":"close image preview button",class:"btn__close",onClick:ie},[createVNode(f,{type:"close"},null)]),o.toolbar?o.toolbar({toolbarMethods:{zoomIn:he,zoomOut:_e,rotate:ve,rotateLeft:ve,rotateRight:ke,resize:ce},zoomIn:he,zoomOut:_e,rotate:ve,rotateLeft:ve,rotateRight:ke,resize:ce}):createVNode(C,{zoomIn:he,zoomOut:_e,resize:ce,rotateLeft:ve,rotateRight:ke,rotateDisabled:e.rotateDisabled,zoomDisabled:e.zoomDisabled},null)])])};return()=>{let W;if(e.teleport){let J;return createVNode(Teleport,{to:e.teleport},{default:()=>[createVNode(Transition,{name:`${g}-fade`},j(J=G())?J:{default:()=>[J]})]})}return createVNode(Transition,{name:`${g}-fade`},j(W=G())?W:{default:()=>[W]})}}});const N=Object.assign(H,{install:e=>{e.component(H.name,H)}}),_sfc_main$1=defineComponent({__name:"PhotoViewer",setup(e){const n=inject(ViewContext.NAME),s=useRouter(),o=reactive({visible:!1,images:[],i:0});onMounted(()=>{n.device.addEventListener(PHOTO_VIEWER,i),s.beforeEach((c,u)=>o.visible?(l(),!1):!0)});function i(c,u,d){o.images=u,o.i=d||0,o.visible=!0}function l(){o.visible=!1}return(c,u)=>(openBlock(),createBlock(unref(N),{visible:o.visible,imgs:o.images,index:o.i,onHide:l},null,8,["visible","imgs","index"]))}}),_sfc_main=defineComponent({__name:"Root",setup(e){return(n,s)=>(openBlock(),createElementBlock(Fragment,null,[createVNode(_sfc_main$1),createVNode(ContextMenu),createVNode(AppLoading),createVNode(Toast)],64))}});function render(e,n,s){const o=createApp$1(newRootView(e.view)),i=newRouter(e.routes),l=new ViewContext(i,n,s);return o.provide(ViewContext.NAME,l),o.use(i),o.use(N),o.directive("bg",(c,u)=>{let d=u.value||"";c.style["background-size"]="cover",c.style["background-position"]="center center",c.style["background-image"]=`url('${d}')`}),{app:o,context:l}}function newRouter(e,n,s){return createRouter({routes:e,history:createWebHistory()})}function newRootView(e){return()=>[h$1(e),h$1(_sfc_main)]}function createApp(e){BaseApi.apiDomain=location.origin;const n=render({view:_sfc_main$5,routes},!0,e),s=[new App$1,new Page,new User(n.context,!1),new Player(n.context)];for(let o of s)n.app.provide(o.injectKey,o),n.context.stores[o.injectKey]=o;return{...n,stores:s}}const{app,stores,context}=createApp(!0);if(window.__ssr_init_state__)for(let e of window.__ssr_init_state__){let n=stores.find(s=>s.injectKey==e.name);n&&Object.assign(n.state,e.value)}app.mount("#app");const user=context.stores[User.KEY];user.initialize({push(e){console.info(e)}});const player=context.stores[Player.KEY];player.loadPlayerCache();player.startSyncFromApp();context.onReady();BaseApi.catchError=e=>{context.device.toast(e)};export{getBlankFillSize as $,App$1 as A,onMounted as B,watch as C,resolveDirective as D,withModifiers as E,Fragment as F,normalizeStyle as G,withDirectives as H,Imager as I,showAddPlaylistMenu as J,Album as K,LiveAction as L,myDevice as M,myApi as N,vModelText as O,Player as P,vModelSelect as Q,resolveComponent as R,authApi as S,Avatar as T,User as U,ViewContext as V,Coder as W,isEmail as X,questions as Y,Empty as Z,_export_sfc as _,useRoute as a,issue as a0,BaseApi as a1,distExports as a2,showCreatePlaylist as a3,Gepu as a4,WebPlugin as a5,createElementBlock as b,computed as c,defineComponent as d,createVNode as e,createBaseVNode as f,createCommentVNode as g,unref as h,inject as i,IconBtn as j,formatter as k,createBlock as l,Page as m,normalizeClass as n,openBlock as o,reactive as p,onBeforeUnmount as q,renderList as r,withAsyncContext as s,toDisplayString as t,useRouter as u,createTextVNode as v,withCtx as w,createStaticVNode as x,ref as y,zan as z};
